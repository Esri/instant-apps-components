import{r as s,h as t,H as i,g as o}from"./p-5bb33799.js";let r=class{constructor(t){s(this,t),this.instantAppsPopovers=new Map,this.beforeOpen=()=>Promise.resolve()}componentWillLoad(){var s;Array.from(null===(s=this.host.querySelector("[slot='popovers']"))||void 0===s?void 0:s.children).forEach(((s,t)=>{const i=s.getAttribute("ref-id");s.parent=this,s.index=t,this.instantAppsPopovers.set(i,s)})),this.host.addEventListener("calcitePopoverOpen",(s=>{const t=s.target.getAttribute("ref-id");this.currentId=t}))}render(){return t(i,null,t("slot",{name:"popovers"}))}next(){const s=Array.from(this.instantAppsPopovers.keys()),t=s.indexOf(this.currentId)+1,i=s[t];this.close(this.currentId),this.open(i)}previous(){const s=Array.from(this.instantAppsPopovers.keys()),t=s.indexOf(this.currentId)-1,i=s[t];this.close(this.currentId),this.open(i)}done(){this.endTour()}handlePopoverProps(s){var t;Array.from(null===(t=this.host.querySelector("[slot='popovers']"))||void 0===t?void 0:t.children).forEach((t=>{t.disableAction=s.disableAction,t.pagination=s.pagination}))}async open(s){return this.beforeOpen().then((()=>{var t;(null===(t=this.instantAppsPopovers.get(s))||void 0===t?void 0:t.firstElementChild).toggle(!0)}))}async close(s){var t;(null===(t=this.instantAppsPopovers.get(s))||void 0===t?void 0:t.firstElementChild).toggle(!1)}async beginTour(){this.inTour=!0,this.handlePopoverProps({pagination:!0,disableAction:!0});const s=Array.from(this.instantAppsPopovers.keys());this.open(s[0])}async endTour(){this.close(this.currentId),this.inTour=!1,this.handlePopoverProps({pagination:!1,disableAction:!1})}get host(){return o(this)}};r.style=":host{display:block}";export{r as instant_apps_popovers}