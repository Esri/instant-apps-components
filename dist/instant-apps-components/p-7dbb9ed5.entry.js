import{r as t,h as i,g as s,H as n}from"./p-5bb33799.js";import{g as o}from"./p-b27a88a3.js";let e=class{constructor(i){t(this,i),this.placement="trailing-start"}componentDidLoad(){this.getMessages()}componentDidUpdate(){this.popoverEl.referenceElement=this.referenceElement}render(){var t;return i("calcite-popover",{ref:t=>this.popoverEl=t,heading:this.popoverTitle,"auto-close":"true",dismissible:"true",placement:this.placement,"intl-close":null===(t=this.messages)||void 0===t?void 0:t.close,"trigger-disabled":"true","ref-id":this.refId},i("div",{class:"instant-apps-popover__content"},i("slot",{name:"action"}),i("section",null,this.content),this.parent.pagination?this.renderPagination():null))}renderPagination(){var t,s;const{index:n,messages:o,parent:e}=this,a=n===(null===(s=null===(t=this.parent)||void 0===t?void 0:t.instantAppsPopovers)||void 0===s?void 0:s.size)-1;return i("div",{key:"pagination-button-container",class:"instant-apps-popover__button-container"},0===n?null:i("calcite-button",{key:"prev",onClick:()=>null==e?void 0:e.previous(),appearance:"outline",color:"neutral"},null==o?void 0:o.back),i("calcite-button",{key:"next",onClick:()=>{a?null==e||e.done():null==e||e.next()}},a?null==o?void 0:o.done:null==o?void 0:o.next))}async getMessages(){const t=await o(this.el);this.messages=t[0]}get el(){return s(this)}};e.style=":host{display:block}.instant-apps-popover__content{padding:2.5%;max-width:25vw}.instant-apps-popover__content .instant-apps-popover__button-container{display:flex;align-items:center;justify-content:flex-end;margin-top:10px}.instant-apps-popover__content .instant-apps-popover__button-container calcite-button:last-child{margin-left:5px}";let a=class{constructor(i){t(this,i),this.instantAppsPopovers=new Map,this.pagination=!1,this.beforeOpen=()=>Promise.resolve()}componentWillLoad(){var t;Array.from(null===(t=this.host.querySelector("[slot='popovers']"))||void 0===t?void 0:t.children).forEach(((t,i)=>{const s=t.getAttribute("ref-id");t.parent=this,t.index=i,this.instantAppsPopovers.set(s,t)})),this.host.addEventListener("calcitePopoverOpen",(t=>{const i=t.target.getAttribute("ref-id");this.currentId=i}))}render(){return i(n,null,i("slot",{name:"popovers"}))}next(){const t=Array.from(this.instantAppsPopovers.keys()),i=t.indexOf(this.currentId)+1,s=t[i];this.close(this.currentId),this.open(s)}previous(){const t=Array.from(this.instantAppsPopovers.keys()),i=t.indexOf(this.currentId)-1,s=t[i];this.close(this.currentId),this.open(s)}done(){this.close(this.currentId)}async open(t){return this.beforeOpen().then((()=>{var i;(null===(i=this.instantAppsPopovers.get(t))||void 0===i?void 0:i.firstElementChild).toggle(!0)}))}async close(t){var i;(null===(i=this.instantAppsPopovers.get(t))||void 0===i?void 0:i.firstElementChild).toggle(!1)}get host(){return s(this)}};a.style=":host{display:block}";export{e as instant_apps_popover,a as instant_apps_popovers}