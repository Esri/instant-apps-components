import{r as t,h as n,H as e,g as r,a as i}from"./p-e510b9d9.js";let o=class{constructor(n){t(this,n)}render(){return n(e,null,n("header",{style:{backgroundColor:this.backgroundColor}},n("span",{class:"instant-apps-header__header-content"},this.logoImage&&this.logoLink?n("a",{href:`${this.logoLink}`,target:"_blank"},n("img",{src:`${this.logoImage}`,alt:`${this.logoImageAltText}`})):this.logoImage?n("img",{src:`${this.logoImage}`,alt:this.logoImageAltText}):"",n("h1",{style:{color:this.textColor}},this.titleText)),n("slot",{name:"actions-end"})))}};function s(t){return null!=t}function a(t){return null==t}function l(t){return t}function u(t){return s(t)&&t.destroy(),null}function c(t){return s(t)&&t.remove(),null}function h(t){return t}function f(t,n,e){if(a(t)&&a(n))return!0;if(a(t)||a(n)||t.length!==n.length)return!1;if(e){for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1}else for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}o.style=":host{width:100%}:host header{box-sizing:border-box;display:flex;align-items:center;justify-content:space-between;width:100%;height:5%;padding:0 0.5%;background-color:#0079c1;padding-top:5px;padding-bottom:5px}:host header .instant-apps-header__header-content{display:flex;align-items:center}:host header .instant-apps-header__header-content img{width:6%;padding:0 5px}:host header .instant-apps-header__header-content a{display:flex;align-items:center;width:8%;padding-right:5px}:host header .instant-apps-header__header-content a img{width:100%;padding-right:0}:host header .instant-apps-header__header-content h1{margin:0;font-size:18px;color:var(--calcite-ui-text-inverse);font-weight:430}";class d{constructor(){this.last=0}}const p=new d;function m(t,n,e,r){r=r||p;const i=Math.max(0,r.last-10);for(let o=i;o<e;++o)if(t[o]===n)return r.last=o,o;const o=Math.min(i,e);for(let e=0;e<o;++e)if(t[e]===n)return r.last=e,e;return-1}const y=new Set;var g,v;let w;var b,M,_,x,S;function A(t){return"function"==typeof w[t]?w[t]=w[t](globalThis):w[t]}function T(t,n){let e;if(n)for(e in t)t.hasOwnProperty(e)&&(void 0===t[e]?delete t[e]:t[e]instanceof Object&&T(t[e],!0));else for(e in t)t.hasOwnProperty(e)&&void 0===t[e]&&delete t[e];return t}function k(t){if(!t||"object"!=typeof t||"function"==typeof t)return t;const n=function(t){if(function(t){return t instanceof Int8Array||t&&t.constructor&&"Int8Array"===t.constructor.name}(t)||function(t){return t instanceof Uint8Array||t&&t.constructor&&"Uint8Array"===t.constructor.name}(t)||function(t){return t instanceof Uint8ClampedArray||t&&t.constructor&&"Uint8ClampedArray"===t.constructor.name}(t)||function(t){return t instanceof Int16Array||t&&t.constructor&&"Int16Array"===t.constructor.name}(t)||function(t){return t instanceof Uint16Array||t&&t.constructor&&"Uint16Array"===t.constructor.name}(t)||function(t){return t instanceof Int32Array||t&&t.constructor&&"Int32Array"===t.constructor.name}(t)||function(t){return t instanceof Uint32Array||t&&t.constructor&&"Uint32Array"===t.constructor.name}(t)||function(t){return t instanceof Float32Array||t&&t.constructor&&"Float32Array"===t.constructor.name}(t)||function(t){return t instanceof Float64Array||t&&t.constructor&&"Float64Array"===t.constructor.name}(t))return function(t,n,e){if(t.slice)return t.slice(n,e);void 0===n?n=0:(n<0&&(n+=t.length),n=Math.min(t.length,Math.max(0,n))),void 0===e?e=t.length:(e<0&&(e+=t.length),e=Math.min(t.length,Math.max(0,e)));const r=Math.max(0,e-n),i=new t.constructor(r);for(let e=0;e<r;e++)i[e]=t[n+e];return i}(t);if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const n=new Map;return t.forEach(((t,e)=>{n.set(e,k(t))})),n}if(t instanceof Set){const n=new Set;return t.forEach((t=>{n.add(k(t))})),n}return null}(t);if(s(n))return n;if(function(t){return"function"==typeof t.clone}(t))return t.clone();if(function(t){return"function"==typeof t.map&&"function"==typeof t.forEach}(t))return t.map(k);if(function(t){return"function"==typeof t.notifyChange&&"function"==typeof t.watch}(t))return t.clone();const e={};for(const n of Object.getOwnPropertyNames(t))e[n]=k(t[n]);return e}function R(t,n){return t===n||"number"==typeof t&&isNaN(t)&&"number"==typeof n&&isNaN(n)||"function"==typeof(t||{}).getTime&&"function"==typeof(n||{}).getTime&&t.getTime()===n.getTime()||!1}function O(t,n){if(null!=n)return n[t]||P(t.split("."),!1,n)}function E(t,n,e){const r=t.split("."),i=r.pop(),o=P(r,!0,e);o&&i&&(o[i]=n)}function P(t,n,e){let r=e;for(const e of t){if(null==r)return;if(!(e in r)){if(!n)return;r[e]={}}r=r[e]}return r}function C(t,n,e){return n?Object.keys(n).reduce((function(t,r){let i=t[r],o=n[r];return i===o?t:void 0===i?(t[r]=k(o),t):(Array.isArray(o)||Array.isArray(t)?(i=t[r]=i?Array.isArray(i)?i.concat():[i]:[],o&&(Array.isArray(o)||(o=[o]),e?o.forEach((t=>{-1===i.indexOf(t)&&i.push(t)})):t[r]=o.concat())):o&&"object"==typeof o?t[r]=C(i,o,e):t.hasOwnProperty(r)&&!n.hasOwnProperty(r)||(t[r]=o),t)}),t||{}):t}w=null!=(g=globalThis.dojoConfig)&&g.has||null!=(v=globalThis.esriConfig)&&v.has?{...null==(b=globalThis.dojoConfig)?void 0:b.has,...null==(M=globalThis.esriConfig)?void 0:M.has}:{},A.add=(t,n,e,r)=>((r||void 0===w[t])&&(w[t]=n),e&&A(t)),A.cache=w,A.add("esri-deprecation-warnings",!0),(()=>{var t;A.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const n="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(A.add("host-browser",n),A.add("host-node","object"==typeof globalThis.process&&(null==(t=globalThis.process.versions)?void 0:t.node)&&globalThis.process.versions.v8),A.add("dom",n),A("host-browser")){const t=navigator,n=t.userAgent,e=t.appVersion,r=parseFloat(e);if(A.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),A.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),A.add("khtml",e.includes("Konqueror")?r:void 0),A.add("edge",parseFloat(n.split("Edge/")[1])||void 0),A.add("opr",parseFloat(n.split("OPR/")[1])||void 0),A.add("webkit",!A("wp")&&!A("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),A.add("chrome",!A("edge")&&!A("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),A.add("android",!A("wp")&&parseFloat(n.split("Android ")[1])||void 0),A.add("safari",!e.includes("Safari")||A("wp")||A("chrome")||A("android")||A("edge")||A("opr")?void 0:parseFloat(e.split("Version/")[1])),A.add("mac",e.includes("Macintosh")),!A("wp")&&n.match(/(iPhone|iPod|iPad)/)){const t=RegExp.$1.replace(/P/,"p"),e=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",r=parseFloat(e.replace(/_/,".").replace(/_/g,""));A.add(t,r),A.add("ios",r)}A.add("trident",parseFloat(e.split("Trident/")[1])||void 0),A("webkit")||(!n.includes("Gecko")||A("wp")||A("khtml")||A("trident")||A("edge")||A.add("mozilla",r),A("mozilla")&&A.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const t=navigator.userAgent,n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),e=/iPhone/i.test(t);n&&A.add("esri-mobile",n),e&&A.add("esri-iPhone",e),A.add("esri-geolocation",!!navigator.geolocation)}A.add("esri-canvas-svg-support",!A("trident")),A.add("esri-wasm","WebAssembly"in globalThis),A.add("esri-shared-array-buffer",(()=>{const t="SharedArrayBuffer"in globalThis,n=!1===globalThis.crossOriginIsolated;return t&&!n})),A.add("esri-atomics","Atomics"in globalThis),A.add("esri-workers","Worker"in globalThis),A.add("web-feat:cache","caches"in globalThis),A.add("esri-workers-arraybuffer-transfer",!A("safari")||Number(A("safari"))>=12),A.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),A.add("featurelayer-simplify-payload-size-factors",[1,1,4]),A.add("featurelayer-snapshot-enabled",!0),A.add("featurelayer-snapshot-point-min-threshold",8e4),A.add("featurelayer-snapshot-point-max-threshold",4e5),A.add("featurelayer-snapshot-point-coverage",.1),A.add("featurelayer-advanced-symbols",!1),A.add("featurelayer-pbf",!0),A.add("featurelayer-pbf-statistics",!1),A.add("feature-layers-workers",!0),A.add("feature-polyline-generalization-factor",1),A.add("mapview-transitions-duration",200),A.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),A.add("mapserver-pbf-enabled",!1),A("host-webworker")||A("host-browser")&&(A.add("esri-csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),A.add("esri-image-decode",(()=>{if("decode"in new Image){const t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void t.decode().then((()=>{A.add("esri-image-decode",!0,!0,!0)})).catch((()=>{A.add("esri-image-decode",!1,!0,!0)}))}return!1})),A.add("esri-url-encodes-apostrophe",(()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")})))})();class j{constructor(t,n={ignoreUnknown:!1,useNumericKeys:!1}){this.jsonToAPI=t,this.options=n,this.apiValues=[],this.jsonValues=[],this.apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this.apiToJSON),this.jsonValues=this._getKeysSorted(this.jsonToAPI),this.read=t=>this.fromJSON(t),this.write=(t,n,e)=>{const r=this.toJSON(t);void 0!==r&&E(e,r,n)},this.write.isJSONMapWriter=!0}toJSON(t){if(this.apiToJSON.hasOwnProperty(t)){const n=this.apiToJSON[t];return this.options.useNumericKeys?+n:n}return this.options.ignoreUnknown?void 0:t}fromJSON(t){return this.jsonToAPI.hasOwnProperty(t)?this.jsonToAPI[t]:this.options.ignoreUnknown?void 0:t}_invertMap(t){const n={};for(const e in t)n[t[e]]=e;return n}_getKeysSorted(t){const n=[];for(const e in t)n.push(e);return n.sort(),n}}function I(){return function(t,n){return new j(t,{ignoreUnknown:!0,...n})}}let N;const $=null!=(_=null==(x=globalThis.esriConfig)?void 0:x.locale)?_:null==(S=globalThis.dojoConfig)?void 0:S.locale;function U(){var t,n;return null!=(t=null!=$?$:null==(n=globalThis.navigator)?void 0:n.language)?t:"en"}function G(){return void 0===N&&(N=U()),N}const z=[];function D(t){return z.push(t),{remove(){z.splice(z.indexOf(t),1)}}}const q=[];function F(t){return q.push(t),{remove(){z.splice(q.indexOf(t),1)}}}null==globalThis.addEventListener||globalThis.addEventListener("languagechange",(function(){const t=U();N!==t&&(N=t,[...q].forEach((n=>{n.call(null,t)})),[...z].forEach((n=>{n.call(null,t)})))}));const L={year:"numeric",month:"numeric",day:"numeric"},W={year:"numeric",month:"long",day:"numeric"},H={year:"numeric",month:"short",day:"numeric"},J={year:"numeric",month:"long",weekday:"long",day:"numeric"},Z={hour:"numeric",minute:"numeric"},B={...Z,second:"numeric"},Y={"short-date":L,"short-date-short-time":{...L,...Z},"short-date-short-time-24":{...L,...Z,hour12:!1},"short-date-long-time":{...L,...B},"short-date-long-time-24":{...L,...B,hour12:!1},"short-date-le":L,"short-date-le-short-time":{...L,...Z},"short-date-le-short-time-24":{...L,...Z,hour12:!1},"short-date-le-long-time":{...L,...B},"short-date-le-long-time-24":{...L,...B,hour12:!1},"long-month-day-year":W,"long-month-day-year-short-time":{...W,...Z},"long-month-day-year-short-time-24":{...W,...Z,hour12:!1},"long-month-day-year-long-time":{...W,...B},"long-month-day-year-long-time-24":{...W,...B,hour12:!1},"day-short-month-year":H,"day-short-month-year-short-time":{...H,...Z},"day-short-month-year-short-time-24":{...H,...Z,hour12:!1},"day-short-month-year-long-time":{...H,...B},"day-short-month-year-long-time-24":{...H,...B,hour12:!1},"long-date":J,"long-date-short-time":{...J,...Z},"long-date-short-time-24":{...J,...Z,hour12:!1},"long-date-long-time":{...J,...B},"long-date-long-time-24":{...J,...B,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Z,"long-time":B},X=I()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});X.toJSON.bind(X),X.fromJSON.bind(X);const K={ar:"ar-u-nu-latn-ca-gregory"};let V=new WeakMap,Q=Y["short-date-short-time"];function tt(t,n){return function(t){const n=t||Q;if(!V.has(n)){const t=G(),e=K[G()]||t;V.set(n,new Intl.DateTimeFormat(e,n))}return V.get(n)}(n).format(t)}F((()=>{V=new WeakMap,Q=Y["short-date-short-time"]}));const nt={ar:"ar-u-nu-latn"};let et=new WeakMap,rt={};function it(t,n){return function(t){const n=t||rt;if(!et.has(n)){const e=G(),r=nt[G()]||e;et.set(n,new Intl.NumberFormat(r,t))}return et.get(n)}(n).format(t)}var ot;F((()=>{et=new WeakMap,rt={}}));const st={apiKey:void 0,applicationUrl:null==(ot=globalThis.location)?void 0:ot.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(function(t,n,e=!1){C(st,n,e)}(0,globalThis.esriConfig,!0),delete st.has),st.assetsPath||(st.assetsPath=`https://js.arcgis.com/${"4.23.7".slice(0,-2)}/@arcgis/core/assets`),st.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath"),Object.defineProperty(st,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}}),st.request.corsEnabledServers=[],st.request.corsEnabledServers.push=function(){return console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664"),0};const at=/\{([^\}]+)\}/g;function lt(t){return null==t?"":t}function ut(t,n){return t.replace(at,"object"==typeof n?(t,e)=>lt(O(e,n)):(t,e)=>lt(n(e)))}const ct={info:0,warn:1,error:2,none:3};class ht{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=t.level&&(this.level=t.level),null!=t.writer&&(this.writer=t.writer),this._module=t.module,ht._loggers[this.module]=this;const n=this.module.lastIndexOf(".");-1!==n&&(this._parent=ht.getLogger(this.module.slice(0,n)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get testSingleton(){return{resetLoggers(t={}){const n=ht._loggers;return ht._loggers=t,n},set throttlingDisabled(t){ht._throttlingDisabled=t}}}static getLogger(t){let n=ht._loggers[t];return n||(n=new ht({module:t})),n}_log(t,n,...e){if(this._matchLevel(t)){if("always"!==n&&!ht._throttlingDisabled){const r=this._argsToKey(e),i=this._loggedMessages[t].get(r);if("once"===n&&null!=i||"oncePerTick"===n&&i&&i>=ht._tickCounter)return;this._loggedMessages[t].set(r,ht._tickCounter),ht._scheduleTickCounterIncrement()}for(const n of st.log.interceptors)if(n(t,this.module,...e))return;this._inheritedWriter()(t,this.module,...e)}}_parentWithMember(t,n){let e=this;for(;s(e);){const n=e[t];if(s(n))return n;e=e.parent}return n}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,n,...e){console[t](`[${n}]`,...e)}_matchLevel(t){return ct[this._parentWithMember("level",st.log.level?st.log.level:"warn")]<=ct[t]}_argsToKey(...t){return function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return n}(JSON.stringify(t,((t,n)=>"object"!=typeof n||Array.isArray(n)?n:"[Object]")))}static _scheduleTickCounterIncrement(){ht._tickCounterScheduled||(ht._tickCounterScheduled=!0,Promise.resolve().then((()=>{ht._tickCounter++,ht._tickCounterScheduled=!1})))}}ht._loggers={},ht._tickCounter=0,ht._tickCounterScheduled=!1,ht._throttlingDisabled=!1;const ft=ht.getLogger("esri.intl");function dt(t,n,e={}){const{format:r={}}=e;return ut(t,(t=>function(t,n,e){let r,i;const o=t.indexOf(":");if(-1===o?r=t.trim():(r=t.slice(0,o).trim(),i=t.slice(o+1).trim()),!r)return"";const s=O(r,n);if(null==s)return"";const a=e[i]||e[r];return a?function(t,n){switch(n.type){case"date":return tt(t,n.intlOptions);case"number":return it(t,n.intlOptions);default:return ft.warn("missing format descriptor for key {key}"),pt(t)}}(s,a):i?function(t,n){switch(n.toLowerCase()){case"dateformat":return tt(t);case"numberformat":return it(t);default:return ft.warn(`inline format is unsupported since 4.12: ${n}`),/^(dateformat|datestring)/i.test(n)?tt(t):/^numberformat/i.test(n)?it(t):pt(t)}}(s,i):pt(s)}(t,n,r)))}function pt(t){switch(typeof t){case"string":return t;case"number":return it(t);case"boolean":return""+t;default:return t instanceof Date?tt(t):""}}class mt{constructor(t,n,e){this.name=t,this.details=e,this.message=void 0,this instanceof mt&&(this.message=n&&function(t,n){return t.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,(function(t,e){if(""===e)return"$";const r=O(e,n),i=null==r?"":r;if(void 0===i)throw new Error(`could not find key "${e}" in template`);return i.toString()}))}(n,e)||"")}toString(){return"["+this.name+"]: "+this.message}}class yt extends mt{constructor(t,n,e){if(super(t,n,e),!(this instanceof yt))return new yt(t,n,e)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((t,n)=>{if(n&&"object"==typeof n&&"function"==typeof n.toJSON)return n;try{return k(n)}catch(t){return"[object]"}})))}}catch(t){throw ht.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new yt(t.name,t.message,t.details)}}yt.prototype.type="error";const gt=(vt=globalThis,{setTimeout:(t,n)=>{const e=vt.setTimeout(t,n);return{remove:()=>vt.clearTimeout(e)}}});var vt;function wt(t){return t&&("function"==typeof t.on||"function"==typeof t.addEventListener)}function bt(t,n,e){if(!wt(t))throw new TypeError("target is not a Evented or EventTarget object");if("on"in t)return t.on(n,e);if(Array.isArray(n)){const r=n.slice();for(const n of r)t.addEventListener(n,e);return{remove(){for(const n of r)t.removeEventListener(n,e)}}}return t.addEventListener(n,e),{remove(){t.removeEventListener(n,e)}}}function Mt(t="Aborted"){return new yt("AbortError",t)}function _t(t){return s(t)?"aborted"in t?t:t.signal:t}function xt(t){const n=_t(t);return s(n)&&n.aborted}function St(t){if(!Tt(t))throw t}function At(t,n){const e=_t(t);if(!a(e)){if(!e.aborted)return function(t,n,e){if(!wt(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(n,e);const r=bt(t,n,(n=>{r.remove(),e.call(t,n)}));return{remove(){r.remove()}}}(e,"abort",(()=>n()));n()}}function Tt(t){return t&&"AbortError"===t.name}function kt(){let t=null;const n=new Promise(((n,e)=>{t={promise:void 0,resolve:n,reject:e}}));return t.promise=n,t}function Rt(t){if(!t)return;if("function"!=typeof t.forEach){const n=Object.keys(t);return Rt(n.map((n=>t[n]))).then((t=>{const e={};return n.forEach(((n,r)=>e[n]=t[r])),e}))}const n=t;return function(t){return new Promise(((n,e)=>{try{t(n)}catch(t){Promise.resolve().then((()=>e(t)))}}))}((t=>{const e=[];let r=n.length;0===r&&t(e),n.forEach((n=>{const i={promise:n||Promise.resolve(n)};e.push(i),i.promise.then((t=>{i.value=t})).catch((t=>{i.error=t})).then((()=>{--r,0===r&&t(e)}))}))}))}function Ot(t){return function(t){return t&&"function"==typeof t.then}(t)?t:Promise.resolve(t)}function Et(t,n=-1){let e,r,i,o,s=null;const a=(...l)=>{if(e){r=l,o&&o.reject(Mt()),o=kt();const t=o.promise;if(s){const t=s;s=null,t.abort()}return t}if(i=o||kt(),o=null,n>0){const r=new AbortController;e=Ot(t(...l,r.signal));const i=e;(function(t){const n=new AbortController;return At(void 0,(()=>n.abort())),new Promise(((e,r)=>{let i=setTimeout((()=>{i=0,e(undefined)}),t);At(n,(()=>{i&&(clearTimeout(i),r(Mt()))}))}))})(n).then((()=>{e===i&&(o?r.abort():s=r)}))}else e=1,e=Ot(t(...l));const u=()=>{const t=r;r=i=e=s=null,null!=t&&a(...t)},c=e,h=i;return c.then(u,u),c.then(h.resolve,h.reject),h.promise};return a}function Pt(){let t,n;const e=new Promise(((e,r)=>{t=e,n=r})),r=n=>{t(n)};return r.resolve=n=>t(n),r.reject=t=>n(t),r.timeout=(t,n)=>gt.setTimeout((()=>r.reject(n)),t),r.promise=e,r}const Ct=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,jt={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function It(t){var n;return null!=(n=jt[t])&&n}const Nt=[],$t=new Map;async function Ut(t){const n=G();$t.has(t)||$t.set(t,async function(t,n){const e=[];for(const r of Nt)if(Gt(r.pattern,t))try{return await r.fetchMessageBundle(t,n)}catch(t){e.push(t)}if(e.length)throw new yt("intl:message-bundle-error",`Errors occurred while loading "${t}"`,{errors:e});throw new yt("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`)}(t,n));const e=$t.get(t);return await zt.add(e),e}function Gt(t,n){return"string"==typeof t?n.startsWith(t):t.test(n)}F((()=>{$t.clear()}));const zt=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=kt())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}},Dt=ht.getLogger("esri.core.urlUtils"),qt=st.request,Ft="esri/config: esriConfig.request.proxyUrl is not set.",Lt=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,Wt=/^\s*http:/i,Ht=/^\s*https:/i,Jt=/^\s*file:/i,Zt=/:\d+$/,Bt=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Yt=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Xt=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class Kt{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let n=this.uri.match(Yt);this.scheme=n[2]||(n[1]?"":null),this.authority=n[4]||(n[3]?"":null),this.path=n[5],this.query=n[7]||(n[6]?"":null),this.fragment=n[9]||(n[8]?"":null),null!=this.authority&&(n=this.authority.match(Xt),this.user=n[3]||null,this.password=n[4]||null,this.host=n[6]||n[7],this.port=n[9]||null)}toString(){return this.uri}}const Vt={};let Qt=new Kt(st.applicationUrl),tn=function(){const t=Qt.path,n=t.substring(0,t.lastIndexOf(t.split("/")[t.split("/").length-1]));return`${Qt.scheme}://${Qt.host}${null!=Qt.port?`:${Qt.port}`:""}${n}`}();function nn(t){const n={path:null,query:null},e=new Kt(t),r=t.indexOf("?");return null===e.query?n.path=t:(n.path=t.substring(0,r),n.query=en(e.query)),e.fragment&&(n.hash=e.fragment,null===e.query&&(n.path=n.path.substring(0,n.path.length-(e.fragment.length+1)))),n}function en(t){const n=t.split("&"),e={};for(const t of n){if(!t)continue;const n=t.indexOf("=");let r,i;n<0?(r=decodeURIComponent(t),i=""):(r=decodeURIComponent(t.slice(0,n)),i=decodeURIComponent(t.slice(n+1)));let o=e[r];"string"==typeof o&&(o=e[r]=[o]),Array.isArray(o)?o.push(i):e[r]=i}return e}function rn(t){return t&&"object"==typeof t&&"toJSON"in t&&"function"==typeof t.toJSON}function on(t,n){return t?n&&"function"==typeof n?Object.keys(t).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(n(e,t[e])))).join("&"):Object.keys(t).map((e=>{const r=t[e];if(null==r)return"";const i=encodeURIComponent(e)+"=",o=n&&n[e];return o?i+encodeURIComponent(o(r)):Array.isArray(r)?r.map((t=>rn(t)?i+encodeURIComponent(JSON.stringify(t)):i+encodeURIComponent(t))).join("&"):rn(r)?i+encodeURIComponent(JSON.stringify(r)):i+encodeURIComponent(r)})).filter((t=>t)).join("&"):""}const sn={path:"",query:""};function an(t){const n=t.indexOf("?");return-1!==n?(sn.path=t.slice(0,n),sn.query=t.slice(n+1)):(sn.path=t,sn.query=null),sn}function ln(t){return(t=An(t=function(t){return t&&"/"===t[t.length-1]?t:`${t}/`}(t=an(t).path),!0)).toLowerCase()}function un(t){const n=qt.proxyRules,e=ln(t);for(let t=0;t<n.length;t++)if(0===e.indexOf(n[t].urlPrefix))return n[t]}function cn(t,n,e=!1){const r=Tn(t),i=Tn(n);return!(!e&&r.scheme!==i.scheme)&&null!=r.host&&null!=i.host&&r.host.toLowerCase()===i.host.toLowerCase()&&r.port===i.port}function hn(t){if("string"==typeof t){if(!gn(t))return!0;t=Tn(t)}if(cn(t,Qt))return!0;const n=qt.trustedServers||[];for(let e=0;e<n.length;e++){const r=fn(n[e]);for(let n=0;n<r.length;n++)if(cn(t,r[n]))return!0}return!1}function fn(t){return Vt[t]||(Vt[t]=_n(t)||Mn(t)?[new Kt(dn(t))]:[new Kt(`http://${t}`),new Kt(`https://${t}`)]),Vt[t]}function dn(t,n=tn,e){return Mn(t)?e&&e.preserveProtocolRelative?t:"http"===Qt.scheme&&Qt.authority===yn(t).slice(2)?`http:${t}`:`https:${t}`:_n(t)?t:mn("/"===t[0]?function(t){const n=t.indexOf("//"),e=t.indexOf("/",n+2);return-1===e?t:t.slice(0,e)}(n):n,t)}function pn(t){return function(t){const n=qt.httpsDomains;if(!function(t){return Wt.test(t)||"http"===Qt.scheme&&Mn(t)}(t))return t;const e=t.indexOf("/",7);let r;if(r=-1===e?t:t.slice(0,e),r=r.toLowerCase().slice(7),Zt.test(r)){if(!r.endsWith(":80"))return t;r=r.slice(0,-3),t=t.replace(":80","")}return"http"===Qt.scheme&&r===Qt.authority&&!Bt.test(t)||(Sn()&&r===Qt.authority||n&&n.some((t=>r===t||r.endsWith(`.${t}`)))||Sn()&&!un(t))&&(t=xn(t)),t}(t=function(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(t=function(t){if(/^https?:\/\//i.test(t)){const n=an(t);t=(t=n.path.replace(/\/{2,}/g,"/")).replace("/","//"),n.query&&(t+=`?${n.query}`)}return t}(t=dn(t=t.trim()))))}function mn(...t){const n=t.filter(s);if(!n||!n.length)return;const e=[];if(gn(n[0])){const t=n[0],r=t.indexOf("//");-1!==r&&(e.push(t.slice(0,r+1)),function(t){return Jt.test(t)}(n[0])&&(e[0]+="/"),n[0]=t.slice(r+2))}else"/"===n[0][0]&&e.push("");const r=n.reduce(((t,n)=>n?t.concat(n.split("/")):t),[]);for(let t=0;t<r.length;t++){const n=r[t];".."===n&&e.length>0&&".."!==e[e.length-1]?e.pop():(!n&&t===r.length-1||n&&("."!==n||0===e.length))&&e.push(n)}return e.join("/")}function yn(t,n=!1){if(vn(t)||wn(t))return null;let e=t.indexOf("://");if(-1===e&&Mn(t))e=2;else{if(-1===e)return null;e+=3}const r=t.indexOf("/",e);return-1!==r&&(t=t.slice(0,r)),n&&(t=An(t,!0)),t}function gn(t){return Mn(t)||_n(t)}function vn(t){return null!=t&&"blob:"===t.slice(0,5)}function wn(t){return"data:"===t.slice(0,5)}function bn(t){return btoa(String.fromCharCode.apply(null,t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Mn(t){return null!=t&&void 0!==t&&"/"===t[0]&&"/"===t[1]}function _n(t){return Lt.test(t)}function xn(t){return Mn(t)?`https:${t}`:t.replace(Wt,"https:")}function Sn(){return"https"===Qt.scheme}function An(t,n=!1){return Mn(t)?t.slice(2):(t=t.replace(Lt,""),n&&t.length>1&&"/"===t[0]&&"/"===t[1]&&(t=t.slice(2)),t)}function Tn(t){return"string"==typeof t?new Kt(dn(t)):(t.scheme||(t.scheme=Qt.scheme),t)}function kn(t,n){const e=nn(t),r=e.query||{};for(const t in n)r[t]=n[t];const i=on(r);return i?`${e.path}?${i}`:e.path}let Rn;function On(t){Rn=t}A("host-webworker")||(A("edge")||A("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser");const En=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function Pn(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}async function Cn(t,n){var e;const r=wn(t),i=vn(t);i||r||(t=pn(t));const o={url:t,requestOptions:{...n}};let s=function(t){const n=n=>null==n||n instanceof RegExp&&n.test(t)||"string"==typeof n&&t.startsWith(n),e=qt.interceptors;if(e)for(const t of e)if(Array.isArray(t.urls)){if(t.urls.some(n))return t}else if(n(t.urls))return t;return null}(t);if(s){const t=await async function(t,n){if(null!=t.responseData)return t.responseData;if(t.headers&&(n.requestOptions.headers={...n.requestOptions.headers,...t.headers}),t.query&&(n.requestOptions.query={...n.requestOptions.query,...t.query}),t.before){let e,r;try{r=await t.before(n)}catch(t){e=Fn("request:interceptor",t,n)}if((r instanceof Error||r instanceof yt)&&(e=Fn("request:interceptor",r,n)),e)throw t.error&&t.error(e),e;return r}}(s,o);if(null!=t)return{data:t,getHeader:zn,requestOptions:o.requestOptions,url:o.url};s.after||s.error||(s=null)}if(t=o.url,"image"===(n=o.requestOptions).responseType){if(A("host-webworker")||A("host-node"))throw Fn("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),o)}else if(r)throw Fn("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+n.responseType),o);if("head"===n.method){if(n.body)throw Fn("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),o);if(r||i)throw Fn("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),o)}if(await async function(){A("host-webworker")?jn||(jn=await import("./p-70ecda3d.js")):Cn._abortableFetch||(Cn._abortableFetch=globalThis.fetch.bind(globalThis))}(),jn)return jn.execute(t,n);const a=new AbortController;At(n,(()=>a.abort()));const l={controller:a,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:s,params:o,redoRequest:!1,useIdentity:In.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},u=await async function(t){var n,e;let r,i;await async function(t){const n=t.params.url,e=t.params.requestOptions,r=t.controller.signal,i=e.body;let o=null,s=null,a=null;if(Nn&&"HTMLFormElement"in globalThis&&(i instanceof FormData?o=i:i instanceof HTMLFormElement&&(s=i,o=new FormData(s))),"string"==typeof i&&(a=i),t.fetchOptions={cache:e.cacheBust&&!Cn._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:e.headers||{},method:"head"===e.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:r},(o||a)&&(t.fetchOptions.body=o||a),"anonymous"===e.authMode&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(n)||e.query&&e.query.token||o&&o.get&&o.get("token")||s&&s.elements.token),!t.hasToken&&st.apiKey&&function(t){const n=yn(t,!0);return n&&n.endsWith(".arcgis.com")&&!En.includes(n)&&!t.endsWith("/sharing/rest/generateToken")}(n)&&(e.query||(e.query={}),e.query.token=st.apiKey,t.hasToken=!0),t.useIdentity&&!t.hasToken&&!t.credentialToken&&!Wn(n)&&!xt(r)){let i;"immediate"===e.authMode?(await Ln(),i=await Rn.getCredential(n,{signal:r}),t.credential=i):"no-prompt"===e.authMode?(await Ln(),i=await Rn.getCredential(n,{prompt:!1,signal:r}).catch((()=>{})),t.credential=i):Rn&&(i=Rn.findCredential(n)),i&&(t.credentialToken=i.token,t.useSSL=!!i.ssl)}}(t);try{do{[r,i]=await Hn(t)}while(!await Zn(t,r,i))}catch(n){const e=Fn("request:server",n,t.params,r);throw e.details.ssl=t.useSSL,t.interceptor&&t.interceptor.error&&t.interceptor.error(e),e}const o=t.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(o)&&!t.hasToken&&!t.credentialToken&&null!=(n=i)&&null!=(e=n.user)&&e.username&&!hn(o)){const t=yn(o,!0);t&&In.trustedServers.push(t)}const s=t.credential;if(s&&Rn){const t=Rn.findServerInfo(s.server);let n=t&&t.owningSystemUrl;if(n){n=n.replace(/\/?$/,"/sharing");const t=Rn.findCredential(n,s.userId);t&&-1===Rn._getIdenticalSvcIdx(n,t)&&t.resources.unshift(n)}}return{data:i,getHeader:r?t=>r.headers.get(t):zn,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}(l);return null==(e=s)||null==e.after||e.after(u),u}let jn;const In=st.request,Nn="FormData"in globalThis,$n=[499,498,403,401],Un=["COM_0056","COM_0057","SB_0008"],Gn=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],zn=()=>null,Dn=Symbol();function qn(t){const n=yn(t);return!n||n.endsWith(".arcgis.com")||Cn._corsServers.includes(n)||hn(n)}function Fn(t,n,e,r){let i="Error";const o={url:e.url,requestOptions:e.requestOptions,getHeader:zn,ssl:!1};if(n instanceof yt)return n.details?(n.details=k(n.details),n.details.url=e.url,n.details.requestOptions=e.requestOptions):n.details=o,n;if(n){const t=r&&(t=>r.headers.get(t)),e=r&&r.status,s=n.message;s&&(i=s),t&&(o.getHeader=t),o.httpStatus=(null!=n.httpCode?n.httpCode:n.code)||e||0,o.subCode=n.subcode,o.messageCode=n.messageCode,o.messages="string"==typeof n.details?[n.details]:n.details,o.raw=Dn in n?n[Dn]:n}return Tt(n)?Mt():new yt(t,i,o)}async function Ln(){Rn||await import("./p-306693e3.js")}function Wn(t){return Gn.some((n=>n.test(t)))}async function Hn(t){let n=t.params.url;const e=t.params.requestOptions,r=t.fetchOptions,i=vn(n)||wn(n),o=e.responseType||"json",s=i?0:null!=e.timeout?e.timeout:In.timeout;let a=!1;if(!i){t.useSSL&&(n=xn(n)),e.cacheBust&&"default"===r.cache&&(n=function(t,n,e){const r=nn(t),i=r.query||{};return i["request.preventCache"]=String(e),`${r.path}?${on(i)}`}(n,0,Date.now()));let i={...e.query};t.credentialToken&&(i.token=t.credentialToken);let o=on(i);A("esri-url-encodes-apostrophe")&&(o=o.replace(/'/g,"%27"));const s=n.length+1+o.length;let l;a="delete"===e.method||"post"===e.method||"put"===e.method||!!e.body||s>In.maxUrlLength;const u=e.useProxy||!!un(n);if(u){const t=function(t=!1){let n,e=qt.proxyUrl;if("string"==typeof t){n=function(t){return Ht.test(t)||"https"===Qt.scheme&&Mn(t)}(t);const r=un(t);r&&(e=r.proxyUrl)}else n=!!t;if(!e)throw Dt.warn(Ft),new yt("urlutils:proxy-not-set",Ft);return n&&Sn()&&(e=xn(e)),nn(e)}(n);l=t.path,!a&&l.length+1+s>In.maxUrlLength&&(a=!0),t.query&&(i={...t.query,...i})}if("HEAD"===r.method&&(a||u)){if(a){if(s>In.maxUrlLength)throw Fn("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params);throw Fn("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params)}if(u)throw Fn("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}if(a?(r.method="delete"===e.method?"DELETE":"put"===e.method?"PUT":"POST",e.body?n=kn(n,i):(r.body=on(i),r.headers["Content-Type"]="application/x-www-form-urlencoded")):n=kn(n,i),u&&(t.useProxy=!0,n=`${l}?${n}`),i.token&&Nn&&r.body instanceof FormData){const t=r.body;t.set?t.set("token",i.token):t.append("token",i.token)}if(e.hasOwnProperty("withCredentials"))t.withCredentials=e.withCredentials;else if(!cn(n,Qt))if(hn(n))t.withCredentials=!0;else if(Rn){const e=Rn.findServerInfo(n);e&&e.webTierAuth&&(t.withCredentials=!0)}t.withCredentials&&(r.credentials="include")}let l,u,c=0,h=!1;s>0&&(c=setTimeout((()=>{h=!0,t.controller.abort()}),s));try{if("native-request-init"===e.responseType)u=r,u.url=n;else if("image"!==e.responseType||"default"!==r.cache||"GET"!==r.method||a||function(t){if(t)for(const n of Object.getOwnPropertyNames(t))if(t[n])return!0;return!1}(e.headers)||!i&&!t.useProxy&&In.proxyUrl&&!qn(n)){if(l=await Cn._abortableFetch(n,r),t.useProxy||function(t){const n=yn(t);n&&!Cn._corsServers.includes(n)&&Cn._corsServers.push(n)}(n),"native"===e.responseType)u=l;else if("HEAD"!==r.method)if(l.ok){switch(o){case"array-buffer":u=await l.arrayBuffer();break;case"blob":case"image":u=await l.blob();break;default:u=await l.text()}if(c&&(clearTimeout(c),c=0),"json"===o||"xml"===o||"document"===o)if(u)switch(o){case"json":u=JSON.parse(u);break;case"xml":u=Jn(u,"application/xml");break;case"document":u=Jn(u,"text/html")}else u=null;if(u){if("array-buffer"===o||"blob"===o){const t=l.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(t)&&u["blob"===o?"size":"byteLength"]<=750)try{const t=await new Response(u).json();t.error&&(u=t)}catch{}}"image"===o&&u instanceof Blob&&(u=await Bn(URL.createObjectURL(u),t,!0))}}else u=await l.text()}else u=await Bn(n,t)}catch(r){if("AbortError"===r.name){if(h)throw new Error("Timeout exceeded");throw Mt("Request canceled")}if(!(!l&&r instanceof TypeError&&In.proxyUrl)||e.body||"delete"===e.method||"head"===e.method||"post"===e.method||"put"===e.method||t.useProxy||qn(n))throw r;t.redoRequest=!0,function(t){const n={proxyUrl:t.proxyUrl,urlPrefix:ln(t.urlPrefix)},e=qt.proxyRules,r=n.urlPrefix;let i=e.length;for(let t=0;t<e.length;t++){const n=e[t].urlPrefix;if(0===r.indexOf(n)){if(r.length===n.length)return-1;i=t;break}0===n.indexOf(r)&&(i=t+1)}e.splice(i,0,n)}({proxyUrl:In.proxyUrl,urlPrefix:yn(n)})}finally{c&&clearTimeout(c)}return[l,u]}function Jn(t,n){let e;try{e=(new DOMParser).parseFromString(t,n)}catch{}if(!e||e.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return e}async function Zn(t,n,e){if(t.redoRequest)return t.redoRequest=!1,!1;const r=t.params.requestOptions;if(!n||"native"===r.responseType||"native-request-init"===r.responseType)return!0;let i,o,s,a;if(!n.ok)throw i=new Error(`Unable to load ${n.url} status: ${n.status}`),i[Dn]=e,i;null!=e&&e.error&&(i=e.error),i&&(o=Number(i.code),s=i.hasOwnProperty("subcode")?Number(i.subcode):null,a=i.messageCode,a=a&&a.toUpperCase());const l=r.authMode;if(403===o&&(4===s||i.message&&i.message.toLowerCase().indexOf("ssl")>-1&&-1===i.message.toLowerCase().indexOf("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&("no-prompt"!==l||498===o)&&-1!==$n.indexOf(o)&&!Wn(t.params.url)&&(403!==o||-1===Un.indexOf(a)&&(null==s||2===s&&t.credentialToken))){await Ln();try{const n=await Rn.getCredential(t.params.url,{error:Fn("request:server",i,t.params),prompt:"no-prompt"!==l,signal:t.controller.signal,token:t.credentialToken});return t.credential=n,t.credentialToken=n.token,t.useSSL=t.useSSL||n.ssl,!1}catch(n){if("no-prompt"===l)return t.credential=null,t.credentialToken=null,!1;i=n}}if(i)throw i;return!0}function Bn(t,n,e=!1){const r=n.controller.signal,i=new Image;return i.crossOrigin=n.withCredentials?"use-credentials":"anonymous",i.alt="",i.src=t,function(t,n,e=!1,r){return new Promise(((i,o)=>{if(xt(r))return void o(Pn());let a=()=>{c(),o(new Error(`Unable to load ${n}`))},l=()=>{const n=t;c(),i(n)},u=()=>{if(!t)return;const n=t;c(),n.src="",o(Pn())};const c=()=>{A("esri-image-decode")||(t.removeEventListener("error",a),t.removeEventListener("load",l)),a=null,l=null,t=null,s(r)&&r.removeEventListener("abort",u),u=null,e&&URL.revokeObjectURL(n)};s(r)&&r.addEventListener("abort",u),A("esri-image-decode")?t.decode().then(l,a):(t.addEventListener("error",a),t.addEventListener("load",l))}))}(i,t,e,r)}async function Yn(t){if(s(Kn.fetchBundleAsset))return Kn.fetchBundleAsset(t);const n=await Cn(t,{responseType:"text"});return JSON.parse(n.data)}Cn._abortableFetch=null,Cn._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];class Xn{constructor({base:t="",pattern:n,location:e=new URL(window.location.href)}){let r;r="string"==typeof e?t=>new URL(t,new URL(e,window.location.href)).href:e instanceof URL?t=>new URL(t,e).href:e,this.pattern="string"==typeof n?new RegExp(`^${n}`):n,this.getAssetUrl=r,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)/)?(.*)$`)}fetchMessageBundle(t,n){return async function(t,n,e,r){const i=n.exec(e);if(!i)throw new yt("esri-intl:invalid-bundle",`Bundle id "${e}" is not compatible with the pattern "${n}"`);const o=i[1]?`${i[1]}/`:"",s=i[2],a=function(t){if(!Ct.test(t))return null;const[,n,e]=Ct.exec(t),r=n+(e?"-"+e.toUpperCase():"");return It(r)?r:It(n)?n:null}(r),l=`${o}${s}.json`,u=a?`${o}${s}_${a}.json`:l;let c;try{c=await Yn(t(u))}catch(n){if(u===l)throw new yt("intl:unknown-bundle",`Bundle "${e}" cannot be loaded`,{error:n});try{c=await Yn(t(l))}catch(t){throw new yt("intl:unknown-bundle",`Bundle "${e}" cannot be loaded`,{error:t})}}return c}(this.getAssetUrl,this.matcher,t,n)}}const Kn={},Vn=ht.getLogger("esri.assets");function Qn(t){if(!st.assetsPath)throw Vn.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new yt("assets:path-not-set","config.assetsPath is not set");return mn(st.assetsPath,t)}function te(t,n,e,r){var i,o=arguments.length,s=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(n,e,s):i(n,e))||s);return o>3&&s&&Object.defineProperty(n,e,s),s}!function(t){Nt.includes(t)||(function(t){for(const n of $t.keys())Gt(t.pattern,n)&&$t.delete(n)}(t),Nt.unshift(t))}(new Xn({pattern:"esri/",location:Qn}));const ne=ht.getLogger("esri.core.Accessor");function ee(t){return null==t?t:new Date(t)}function re(t){return null==t?t:!!t}function ie(t){return null==t?t:t.toString()}function oe(t){return null==t?t:(t=parseFloat(t),isNaN(t)?0:t)}function se(t){return null==t?t:Math.round(parseFloat(t))}function ae(t){return t&&t.constructor&&void 0!==t.constructor.__accessorMetadata__}function le(t,n){return null!=n&&t&&!(n instanceof t)}function ue(t){return t&&"isCollection"in t}function ce(t){return t&&t.Type?"function"==typeof t.Type?t.Type:t.Type.base:null}function he(t,n){return!!ae(n)&&(ne.error("Accessor#set","Assigning an instance of '"+(n.declaredClass||"unknown")+"' which is not a subclass of '"+de(t)+"'"),!0)}function fe(t,n){return null==n?n:ue(t)?function(t,n){if(!n||!n.constructor||!ue(n.constructor))return he(t,n)?n:new t(n);const e=ce(t.prototype.itemType),r=ce(n.constructor.prototype.itemType);return e?r?e===r?n:e.prototype.isPrototypeOf(r.prototype)?new t(n):(he(t,n),n):new t(n):n}(t,n):le(t,n)?he(t,n)?n:new t(n):n}function de(t){return t&&t.prototype&&t.prototype.declaredClass||"unknown"}const pe=new WeakMap;function me(t){switch(t){case Number:return oe;case xe:return se;case Boolean:return re;case String:return ie;case Date:return ee;default:return function(n,e){const r=n.get(e);if(void 0!==r)return r;const i=fe.bind(null,t);return n.set(e,i),i}(pe,t)}}function ye(t,n){const e=me(t);return 1===arguments.length?e:e(n)}function ge(t,n,e){return 1===arguments.length?ge.bind(null,t):n?Array.isArray(n)?n.map((n=>t(n,e))):[t(n,e)]:n}function ve(t,n,e){return 0!==n&&Array.isArray(e)?e.map((e=>ve(t,n-1,e))):t(e)}function we(t,n,e){if(2===arguments.length)return we.bind(null,t,n);if(!e)return e;let r=n,i=e=ve(t,n,e);for(;r>0&&Array.isArray(i);)r--,i=i[0];if(void 0!==i)for(let t=0;t<r;t++)e=[e];return e}function be(t){return!!Array.isArray(t)&&!t.some((n=>{const e=typeof n;return!("string"===e||"number"===e||"function"===e&&t.length>1)}))}function Me(t,n){if(2===arguments.length)return Me(t).call(null,n);const e=new Set,r=t.filter((t=>"function"!=typeof t)),i=t.filter((t=>"function"==typeof t));for(const n of t)"string"!=typeof n&&"number"!=typeof n||e.add(n);let o=null,s=null;return(t,n)=>{if(null==t)return t;const a=typeof t,l="string"===a||"number"===a;return l&&(e.has(t)||i.some((t=>"string"===a&&t===String||"number"===a&&t===Number)))||"object"===a&&i.some((n=>!le(t,n)))?t:(l&&r.length?(o||(o=r.map((t=>"string"==typeof t?`'${t}'`:`${t}`)).join(", ")),ne.error("Accessor#set",`'${t}' is not a valid value for this property, only the following values are valid: ${o}`)):"object"==typeof t&&i.length?(s||(s=i.map((t=>de(t))).join(", ")),ne.error("Accessor#set",`'${t}' is not a valid value for this property, value must be one of ${s}`)):ne.error("Accessor#set",`'${t}' is not a valid value for this property`),n&&(n.valid=!1),null)}}function _e(t,n){if(2===arguments.length)return _e(t).call(null,n);const e={},r=[],i=[];for(const n in t.typeMap){const o=t.typeMap[n];e[n]=ye(o),r.push(de(o)),i.push(n)}const o=()=>`'${r.join("', '")}'`,s=()=>`'${i.join("', '")}'`,a="string"==typeof t.key?n=>n[t.key]:t.key;return n=>{if(t.base&&!le(t.base,n))return n;if(null==n)return n;const r=a(n)||t.defaultKeyValue,i=e[r];if(!i)return ne.error("Accessor#set",`Invalid property value, value needs to be one of ${o()}, or a plain object that can autocast (having .type = ${s()})`),null;if(!le(t.typeMap[r],n))return n;if("string"==typeof t.key&&!ae(n)){const e={};for(const r in n)r!==t.key&&(e[r]=n[r]);return i(e)}return i(n)}}class xe{}function Se(t){switch(t.type){case"native":return ye(t.value);case"array":return ge(Se(t.value));case"one-of":return function(t){let n=null;return(e,r)=>Te(e,t)?e:(null==n&&(n=Ae(t)),ne.error("Accessor#set",`Invalid property value, value needs to be of type ${n}`),r&&(r.valid=!1),null)}(t);default:return null}}function Ae(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case xe:return"integer";case Date:return"date";default:return de(t.value)}case"array":return`array of ${Ae(t.value)}`;case"one-of":{const n=t.values.map((t=>Ae(t)));return`one of ${n.slice(0,n.length-1)} or ${n[n.length-1]}`}}return"unknown"}function Te(t,n){if(null==t)return!0;switch(n.type){case"native":switch(n.value){case Number:case xe:return"number"==typeof t;case Boolean:return"boolean"==typeof t;case String:return"string"==typeof t}return t instanceof n.value;case"array":return!!Array.isArray(t)&&!t.some((t=>!Te(t,n.value)));case"one-of":return n.values.some((n=>Te(t,n)))}}function ke(t){return Re((()=>t.forEach((t=>s(t)&&t.remove()))))}function Re(t){return{remove:()=>{t&&(t(),t=void 0)}}}function Oe(t){return t?t.__accessor__?t.__accessor__:t.propertyInvalidated?t:null:null}function Ee(t,n,e){return Pe(t,n,e?{policy:e,path:""}:null)}function Pe(t,n,e){return n?Object.keys(n).reduce((function(t,r){let i=null,o="merge";if(e&&(i=e.path?`${e.path}.${r}`:r,o=e.policy(i)),"replace"===o)return t[r]=n[r],t;if(void 0===t[r])return t[r]=k(n[r]),t;let s=t[r],a=n[r];if(s===a)return t;if(Array.isArray(a)||Array.isArray(t))s=t[r]=s?Array.isArray(s)?s.concat():[s]:[],a&&(Array.isArray(a)||(a=[a]),a.forEach((t=>{-1===s.indexOf(t)&&s.push(t)})));else if(a&&"object"==typeof a)if(e){const n=e.path;e.path=i,t[r]=Pe(s,a,e),e.path=n}else t[r]=Pe(s,a,null);else t.hasOwnProperty(r)&&!n.hasOwnProperty(r)||(t[r]=a);return t}),t||{}):t}function Ce(t){return Array.isArray(t)?t:t.split(".")}function je(t){return t.indexOf(",")>-1?t.split(",").map((t=>t.trim())):[t.trim()]}function Ie(t,n,e,r){const i=function(t){if(Array.isArray(t)){const n=[];for(const e of t)n.push(...je(e));return n}return je(t)}(n);return 1!==i.length?ke(i.map((n=>r(t,n,e)))):r(t,i[0],e)}function Ne(t){let n=!1;return()=>{n||(n=!0,t())}}function $e(t,n){const e="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=n.getItemAt||Array.isArray(n)){const t=parseInt(e,10);if(!isNaN(t))return Array.isArray(n)?n[t]:n.getItemAt(t)}const r=Oe(n);return function(t,n){return null!=t&&t.metadatas&&null!=t.metadatas[n]}(r,e)?r.get(e):n[e]}function Ue(t,n,e){if(null==t)return t;const r=$e(n[e],t);return!r&&e<n.length-1?void 0:e===n.length-1?r:Ue(r,n,e+1)}function Ge(t,n,e=0){return"string"==typeof n&&-1===n.indexOf(".")?$e(n,t):Ue(t,Ce(n),e)}function ze(t,n){return Ge(t,n)}function De(t,n){return void 0!==Ge(n,t)}class qe{constructor(t){this.autoDestroy=!1,this.properties=t}}function Fe(t){let n=t.constructor.__accessorMetadata__;const e=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(n){if(!e){const e=Object.create(n.properties),r=n.autoDestroy;for(const t in e)e[t]=k(e[t]);n=new qe(e),n.autoDestroy=r,Object.defineProperty(t.constructor,"__accessorMetadata__",{value:n,enumerable:!1,configurable:!0,writable:!0})}}else n=new qe({}),Object.defineProperty(t.constructor,"__accessorMetadata__",{value:n,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function Le(t,n){const e=function(t){return Fe(t).properties}(t);let r=e[n];return r||(r=e[n]={}),r}const We=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function He(t){return We.test(t)?"replace":"merge"}function Je(t,n,e){if(t&&n)if("object"==typeof n)for(const e of Object.getOwnPropertyNames(n))Je(t,e,n[e]);else{if(-1!==n.indexOf(".")){const r=n.split("."),i=r.splice(r.length-1,1)[0];return void Je(ze(t,r),i,e)}const r=t.__accessor__;null!=r&&function(t,n){if(A("esri-unknown-property-errors")&&!function(t,n){return null!=n.metadatas[t]}(t,n))throw new yt("set:unknown-property",function(t,n){return"setting unknown property '"+t+"' on instance of "+n.host.declaredClass}(t,n))}(n,r),t[n]=e}}function Ze(t={}){return(n,e)=>{if(n===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${n.name}.${e}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(n,e),i=Le(n,e);r&&(r.get||r.set?(i.get=r.get||i.get,i.set=r.set||i.set):"value"in r&&("value"in t&&ht.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${e}" on "${n.constructor.name}" already defined in the metadata`,t),i.value=t.value=r.value)),null!=t.readOnly&&(i.readOnly=t.readOnly);const o=t.aliasOf;if(o){const t="string"==typeof o?o:o.source,n="string"==typeof o?null:!0===o.overridable;let r;i.dependsOn=[t],i.get=function(){let n=ze(this,t);if("function"==typeof n){r||(r=t.split(".").slice(0,-1).join("."));const e=ze(this,r);e&&(n=n.bind(e))}return n},i.readOnly||(i.set=n?function(t){void 0!==t?this._override(e,t):this._clearOverride(e)}:function(n){Je(this,t,n)})}const s=t.type,a=t.types;i.cast||(s?i.cast=function(t){let n=0,e=t;if(function(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}(t))return Se(t);for(;Array.isArray(e)&&1===e.length&&"string"!=typeof e[0]&&"number"!=typeof e[0];)e=e[0],n++;const r=e;if(be(r))return 0===n?Me(r):we(Me(r),n);if(1===n)return function(t,n){return 1===arguments.length?ge(ye.bind(null,t)):ge(ye.bind(null,t),n)}(r);if(n>1)return function(t,n,e){return 2===arguments.length?we(ye.bind(null,t),n):we(ye.bind(null,t),n,e)}(r,n);return t.from?t.from:ye(t)}(s):a&&(i.cast=Array.isArray(a)?ge(_e(a[0])):_e(a))),t.range&&(i.cast=function(t,n){return e=>{let r=+t(e);return null!=n.step&&(r=Math.round(r/n.step)*n.step),null!=n.min&&(r=Math.max(n.min,r)),null!=n.max&&(r=Math.min(n.max,r)),r}}(i.cast,t.range)),function(t,n){Ee(t,n,He)}(i,t)}}function Be(t,n,e){const r=Le(t,e);r.json||(r.json={});let i=r.json;return void 0!==n&&(i.origins||(i.origins={}),i.origins[n]||(i.origins[n]={}),i=i.origins[n]),i}ht.getLogger("esri.core.accessorSupport.set");const Ye=Object.prototype.toString;function Xe(t){const n="__accessorMetadata__"in t?ye(t):t;return function(...t){if(t.push(n),"number"==typeof t[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Ke.apply(this,t)}}function Ke(t,n,e,r){Le(t,n).cast=r}function Ve(...t){if(3!==t.length||"string"!=typeof t[1])return 1===t.length&&"[object Function]"===Ye.call(t[0])?Xe(t[0]):1===t.length&&"string"==typeof t[0]?function(t){return function(n,e){Le(n,t).cast=n[e]}}(t[0]):void 0}function Qe(t,n,e){let r,i;return void 0===n||Array.isArray(n)?(i=t,e=n,r=[void 0]):(i=n,r=Array.isArray(t)?t:[t]),(t,n)=>{const o=t.constructor.prototype;r.forEach((r=>{const s=Be(t,r,i);s.read&&"object"==typeof s.read||(s.read={}),s.read.reader=o[n],e&&(s.read.source=(s.read.source||[]).concat(e))}))}}var tr,nr,er;(er=tr||(tr={}))[er.INITIALIZING=0]="INITIALIZING",er[er.CONSTRUCTING=1]="CONSTRUCTING",er[er.CONSTRUCTED=2]="CONSTRUCTED",function(t){t[t.Dirty=1]="Dirty",t[t.Overriden=2]="Overriden",t[t.Computing=4]="Computing",t[t.NonNullable=8]="NonNullable",t[t.HasDefaultValue=16]="HasDefaultValue",t[t.DepTrackingInitialized=32]="DepTrackingInitialized",t[t.AutoTracked=64]="AutoTracked",t[t.ExplicitlyTracking=128]="ExplicitlyTracking"}(nr||(nr={}));let rr,ir=[];const or=ht.getLogger("esri.core.Accessor");function sr(t){void 0!==rr&&rr.onObservableAccessed(t)}let ar=!1,lr=!1;function ur(t,n,e){if(ar)return cr(t,n,e);hr(t);const r=n.call(e);return fr(),r}function cr(t,n,e){const r=ar;ar=!0,hr(t);let i=null;try{i=n.call(e)}catch(t){lr&&or.error(t)}return fr(),ar=r,i}function hr(t){rr=t,ir.push(t)}function fr(){const t=ir.pop();rr=ir.length>0?ir[ir.length-1]:void 0,void 0!==t&&t.onTrackingEnd()}function dr(t,n){if(n.flags&nr.DepTrackingInitialized)return;const e=lr;lr=!1,n.flags&nr.AutoTracked?cr(n,n.metadata.get,t):mr(t,n),lr=e}const pr=[];function mr(t,n){n.flags&nr.ExplicitlyTracking||(n.flags|=nr.ExplicitlyTracking,cr(n,(()=>{const e=n.metadata.dependsOn||pr;for(const n of e)if("string"==typeof n&&-1===n.indexOf("."))yr(t,n,!1);else{const e=Ce(n);for(let n=0,r=t;n<e.length&&null!=r&&"object"==typeof r;++n)r=yr(r,e[n],n!==e.length-1)}})),n.flags&=~nr.ExplicitlyTracking)}function yr(t,n,e){const r="?"===n[n.length-1]?n.slice(0,-1):n;if(null!=t.getItemAt||Array.isArray(t)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.getItemAt(n)}const i=Oe(t),o=null==i?void 0:i.properties.get(r);return o&&(sr(o),dr(t,o)),e?t[r]:void 0}class gr extends mt{constructor(t,n,e){if(super(t,n,e),!(this instanceof gr))return new gr(t,n,e)}}function vr(t){return!!t&&t.prototype&&t.prototype.declaredClass&&0===t.prototype.declaredClass.indexOf("esri.core.Collection")}gr.prototype.type="warning";const wr=ht.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function br(t,n,e){var r,i;t&&(!e&&!n.read||null!=(r=n.read)&&r.reader||!1===(null==(i=n.read)?void 0:i.enabled)||function(t){return"types"in t?Tr(t.types):Ar(t.type)}(t)&&E("read.reader",function(t){var n;const e=null!=(n=t.ndimArray)?n:0;if(e>1)return function(t){var n;const e=Mr(t),r=_r.bind(null,e),i=null!=(n=t.ndimArray)?n:0;return(t,n,e)=>{if(null==t)return t;t=r(t,e,i);let o=i,s=t;for(;o>0&&Array.isArray(s);)o--,s=s[0];if(void 0!==s)for(let n=0;n<o;n++)t=[t];return t}}(t);if(1===e)return xr(t);if("type"in t&&Sr(t.type)){var r,i;const n=null==(r=t.type.prototype)||null==(i=r.itemType)?void 0:i.Type,e=xr("function"==typeof n?{type:n}:{types:n});return(n,r,i)=>{const o=e(n,r,i);return o?new t.type(o):o}}return Mr(t)}(t),n))}function Mr(t){return"type"in t?function(t){return t.prototype.read?(n,e,r)=>{if(null==n)return n;const i=typeof n;if("object"!==i)return void wr.error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${i}'`);const o=new t;return o.read(n,r),o}:t.fromJSON}(t.type):function(t){var n;let e=null;const r=null!=(n=t.errorContext)?n:"type";return(n,i,o)=>{if(null==n)return n;const s=typeof n;if("object"!==s)return void wr.error(`Expected JSON value of type 'object' to deserialize, but got '${s}'`);e||(e=function(t){const n={};for(const i in t.typeMap){var e,r;const o=t.typeMap[i],s=Fe(o.prototype);if("function"==typeof t.key)continue;const a=s.properties[t.key];if(!a)continue;null!=(e=a.json)&&e.type&&Array.isArray(a.json.type)&&1===a.json.type.length&&"string"==typeof a.json.type[0]&&(n[a.json.type[0]]=o);const l=null==(r=a.json)?void 0:r.write;if(!l||!l.writer){n[i]=o;continue}const u=l.target,c="string"==typeof u?u:t.key,h={};l.writer(i,h,c),h[c]&&(n[h[c]]=o)}return n}(t));const a=t.key;if("string"!=typeof a)return;const l=n[a],u=l?e[l]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!u){const t=`Type '${l||"unknown"}' is not supported`;return o&&o.messages&&n&&o.messages.push(new gr(`${r}:unsupported`,t,{definition:n,context:o})),void wr.error(t)}const c=new u;return c.read(n,o),c}}(t.types)}function _r(t,n,e,r){return 0!==r&&Array.isArray(n)?n.map((n=>_r(t,n,e,r-1))):t(n,void 0,e)}function xr(t){const n=Mr(t);return(t,e,r)=>{if(null==t)return t;if(Array.isArray(t)){const e=[];for(const i of t){const t=n(i,void 0,r);void 0!==t&&e.push(t)}return e}const i=n(t,void 0,r);return void 0!==i?[i]:void 0}}function Sr(t){if(!vr(t))return!1;const n=t.prototype.itemType;return!(!n||!n.Type)&&("function"==typeof n.Type?Ar(n.Type):Tr(n.Type))}function Ar(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||Sr(t))}function Tr(t){for(const n in t.typeMap)if(!Ar(t.typeMap[n]))return!1;return!0}function kr(t){t.name&&(t.read&&"object"==typeof t.read?void 0===t.read.source&&(t.read.source=t.name):t.read={source:t.name},t.write&&"object"==typeof t.write?void 0===t.write.target&&(t.write.target=t.name):t.write={target:t.name})}function Rr(t){"boolean"==typeof t.read?t.read={enabled:t.read}:"function"==typeof t.read?t.read={enabled:!0,reader:t.read}:t.read&&"object"==typeof t.read&&void 0===t.read.enabled&&(t.read.enabled=!0)}function Or(t){"boolean"==typeof t.write?t.write={enabled:t.write}:"function"==typeof t.write?t.write={enabled:!0,writer:t.write}:t.write&&"object"==typeof t.write&&void 0===t.write.enabled&&(t.write.enabled=!0)}const Er=ht.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer");function Pr(t,n){var e;if(!n.write||n.write.writer||!1===n.write.enabled&&!n.write.overridePolicy)return;const r=null!=(e=null==t?void 0:t.ndimArray)?e:0;n.write.writer=t&&(1===r||"type"in t&&vr(t.type))?Nr:r>1?function(t){return function(n,e,r,i){let o;if(null===n)o=null;else{o=$r(n,i,t);let e=t,r=o;for(;e>0&&Array.isArray(r);)e--,r=r[0];if(void 0!==r)for(let t=0;t<e;t++)o=[o]}E(r,o,e)}}(r):n.types?Array.isArray(n.types)?function(t){return(n,e,r,i)=>n&&Array.isArray(n)?jr(n.filter((n=>Cr(n,t,i))),e,r,i):jr(n,e,r,i)}(n.types[0]):function(t){return(n,e,r,i)=>n?Cr(n,t,i)?jr(n,e,r,i):void 0:jr(n,e,r,i)}(n.types):jr}function Cr(t,n,e){for(const e in n.typeMap)if(t instanceof n.typeMap[e])return!0;if(null!=e&&e.messages){var r,i;const o=null!=(r=n.errorContext)?r:"type",s=`Values of type '${null!=(i="function"!=typeof n.key?t[n.key]:t.declaredClass)?i:"Unknown"}' cannot be written`;e&&e.messages&&t&&e.messages.push(new yt(`${o}:unsupported`,s,{definition:t,context:e})),Er.error(s)}return!1}function jr(t,n,e,r){E(e,Ir(t,r),n)}function Ir(t,n){return t&&"function"==typeof t.write?t.write({},n):t&&"function"==typeof t.toJSON?t.toJSON():"number"==typeof t?function(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}(t):t}function Nr(t,n,e,r){let i;null===t?i=null:t&&"function"==typeof t.map?(i=t.map((t=>Ir(t,r))),"function"==typeof i.toArray&&(i=i.toArray())):i=[Ir(t,r)],E(e,i,n)}function $r(t,n,e){return 0!==e&&Array.isArray(t)?t.map((t=>$r(t,n,e-1))):Ir(t,n)}function Ur(t,n){return zr(t,"read",n)}function Gr(t,n){return zr(t,"write",n)}function zr(t,n,e){let r=t&&t.json;if(t&&t.json&&t.json.origins&&e){const i=t.json.origins[e.origin];i&&("any"===n||n in i)&&(r=i)}return r}function Dr(t){return t.type?qr(t):Fr(t)}function qr(t){if(!t.type)return;let n=0,e=t.type;for(;Array.isArray(e)&&!be(e);)e=e[0],n++;return{type:e,ndimArray:n}}function Fr(t){if(!t.types)return;let n=0,e=t.types;for(;Array.isArray(e);)e=e[0],n++;return{types:e,ndimArray:n}}function Lr(t){(function(t){if(t.json||(t.json={}),Rr(t.json),Or(t.json),kr(t.json),t.json.origins)for(const n in t.json.origins)Rr(t.json.origins[n]),Or(t.json.origins[n]),kr(t.json.origins[n]);return!0})(t)&&(function(t){if(t.json&&t.json.origins){const n=t.json.origins,e={"web-document":["web-scene","web-map"]};for(const t in e)if(n[t]){const r=n[t];e[t].forEach((t=>{n[t]=r})),delete n[t]}}}(t),function(t){const n=function(t){return t.json.types?Fr(t.json):t.type?qr(t):Fr(t)}(t);if(t.json.origins)for(const e in t.json.origins){const r=t.json.origins[e],i=r.types?Dr(r):n;br(i,r,!1),r.types&&!r.write&&t.json.write&&t.json.write.enabled&&(r.write={...t.json.write}),Pr(i,r)}br(n,t.json,!0),Pr(n,t.json)}(t))}const Wr=new Set,Hr=new Set;function Jr(t){return n=>{n.prototype.declaredClass=t,function(t){const n=Fe(t.prototype).properties,e={};for(const t of Object.getOwnPropertyNames(n)){const r=n[t];Lr(r),e[t]={enumerable:!0,configurable:!0,get:Zr(t,r),set(n){const e=this.__accessor__;if(void 0!==e){if(!Object.isFrozen(this)){if(e.initialized&&r.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${t}' of ${this.declaredClass}`);if(e.lifecycle===tr.CONSTRUCTED&&r.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${t}' of ${this.declaredClass}`);e.set(t,n)}}else Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:n})}}}Object.defineProperties(t.prototype,e)}(n);const e=[],r=[];let i=n.prototype;for(;i;)i.hasOwnProperty("initialize")&&!Wr.has(i.initialize)&&(Wr.add(i.initialize),e.push(i.initialize)),i.hasOwnProperty("destroy")&&!Hr.has(i.destroy)&&(Hr.add(i.destroy),r.push(i.destroy)),i=Object.getPrototypeOf(i);Wr.clear(),Hr.clear();class o extends n{constructor(...t){if(super(...t),this.constructor===o&&"function"==typeof this.postscript){if(e.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let t=e.length-1;t>=0;t--)e[t].call(this)}}),r.length){let t=!1;Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!t){t=!0;for(let t=0;t<r.length;t++)r[t].call(this)}}})}this.postscript(...t)}}}return o.__accessorMetadata__=Fe(n.prototype),o.prototype.declaredClass=t,o}}function Zr(t,n){return null==n.get?function(){const n=this.__accessor__.properties.get(t);if(void 0===n)return;sr(n);const e=this.__accessor__.store;return e.has(t)?e.get(t):n.metadata.value}:function(){const n=this.__accessor__.properties.get(t);if(void 0!==n)return n.getComputed()}}function Br(t,n,e){let r,i;return void 0===n?(i=t,r=[void 0]):"string"!=typeof n?(i=t,r=[void 0],e=n):(i=n,r=Array.isArray(t)?t:[t]),(t,n)=>{const o=t.constructor.prototype;for(const s of r){const r=Be(t,s,i);r.write&&"object"==typeof r.write||(r.write={}),e&&(r.write.target=e),r.write.writer=o[n]}}}const Yr=new Set;function Xr(t,n,e={}){if(A("esri-deprecation-warnings")){const{replacement:r,version:i,see:o,warnOnce:s}=e;let a=n;r&&(a+=`\n\t Replacement: ${r}`),i&&(a+=`\n\t Version: ${i}`),o&&(a+=`\n\t See ${o} for more details.`),function(t,n,e=!1){e&&Yr.has(n)||(e&&Yr.add(n),t.warn(` DEPRECATED - ${n}`))}(t,a,s)}}class Kr{constructor(t,n,e,r=1,i=0){if(this.ctor=t,this.acquireFunction=n,this.releaseFunction=e,this.allocationSize=r,this._pool=new Array(i),this._initialSize=i,this.ctor)for(let t=0;t<i;t++)this._pool[t]=new this.ctor;this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...t){let n;if(Kr.test.disabled)n=new this.ctor;else{if(0===this._pool.length){const t=this.allocationSize;for(let n=0;n<t;n++)this._pool[n]=new this.ctor}n=this._pool.pop()}return this.acquireFunction?this.acquireFunction(n,...t):function(t){return t&&t.acquire&&"function"==typeof t.acquire}(n)&&n.acquire(...t),n}release(t){t&&!Kr.test.disabled&&(this.releaseFunction?this.releaseFunction(t):function(t){return t&&t.release&&"function"==typeof t.release}(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let n=t;n<this._pool.length;++n)this._dispose(this._pool[n]);this._pool.length=t}}_dispose(t){t.dispose&&"function"==typeof t.dispose&&t.dispose()}}var Vr;function Qr(t){switch(t){case"defaults":return Vr.DEFAULTS;case"service":return Vr.SERVICE;case"portal-item":return Vr.PORTAL_ITEM;case"web-scene":return Vr.WEB_SCENE;case"web-map":return Vr.WEB_MAP;case"user":return Vr.USER}}function ti(t){switch(t){case Vr.DEFAULTS:return"defaults";case Vr.SERVICE:return"service";case Vr.PORTAL_ITEM:return"portal-item";case Vr.WEB_SCENE:return"web-scene";case Vr.WEB_MAP:return"web-map";case Vr.USER:return"user"}}function ni(t){return ti(t)}Kr.test={disabled:!1},function(t){t[t.DEFAULTS=0]="DEFAULTS",t[t.COMPUTED=1]="COMPUTED",t[t.SERVICE=2]="SERVICE",t[t.PORTAL_ITEM=3]="PORTAL_ITEM",t[t.WEB_SCENE=4]="WEB_SCENE",t[t.WEB_MAP=5]="WEB_MAP",t[t.USER=6]="USER"}(Vr||(Vr={}));class ei{constructor(t,n){this._observers=t,this._observer=n}remove(){!function(t,n){const e=t.indexOf(n);-1!==e&&t.splice(e,1)}(this._observers,this._observer)}}class ri{constructor(t,n,e){this.properties=t,this.propertyName=n,this.metadata=e,this._observers=null,this._accessed=null,this._handles=null,this.flags=nr.Dirty|(e.nonNullable?nr.NonNullable:0)|(e.hasOwnProperty("value")?nr.HasDefaultValue:0)|(void 0===e.get?nr.DepTrackingInitialized:0)|(void 0===e.dependsOn?nr.AutoTracked:0)}destroy(){this._accessed=null,this._observers=null,this._clearObservationHandles()}getComputed(){sr(this);const t=this.properties.store,n=this.propertyName,e=this.flags,r=t.get(n);if(e&nr.Computing)return r;if(~e&nr.Dirty&&t.has(n))return r;this.flags|=nr.Computing;const i=this.properties.host;let o;e&nr.AutoTracked?o=ur(this,this.metadata.get,i):(mr(i,this),o=this.metadata.get.call(i)),t.set(n,o,Vr.COMPUTED);const s=t.get(n);return s===r?this.flags&=~nr.Dirty:function(t,n){ur(void 0,t,n)}(this.commit,this),this.flags&=~nr.Computing,s}onObservableAccessed(t){t!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(t)||this._accessed.push(t))}onTrackingEnd(){this._clearObservationHandles(),this.flags|=nr.DepTrackingInitialized;const t=this._accessed;if(null===t)return;let n=this._handles;null===n&&(n=this._handles=[]);for(let e=0;e<t.length;++e)n.push(t[e].observe(this));t.length=0}observe(t){return null===this._observers&&(this._observers=[]),this._observers.includes(t)||this._observers.push(t),new ei(this._observers,t)}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}onInvalidated(){~this.flags&nr.Overriden&&(this.flags|=nr.Dirty);const t=this._observers;if(null!==t)for(let n=0;n<t.length;++n)t[n].onInvalidated()}commit(){this.flags&=~nr.Dirty,this.onCommitted()}onCommitted(){if(null===this._observers)return;const t=this._observers.slice();for(let n=0;n<t.length;++n)t[n].onCommitted()}_clearObservationHandles(){const t=this._handles;if(null!==t){for(let n=0;n<t.length;++n)t[n].remove();t.length=0}}}class ii{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const n=new ii;return this._values.forEach(((e,r)=>{t&&t.has(r)||n.set(r,k(e))})),n}get(t){return this._values.get(t)}originOf(){return Vr.USER}keys(){return[...this._values.keys()]}set(t,n){this._values.set(t,n)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}}function oi(t){return void 0!==t}function si(t,n,e){return!(void 0===t||null==e&&t.flags&nr.NonNullable)}function ai(t){return t&&"function"==typeof t.destroy}ht.getLogger("esri.core.accessorSupport.Properties");class li{constructor(t){this.host=t,this.properties=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=tr.INITIALIZING,this.store=new ii,this._origin=Vr.USER;const n=this.host.constructor.__accessorMetadata__,e=n.properties;for(const t in e){const n=new ri(this,t,e[t]);this.properties.set(t,n)}this.metadatas=e,this._autoDestroy=n.autoDestroy}initialize(){this.lifecycle=tr.CONSTRUCTING}constructed(){this.lifecycle=tr.CONSTRUCTED}destroy(){if(this.destroyed=!0,this._autoDestroy)for(const[t,n]of this.properties){const e=this.internalGet(t);e&&ai(e)&&(e.destroy(),~n.flags&nr.NonNullable&&this._internalSet(n,null)),n.destroy()}else for(const[t,n]of this.properties)n.destroy()}get initialized(){return this.lifecycle!==tr.INITIALIZING}get(t){const n=this.properties.get(t);if(n.metadata.get)return n.getComputed();sr(n);const e=this.store;return e.has(t)?e.get(t):n.metadata.value}originOf(t){const n=this.store.originOf(t);if(void 0===n){const n=this.properties.get(t);if(void 0!==n&&n.flags&nr.HasDefaultValue)return"defaults"}return ti(n)}has(t){return!!this.properties.has(t)&&this.store.has(t)}keys(){return[...this.properties.keys()]}internalGet(t){const n=this.properties.get(t);if(oi(n))return this.store.has(t)?this.store.get(t):n.metadata.value}internalSet(t,n){const e=this.properties.get(t);oi(e)&&this._internalSet(e,n)}getDependsInfo(t,n,e){const r=this.properties.get(n);if(!oi(r))return"";const i=new Set,o=ur({onObservableAccessed:t=>i.add(t),onTrackingEnd:()=>{}},(()=>{var n;return null==(n=r.metadata.get)?void 0:n.call(t)}));let s=`${e}${t.declaredClass.split(".").pop()}.${n}: ${o}\n`;if(0===i.size)return s;e+="  ";for(const t of i){if(!(t instanceof ri))continue;const n=t.properties.host,r=t.propertyName,i=Oe(n);s+=i?i.getDependsInfo(n,r,e):`${e}${r}: undefined\n`}return s}setAtOrigin(t,n,e){const r=this.properties.get(t);if(oi(r))return this._setAtOrigin(r,n,e)}isOverridden(t){const n=this.properties.get(t);return void 0!==n&&!!(n.flags&nr.Overriden)}clearOverride(t){const n=this.properties.get(t);void 0!==n&&n.flags&nr.Overriden&&(n.flags&=~nr.Overriden,n.notifyChange())}override(t,n){const e=this.properties.get(t);if(!si(e,0,n))return;const r=e.metadata.cast;if(r){const t=this._cast(r,n),{valid:e,value:i}=t;if(ui.release(t),!e)return;n=i}e.flags|=nr.Overriden,this._internalSet(e,n)}set(t,n){const e=this.properties.get(t);if(!si(e,0,n))return;const r=e.metadata.cast;if(r){const t=this._cast(r,n),{valid:e,value:i}=t;if(ui.release(t),!e)return;n=i}const i=e.metadata.set;i?i.call(this.host,n):this._internalSet(e,n)}setDefaultOrigin(t){this._origin=Qr(t)}getDefaultOrigin(){return ti(this._origin)}notifyChange(t){const n=this.properties.get(t);void 0!==n&&n.notifyChange()}invalidate(t){const n=this.properties.get(t);void 0!==n&&n.invalidate()}commit(t){const n=this.properties.get(t);void 0!==n&&n.commit()}_internalSet(t,n){this._setAtOrigin(t,n,this.lifecycle!==tr.INITIALIZING?this._origin:Vr.DEFAULTS)}_setAtOrigin(t,n,e){const r=this.store,i=t.propertyName;r.has(i,e)&&R(n,r.get(i))&&~t.flags&nr.Overriden&&e===r.originOf(i)||(t.invalidate(),r.set(i,n,e),t.commit(),dr(this.host,t))}_cast(t,n){const e=ui.acquire();return e.valid=!0,e.value=n,t&&(e.value=t.call(this.host,n,e)),e}}const ui=new Kr(class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});function ci(t){t.length=0}class hi{constructor(t=50,n=50){this._pool=new Kr(Array,void 0,ci,n,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return fi.acquire()}static release(t){return fi.release(t)}static prune(){fi.prune()}}const fi=new hi(100),di=[];class pi{constructor(t,n=29){this.name=t,this._counter=0,this._items=new Array(n)}record(t){this._items[++this._counter%this._items.length]=t}get median(){return this._items.slice().sort(((t,n)=>t-n))[Math.floor(this._items.length/2)]}get average(){return this._items.reduce(((t,n)=>t+n),0)/this._items.length}get last(){return this._items[this._counter%this._items.length]}}var mi;!function(t){const n=(t,n,e,r)=>{let i=n,o=n;const s=e>>>1,a=t[i-1];for(;o<=s;){o=i<<1,o<e&&r(t[o-1],t[o])<0&&++o;const n=t[o-1];if(r(n,a)<=0)break;t[i-1]=n,i=o}t[i-1]=a},e=(t,n)=>t<n?-1:t>n?1:0;t.sort=function(t,r,i,o){void 0===r&&(r=0),void 0===i&&(i=t.length),void 0===o&&(o=e);for(let e=i>>>1;e>r;e--)n(t,e,i,o);const s=r+1;for(let e=i-1;e>r;e--){const i=t[r];t[r]=t[e],t[e]=i,n(t,s,e,o)}},t.iterableSort=function*(t,r,i,o){void 0===r&&(r=0),void 0===i&&(i=t.length),void 0===o&&(o=e);for(let e=i>>>1;e>r;e--)n(t,e,i,o),yield;const s=r+1;for(let e=i-1;e>r;e--){const i=t[r];t[r]=t[e],t[e]=i,n(t,s,e,o),yield}}}(mi||(mi={}));const yi=mi;class gi{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new d,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),void 0!==t.deallocator&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>vi(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const n=new Array;for(let e=0;e<this._length;e++){const r=this.data[e];t(r)&&n.push(r)}return n}getItemAt(t){if(!(t<0||t>=this._length))return this.data[t]}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let n=t;n<this._length;++n)this.data[n]=this._deallocator(this.data[n]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,n=t.length){for(let e=0;e<n;e++)this.data[this._length++]=t[e]}fill(t,n){for(let e=0;e<n;e++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,vi(this)}pop(){if(0===this.length)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const n=m(this.data,t,this.length,this._hint);if(-1!==n)return this.data.splice(n,1),this.length=this.length-1,t}removeUnordered(t){const n=function(t,n,e,r){const i=null==e?t.length:e,o=m(t,n,i,r);if(-1!==o)return t[o]=t[i-1],null==e&&t.pop(),n}(this.data,t,this.length,this._hint);return void 0!==n&&(this.length=this.length-1),this._shrink(),n}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,n=t.length,e){this.length=function(t,n,e=t.length,r=n.length,i,o){if(0===r||0===e)return e;y.clear();for(let t=0;t<r;++t)y.add(n[t]);i=i||p;const s=Math.max(0,i.last-10);for(let n=s;n<e;++n)if(y.has(t[n])&&(o&&o.push(t[n]),y.delete(t[n]),t[n]=t[e-1],--e,--n,0===y.size||0===e))return y.clear(),e;for(let n=0;n<s;++n)if(y.has(t[n])&&(o&&o.push(t[n]),y.delete(t[n]),t[n]=t[e-1],--e,--n,0===y.size||0===e))return y.clear(),e;return y.clear(),e}(this.data,t,this.length,n,this._hint,e),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(t,n){t>=this.length||n>=this.length||t===n||([this.data[t],this.data[n]]=[this.data[n],this.data[t]])}sort(t){yi.sort(this.data,0,this.length,t)}iterableSort(t){return yi.iterableSort(this.data,0,this.length,t)}some(t,n){for(let e=0;e<this.length;++e)if(t.call(n,this.data[e],e,this.data))return!0;return!1}filterInPlace(t,n){let e=0;for(let r=0;r<this._length;++r){const i=this.data[r];t.call(n,i,r,this.data)&&(this.data[r]=this.data[e],this.data[e]=i,e++)}if(this._deallocator)for(let t=e;t<this._length;t++)this.data[t]=this._deallocator(this.data[t]);return this._length=e,this._shrink(),this}forAll(t,n){const e=this.length,r=this.data;for(let i=0;i<e;++i)t.call(n,r[i],i,r)}forEach(t,n){for(let e=0;e<this.length;++e)t.call(n,this.data[e],e,this.data)}map(t,n){const e=new Array(this.length);for(let r=0;r<this.length;++r)e[r]=t.call(n,this.data[r],r,this.data);return e}reduce(t,n){let e=n;for(let n=0;n<this.length;++n)e=t(e,this.data[n],n,this.data);return e}has(t){const n=this.length,e=this.data;for(let r=0;r<n;++r)if(e[r]===t)return!0;return!1}}function vi(t){t.data.length>1.5*t.length&&(t.data.length=Math.floor(1.1*t.length))}class wi{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}}let bi=0;const Mi={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},_i=["prepare","preRender","render","postRender","update","finish"],xi=[],Si=new gi,Ai={frameTasks:Si,willDispatch:!1,clearFrameTasks:function(t=!1){Si.forAll((t=>{t.removed=!0})),t&&Ri()},dispatch:Oi,executeFrameTasks:function(t){const n=t-bi;bi=t;const e=1e3/60,r=Math.max(0,n-e);for(let i=0;i<_i.length;i++){const o=performance.now(),s=_i[i];Si.forAll((o=>{var a;o.paused||o.removed||(0===i&&o.ticks++,o.phases[s]&&(Mi.time=t,Mi.deltaTime=0===o.ticks?0:n,Mi.elapsedFrameTime=performance.now()-t,Mi.frameDuration=e-r,null==(a=o.phases[s])||a.call(o,Mi)))})),Ei[i].record(performance.now()-o)}Ri(),Pi.record(performance.now()-t)}};function Ti(t){const n=new wi(t);return xi.push(n),Ai.willDispatch||(Ai.willDispatch=!0,di.push(Oi),1===di.length&&queueMicrotask((()=>{const t=di.slice();di.length=0;for(const n of t)n()}))),n}const ki=new gi;function Ri(){Si.forAll((t=>{t.removed&&ki.push(t)})),Si.removeUnorderedMany(ki.data,ki.length),ki.clear()}function Oi(){for(;xi.length;){const t=xi.shift();t.isActive&&t.callback()}Ai.willDispatch=!1}const Ei=_i.map((t=>new pi(t))),Pi=new pi("total");let Ci=0;function ji(){return++Ci}class Ii{constructor(t){this._notify=t,this._accessed=[],this._handles=[],this._invalidCount=0}destroy(){this._accessed.length=0,this.clear()}onInvalidated(){this._invalidCount++}onCommitted(){const t=this._invalidCount;if(1===t)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}onObservableAccessed(t){this._accessed.includes(t)||this._accessed.push(t)}onTrackingEnd(){const t=this._handles,n=this._accessed;for(let e=0;e<n.length;++e)t.push(n[e].observe(this));n.length=0}clear(){const t=this._handles;for(let n=0;n<t.length;++n)t[n].remove();t.length=0}}let Ni=!1;const $i=[];function Ui(t,n){let e=new Ii((function o(){if(!e||i)return;if(Ni)return void function(t){$i.includes(t)||$i.unshift(t)}(o);const s=r;e.clear(),Ni=!0,i=!0,r=ur(e,t),i=!1,Ni=!1,n(r,s),function(){for(;$i.length;)$i.pop()()}()})),r=null,i=!1;return i=!0,r=ur(e,t),i=!1,{remove:function(){e&&(e.destroy(),e=null,r=null)}}}function Gi(t,n){let e=new Ii((function(){n(r,i)})),r=null;function i(){return e?(e.clear(),r=ur(e,t),r):null}return i(),{remove:function(){e&&(e.destroy(),e=null),r=null}}}var zi;!function(t){t[t.Untracked=0]="Untracked",t[t.Tracked=1]="Tracked"}(zi||(zi={}));class Di{constructor(){this.uid=ji(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,n,e,r,i){return this.pool.acquire(zi.Untracked,t,n,e,r,i,R)}static acquireTracked(t,n,e,r){return this.pool.acquire(zi.Tracked,t,n,e,null,null,r)}notify(t,n){this.type===zi.Untracked?this.callback.call(this.target,t,n,this.path,this.target):this.callback.call(null,t,n)}acquire(t,n,e,r,i,o,s){this.uid=ji(),this.removed=!1,this.type=t,this.oldValue=n,this.callback=e,this.getValue=r,this.target=i,this.path=o,this.equals=s}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=ji(),this.removed=!0}}Di.pool=new class extends Kr{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const n=super.acquire(...t);return this._set.delete(n),n}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}}(Di);const qi=new hi,Fi=new Set;let Li;function Wi(t){Fi.delete(t),Fi.add(t),Li||(Li=Ti(Ji))}function Hi(t){if(t.removed)return;const n=t.oldValue,e=t.getValue();t.equals(n,e)||(t.oldValue=e,t.notify(e,n))}function Ji(){let t=10;for(;Li&&t--;){Li=null;const t=Zi(),n=qi.acquire();for(const e of t){const t=e.uid;Hi(e),t===e.uid&&e.removed&&n.push(e)}for(const t of Fi)t.removed&&(n.push(t),Fi.delete(t));for(const t of n)Di.pool.release(t);qi.release(n),qi.release(t),Bi.forEach((t=>t()))}}function Zi(){const t=qi.acquire();t.length=Fi.size;let n=0;for(const e of Fi)t[n]=e,++n;return Fi.clear(),t}const Bi=new Set;function Yi(t,n,e=!1,r=R){return e?function(t,n,e){let r=!1;return Ui(t,((t,i)=>{r||(r=!0,e(i,t)||n(t,i),r=!1)}))}(t,n,r):function(t,n,e){let r,i,o=Gi(t,((t,s)=>{r&&r.uid!==i?o.remove():(r||(r=Di.acquireTracked(t,n,s,e),i=r.uid),Wi(r))}));return{remove:Ne((()=>{o.remove(),r&&(r.uid!==i||r.removed||(r.removed=!0,Wi(r)),r=null),o=null}))}}(t,n,r)}function Xi(t){if(null==t)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return t.constructor&&t.constructor.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}class Ki{constructor(...t){if(this.constructor===Ki)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new li(this)}),t.length>0&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,t))}static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:n,declaredClass:e,constructor:r}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const i=this;class o extends i{constructor(...t){super(...t),this.inherited=null,r&&r.apply(this,t)}}Fe(o.prototype);for(const n in t){const e=t[n];o.prototype[n]="function"==typeof e?function(...t){const r=this.inherited;let o;this.inherited=function(...t){if(i.prototype[n])return i.prototype[n].apply(this,t)};try{o=e.apply(this,t)}catch(t){throw this.inherited=r,t}return this.inherited=r,o}:t[n]}for(const t in n)Ze(Xi(n[t]))(o.prototype,t);return Jr(e)(o)}postscript(t){const n=this.__accessor__,e=n.ctorArgs||t;n.initialize(),e&&(this.set(e),n.ctorArgs=null),n.constructed(),this.initialize()}initialize(){}destroy(){this.destroyed||(function(t){for(const n of Fi.values())n.target===t&&(n.removed=!0)}(this),this.__accessor__.destroy())}get initialized(){return this.__accessor__&&this.__accessor__.initialized||!1}get constructed(){return this.__accessor__&&this.__accessor__.lifecycle===tr.CONSTRUCTED||!1}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(t){this.get(t)}get(t){return ze(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}isInstanceOf(t){return function(t,n,e={}){if(A("esri-deprecation-warnings")){const{moduleName:r}=e;Xr(t,"Function: "+(r?r+"::":"")+n+"()",e)}}(ht.getLogger(this.declaredClass),"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"}),this instanceof t}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,n){return Je(this,t,n),this}watch(t,n,e){return function(t,n,e,r=!1){return!t.__accessor__||t.__accessor__.destroyed?{remove(){}}:r?function(t,n,e){const r=Ie(t,n,e,((t,n,e)=>{let i=!1;return Ui((()=>Ge(t,n)),((o,s)=>{t.__accessor__.destroyed?r.remove():i||(i=!0,R(s,o)||e.call(t,o,s,n,t),i=!1)}))}));return r}(t,n,e):function(t,n,e){let r=Ie(t,n,e,((t,n,e)=>{let i,o,s=Gi((()=>Ge(t,n)),((s,a)=>{t.__accessor__.destroyed||i&&i.uid!==o?r.remove():(i||(i=Di.acquireUntracked(s,e,a,t,n),o=i.uid),Wi(i))}));return{remove:Ne((()=>{s.remove(),i&&(i.uid!==o||i.removed||(i.removed=!0,Wi(i)),i=null),r=s=null}))}}));return r}(t,n,e)}(this,t,n,e)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_override(t,n){return this.__accessor__.override(t,n)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,n){return this.__accessor__.internalSet(t,n),this}}class Vi{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const n=new Vi;return this._values.forEach(((e,r)=>{t&&t.has(r)||n.set(r,k(e.value),e.origin)})),n}get(t,n){n=this._normalizeOrigin(n);const e=this._values.get(t);return null==n||(null==e?void 0:e.origin)===n?null==e?void 0:e.value:void 0}originOf(t){var n,e;return null!=(n=null==(e=this._values.get(t))?void 0:e.origin)?n:Vr.USER}keys(t){t=this._normalizeOrigin(t);const n=[...this._values.keys()];return null==t?n:n.filter((n=>{var e;return(null==(e=this._values.get(n))?void 0:e.origin)===t}))}set(t,n,e){if((e=this._normalizeOrigin(e))===Vr.DEFAULTS){const n=this._values.get(t);if(n&&null!=n.origin&&n.origin>e)return}this._values.set(t,new Qi(n,e))}delete(t,n){var e;null!=(n=this._normalizeOrigin(n))&&(null==(e=this._values.get(t))?void 0:e.origin)!==n||this._values.delete(t)}has(t,n){var e;return null!=(n=this._normalizeOrigin(n))?(null==(e=this._values.get(t))?void 0:e.origin)===n:this._values.has(t)}forEach(t){this._values.forEach((({value:n},e)=>t(n,e)))}_normalizeOrigin(t){if(null!=t)return t===Vr.DEFAULTS?t:Vr.USER}}class Qi{constructor(t,n){this.value=t,this.origin=n}}function to(t,n,e){if(!t||!t.read||!1===t.read.enabled||!t.read.source)return!1;const r=t.read.source;if("string"==typeof r){if(r===n)return!0;if(r.indexOf(".")>-1&&0===r.indexOf(n)&&De(r,e))return!0}else for(const t of r){if(t===n)return!0;if(t.indexOf(".")>-1&&0===t.indexOf(n)&&De(t,e))return!0}return!1}function no(t,n,e,r,i){let o=Ur(n[e],i);(function(t){return t&&(!t.read||!1!==t.read.enabled&&!t.read.source)})(o)&&(t[e]=!0);for(const s of Object.getOwnPropertyNames(n))o=Ur(n[s],i),to(o,e,r)&&(t[s]=!0)}function eo(t,n,e,r){const i=zr(e.metadatas[n],"any",r),o=i&&i.default;if(void 0===o)return;const s="function"==typeof o?o.call(t,n,r):o;void 0!==s&&e.set(n,s)}const ro={origin:"service"},io=ht.getLogger("esri.core.accessorSupport.write");function oo(t,n,e,r,i){var o,s;const a={};return null==(o=n.write)||null==(s=o.writer)||s.call(t,r,a,e,i),a}function so(t,n,e,r,i,o){if(!r||!r.write)return!1;const s=t.get(e);if(!i&&r.write.overridePolicy){const n=r.write.overridePolicy.call(t,s,e,o);void 0!==n&&(i=n)}if(i||(i=r.write),!i||!1===i.enabled)return!1;if((null===s&&!i.allowNull&&!i.writerEnsuresNonNull||void 0===s)&&i.isRequired){const n=new yt("web-document-write:property-required",`Missing value for required property '${e}' on '${t.declaredClass}'`,{propertyName:e,target:t});return n&&o&&o.messages?o.messages.push(n):n&&!o&&io.error(n.name,n.message),!1}return!(void 0===s||null===s&&!i.allowNull&&!i.writerEnsuresNonNull||(!n.store.multipleOriginsSupported||n.store.originOf(e)===Vr.DEFAULTS)&&function(t,n,e,r,i){const o=r.default;return void 0!==o&&(null!=r.defaultEquals?r.defaultEquals(i):"function"==typeof o?!!Array.isArray(i)&&f(o.call(t,n,e),i):o===i)}(t,e,o,r,s)||!i.ignoreOrigin&&o&&o.origin&&n.store.multipleOriginsSupported&&n.store.originOf(e)<Qr(o.origin))}const ao=t=>{let n=class extends t{constructor(...t){super(...t);const n=Oe(this),e=n.store,r=new Vi;n.store=r,function(t,n,e){n.keys().forEach((t=>{e.set(t,n.get(t),Vr.DEFAULTS)})),Object.keys(t.metadatas).forEach((n=>{t.internalGet(n)&&e.set(n,t.internalGet(n),Vr.DEFAULTS)}))}(n,e,r)}read(t,n){!function(t,n,e=ro){if(!n||"object"!=typeof n)return;const r=Oe(t),i=r.metadatas,o={};for(const t of Object.getOwnPropertyNames(n))no(o,i,t,n,e);r.setDefaultOrigin(e.origin);for(const s of Object.getOwnPropertyNames(o)){const o=Ur(i[s],e).read,a=o&&o.source;let l;l=a&&"string"==typeof a?Ge(n,a):n[s],o&&o.reader&&(l=o.reader.call(t,l,n,e)),void 0!==l&&r.set(s,l)}if(!e||!e.ignoreDefaults){r.setDefaultOrigin("defaults");for(const n of Object.getOwnPropertyNames(i))o[n]||eo(t,n,r,e)}r.setDefaultOrigin("user")}(this,t,n)}write(t={},n){return function(t,n,e){if(t&&"function"==typeof t.toJSON&&(!t.toJSON.isDefaultToJSON||!t.write))return Ee(n,t.toJSON());const r=Oe(t),i=r.metadatas;for(const a in i){const l=Gr(i[a],e);if(!so(t,r,a,l,void 0,e))continue;const u=t.get(a),c=oo(t,l,l.write&&"string"==typeof l.write.target?l.write.target:a,u,e);var o,s;Object.keys(c).length>0&&(n=Ee(n,c),null!=e&&null!=(o=e.resources)&&null!=(s=o.pendingOperations)&&s.length&&Promise.all(e.resources.pendingOperations).then((()=>Ee(n,c))),e&&e.writtenProperties&&e.writtenProperties.push({target:t,propName:a,oldOrigin:ni(r.store.originOf(a)),newOrigin:e.origin}))}return n}(this,t,n)}toJSON(t){return this.write({},t)}static fromJSON(t,n){return lo.call(this,t,n)}};return n=te([Jr("esri.core.JSONSupport")],n),n.prototype.toJSON.isDefaultToJSON=!0,n};function lo(t,n){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new this;return e.read(t,n),e}let uo=class extends(ao(Ki)){};var co;let ho;uo=te([Jr("esri.core.JSONSupport")],uo),function(t){t[t.CGCS2000=4490]="CGCS2000",t[t.GCSMARS2000=104971]="GCSMARS2000",t[t.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",t[t.GCSMOON2000=104903]="GCSMOON2000"}(co||(co={}));const fo={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(ho=2e3;ho<=2045;ho++)fo[ho]=0;for(ho=2056;ho<=2065;ho++)fo[ho]=0;for(ho=2067;ho<=2135;ho++)fo[ho]=0;for(ho=2137;ho<=2154;ho++)fo[ho]=0;for(ho=2161;ho<=2170;ho++)fo[ho]=0;for(ho=2172;ho<=2193;ho++)fo[ho]=0;for(ho=2195;ho<=2198;ho++)fo[ho]=0;for(ho=2200;ho<=2203;ho++)fo[ho]=0;for(ho=2205;ho<=2217;ho++)fo[ho]=0;for(ho=2222;ho<=2224;ho++)fo[ho]=1;for(ho=2225;ho<=2250;ho++)fo[ho]=2;for(ho=2251;ho<=2253;ho++)fo[ho]=1;for(ho=2257;ho<=2264;ho++)fo[ho]=2;for(ho=2274;ho<=2279;ho++)fo[ho]=2;for(ho=2280;ho<=2282;ho++)fo[ho]=1;for(ho=2283;ho<=2289;ho++)fo[ho]=2;for(ho=2290;ho<=2292;ho++)fo[ho]=0;for(ho=2308;ho<=2313;ho++)fo[ho]=0;for(ho=2315;ho<=2491;ho++)fo[ho]=0;for(ho=2494;ho<=2866;ho++)fo[ho]=0;for(ho=2867;ho<=2869;ho++)fo[ho]=1;for(ho=2870;ho<=2888;ho++)fo[ho]=2;for(ho=2891;ho<=2895;ho++)fo[ho]=2;for(ho=2896;ho<=2898;ho++)fo[ho]=1;for(ho=2902;ho<=2908;ho++)fo[ho]=2;for(ho=2915;ho<=2920;ho++)fo[ho]=2;for(ho=2921;ho<=2923;ho++)fo[ho]=1;for(ho=2924;ho<=2930;ho++)fo[ho]=2;for(ho=2931;ho<=2962;ho++)fo[ho]=0;for(ho=2964;ho<=2968;ho++)fo[ho]=2;for(ho=2969;ho<=2973;ho++)fo[ho]=0;for(ho=2975;ho<=2991;ho++)fo[ho]=0;for(ho=2995;ho<=3051;ho++)fo[ho]=0;for(ho=3054;ho<=3079;ho++)fo[ho]=0;for(ho=3081;ho<=3088;ho++)fo[ho]=0;for(ho=3092;ho<=3101;ho++)fo[ho]=0;for(ho=3106;ho<=3138;ho++)fo[ho]=0;for(ho=3146;ho<=3151;ho++)fo[ho]=0;for(ho=3153;ho<=3166;ho++)fo[ho]=0;for(ho=3168;ho<=3172;ho++)fo[ho]=0;for(ho=3174;ho<=3203;ho++)fo[ho]=0;for(ho=3294;ho<=3358;ho++)fo[ho]=0;for(ho=3367;ho<=3403;ho++)fo[ho]=0;for(ho=3408;ho<=3416;ho++)fo[ho]=0;for(ho=3417;ho<=3438;ho++)fo[ho]=2;for(ho=3441;ho<=3446;ho++)fo[ho]=2;for(ho=3447;ho<=3450;ho++)fo[ho]=0;for(ho=3451;ho<=3459;ho++)fo[ho]=2;for(ho=3460;ho<=3478;ho++)fo[ho]=0;for(ho=3554;ho<=3559;ho++)fo[ho]=0;for(ho=3560;ho<=3570;ho++)fo[ho]=2;for(ho=3571;ho<=3581;ho++)fo[ho]=0;for(ho=3594;ho<=3597;ho++)fo[ho]=0;for(ho=3601;ho<=3604;ho++)fo[ho]=0;for(ho=3637;ho<=3639;ho++)fo[ho]=0;for(ho=3665;ho<=3667;ho++)fo[ho]=0;for(ho=3693;ho<=3695;ho++)fo[ho]=0;for(ho=3701;ho<=3727;ho++)fo[ho]=0;for(ho=3728;ho<=3739;ho++)fo[ho]=2;for(ho=3740;ho<=3751;ho++)fo[ho]=0;for(ho=3753;ho<=3760;ho++)fo[ho]=2;for(ho=3761;ho<=3773;ho++)fo[ho]=0;for(ho=3775;ho<=3777;ho++)fo[ho]=0;for(ho=3779;ho<=3781;ho++)fo[ho]=0;for(ho=3783;ho<=3785;ho++)fo[ho]=0;for(ho=3788;ho<=3791;ho++)fo[ho]=0;for(ho=3797;ho<=3802;ho++)fo[ho]=0;for(ho=3814;ho<=3816;ho++)fo[ho]=0;for(ho=3825;ho<=3829;ho++)fo[ho]=0;for(ho=3832;ho<=3841;ho++)fo[ho]=0;for(ho=3844;ho<=3852;ho++)fo[ho]=0;for(ho=3873;ho<=3885;ho++)fo[ho]=0;for(ho=3890;ho<=3893;ho++)fo[ho]=0;for(ho=3907;ho<=3912;ho++)fo[ho]=0;for(ho=3942;ho<=3950;ho++)fo[ho]=0;for(ho=3968;ho<=3970;ho++)fo[ho]=0;for(ho=3973;ho<=3976;ho++)fo[ho]=0;for(ho=3986;ho<=3989;ho++)fo[ho]=0;for(ho=3994;ho<=3997;ho++)fo[ho]=0;for(ho=4048;ho<=4051;ho++)fo[ho]=0;for(ho=4056;ho<=4063;ho++)fo[ho]=0;for(ho=4093;ho<=4096;ho++)fo[ho]=0;for(ho=4390;ho<=4398;ho++)fo[ho]=0;for(ho=4399;ho<=4413;ho++)fo[ho]=2;for(ho=4418;ho<=4433;ho++)fo[ho]=2;for(ho=4455;ho<=4457;ho++)fo[ho]=2;for(ho=4484;ho<=4489;ho++)fo[ho]=0;for(ho=4491;ho<=4554;ho++)fo[ho]=0;for(ho=4568;ho<=4589;ho++)fo[ho]=0;for(ho=4652;ho<=4656;ho++)fo[ho]=0;for(ho=4766;ho<=4800;ho++)fo[ho]=0;for(ho=5014;ho<=5016;ho++)fo[ho]=0;for(ho=5069;ho<=5072;ho++)fo[ho]=0;for(ho=5105;ho<=5130;ho++)fo[ho]=0;for(ho=5173;ho<=5188;ho++)fo[ho]=0;for(ho=5253;ho<=5259;ho++)fo[ho]=0;for(ho=5269;ho<=5275;ho++)fo[ho]=0;for(ho=5292;ho<=5311;ho++)fo[ho]=0;for(ho=5329;ho<=5331;ho++)fo[ho]=0;for(ho=5343;ho<=5349;ho++)fo[ho]=0;for(ho=5355;ho<=5357;ho++)fo[ho]=0;for(ho=5387;ho<=5389;ho++)fo[ho]=0;for(ho=5459;ho<=5463;ho++)fo[ho]=0;for(ho=5479;ho<=5482;ho++)fo[ho]=0;for(ho=5518;ho<=5520;ho++)fo[ho]=0;for(ho=5530;ho<=5539;ho++)fo[ho]=0;for(ho=5550;ho<=5552;ho++)fo[ho]=0;for(ho=5562;ho<=5583;ho++)fo[ho]=0;for(ho=5623;ho<=5625;ho++)fo[ho]=2;for(ho=5631;ho<=5639;ho++)fo[ho]=0;for(ho=5649;ho<=5653;ho++)fo[ho]=0;for(ho=5663;ho<=5680;ho++)fo[ho]=0;for(ho=5682;ho<=5685;ho++)fo[ho]=0;for(ho=5875;ho<=5877;ho++)fo[ho]=0;for(ho=5896;ho<=5899;ho++)fo[ho]=0;for(ho=5921;ho<=5940;ho++)fo[ho]=0;for(ho=6050;ho<=6125;ho++)fo[ho]=0;for(ho=6244;ho<=6275;ho++)fo[ho]=0;for(ho=6328;ho<=6348;ho++)fo[ho]=0;for(ho=6350;ho<=6356;ho++)fo[ho]=0;for(ho=6366;ho<=6372;ho++)fo[ho]=0;for(ho=6381;ho<=6387;ho++)fo[ho]=0;for(ho=6393;ho<=6404;ho++)fo[ho]=0;for(ho=6480;ho<=6483;ho++)fo[ho]=0;for(ho=6511;ho<=6514;ho++)fo[ho]=0;for(ho=6579;ho<=6581;ho++)fo[ho]=0;for(ho=6619;ho<=6624;ho++)fo[ho]=0;for(ho=6625;ho<=6627;ho++)fo[ho]=2;for(ho=6628;ho<=6632;ho++)fo[ho]=0;for(ho=6634;ho<=6637;ho++)fo[ho]=0;for(ho=6669;ho<=6692;ho++)fo[ho]=0;for(ho=6707;ho<=6709;ho++)fo[ho]=0;for(ho=6720;ho<=6723;ho++)fo[ho]=0;for(ho=6732;ho<=6738;ho++)fo[ho]=0;for(ho=6931;ho<=6933;ho++)fo[ho]=0;for(ho=6956;ho<=6959;ho++)fo[ho]=0;for(ho=7005;ho<=7007;ho++)fo[ho]=0;for(ho=7057;ho<=7070;ho++)fo[ho]=2;for(ho=7074;ho<=7082;ho++)fo[ho]=0;for(ho=7109;ho<=7118;ho++)fo[ho]=0;for(ho=7119;ho<=7127;ho++)fo[ho]=1;for(ho=7374;ho<=7376;ho++)fo[ho]=0;for(ho=7528;ho<=7586;ho++)fo[ho]=0;for(ho=7587;ho<=7645;ho++)fo[ho]=2;for(ho=7692;ho<=7696;ho++)fo[ho]=0;for(ho=7755;ho<=7787;ho++)fo[ho]=0;for(ho=7791;ho<=7795;ho++)fo[ho]=0;for(ho=7799;ho<=7801;ho++)fo[ho]=0;for(ho=7803;ho<=7805;ho++)fo[ho]=0;for(ho=7825;ho<=7831;ho++)fo[ho]=0;for(ho=7845;ho<=7859;ho++)fo[ho]=0;for(ho=8013;ho<=8032;ho++)fo[ho]=0;for(ho=8065;ho<=8068;ho++)fo[ho]=1;for(ho=8518;ho<=8529;ho++)fo[ho]=2;for(ho=8533;ho<=8536;ho++)fo[ho]=2;for(ho=8538;ho<=8540;ho++)fo[ho]=2;for(ho=8677;ho<=8679;ho++)fo[ho]=0;for(ho=8836;ho<=8840;ho++)fo[ho]=0;for(ho=8857;ho<=8859;ho++)fo[ho]=0;for(ho=8908;ho<=8910;ho++)fo[ho]=0;for(ho=9154;ho<=9159;ho++)fo[ho]=0;for(ho=9205;ho<=9218;ho++)fo[ho]=0;for(ho=9271;ho<=9273;ho++)fo[ho]=0;for(ho=9295;ho<=9297;ho++)fo[ho]=0;for(ho=9356;ho<=9360;ho++)fo[ho]=0;for(ho=9404;ho<=9407;ho++)fo[ho]=0;for(ho=9476;ho<=9482;ho++)fo[ho]=0;for(ho=9487;ho<=9494;ho++)fo[ho]=0;for(ho=9697;ho<=9699;ho++)fo[ho]=0;for(ho=20002;ho<=20032;ho++)fo[ho]=0;for(ho=20062;ho<=20092;ho++)fo[ho]=0;for(ho=20135;ho<=20138;ho++)fo[ho]=0;for(ho=20248;ho<=20258;ho++)fo[ho]=0;for(ho=20348;ho<=20358;ho++)fo[ho]=0;for(ho=20436;ho<=20440;ho++)fo[ho]=0;for(ho=20822;ho<=20824;ho++)fo[ho]=0;for(ho=20904;ho<=20932;ho++)fo[ho]=0;for(ho=20934;ho<=20936;ho++)fo[ho]=0;for(ho=21004;ho<=21032;ho++)fo[ho]=0;for(ho=21035;ho<=21037;ho++)fo[ho]=0;for(ho=21095;ho<=21097;ho++)fo[ho]=0;for(ho=21148;ho<=21150;ho++)fo[ho]=0;for(ho=21207;ho<=21264;ho++)fo[ho]=0;for(ho=21307;ho<=21364;ho++)fo[ho]=0;for(ho=21413;ho<=21423;ho++)fo[ho]=0;for(ho=21453;ho<=21463;ho++)fo[ho]=0;for(ho=21473;ho<=21483;ho++)fo[ho]=0;for(ho=21780;ho<=21782;ho++)fo[ho]=0;for(ho=21891;ho<=21894;ho++)fo[ho]=0;for(ho=21896;ho<=21899;ho++)fo[ho]=0;for(ho=22171;ho<=22177;ho++)fo[ho]=0;for(ho=22181;ho<=22187;ho++)fo[ho]=0;for(ho=22191;ho<=22197;ho++)fo[ho]=0;for(ho=22234;ho<=22236;ho++)fo[ho]=0;for(ho=22521;ho<=22525;ho++)fo[ho]=0;for(ho=22991;ho<=22994;ho++)fo[ho]=0;for(ho=23028;ho<=23038;ho++)fo[ho]=0;for(ho=23830;ho<=23853;ho++)fo[ho]=0;for(ho=23866;ho<=23872;ho++)fo[ho]=0;for(ho=23877;ho<=23884;ho++)fo[ho]=0;for(ho=23886;ho<=23894;ho++)fo[ho]=0;for(ho=23946;ho<=23948;ho++)fo[ho]=0;for(ho=24311;ho<=24313;ho++)fo[ho]=0;for(ho=24342;ho<=24347;ho++)fo[ho]=0;for(ho=24370;ho<=24374;ho++)fo[ho]=10;for(ho=24375;ho<=24381;ho++)fo[ho]=0;for(ho=24718;ho<=24721;ho++)fo[ho]=0;for(ho=24817;ho<=24821;ho++)fo[ho]=0;for(ho=24877;ho<=24882;ho++)fo[ho]=0;for(ho=24891;ho<=24893;ho++)fo[ho]=0;for(ho=25391;ho<=25395;ho++)fo[ho]=0;for(ho=25828;ho<=25838;ho++)fo[ho]=0;for(ho=26191;ho<=26195;ho++)fo[ho]=0;for(ho=26391;ho<=26393;ho++)fo[ho]=0;for(ho=26701;ho<=26722;ho++)fo[ho]=0;for(ho=26729;ho<=26799;ho++)fo[ho]=2;for(ho=26801;ho<=26803;ho++)fo[ho]=2;for(ho=26811;ho<=26813;ho++)fo[ho]=2;for(ho=26847;ho<=26870;ho++)fo[ho]=2;for(ho=26891;ho<=26899;ho++)fo[ho]=0;for(ho=26901;ho<=26923;ho++)fo[ho]=0;for(ho=26929;ho<=26946;ho++)fo[ho]=0;for(ho=26948;ho<=26998;ho++)fo[ho]=0;for(ho=27037;ho<=27040;ho++)fo[ho]=0;for(ho=27205;ho<=27232;ho++)fo[ho]=0;for(ho=27258;ho<=27260;ho++)fo[ho]=0;for(ho=27391;ho<=27398;ho++)fo[ho]=0;for(ho=27561;ho<=27564;ho++)fo[ho]=0;for(ho=27571;ho<=27574;ho++)fo[ho]=0;for(ho=27581;ho<=27584;ho++)fo[ho]=0;for(ho=27591;ho<=27594;ho++)fo[ho]=0;for(ho=28191;ho<=28193;ho++)fo[ho]=0;for(ho=28348;ho<=28358;ho++)fo[ho]=0;for(ho=28402;ho<=28432;ho++)fo[ho]=0;for(ho=28462;ho<=28492;ho++)fo[ho]=0;for(ho=29118;ho<=29122;ho++)fo[ho]=0;for(ho=29168;ho<=29172;ho++)fo[ho]=0;for(ho=29177;ho<=29185;ho++)fo[ho]=0;for(ho=29187;ho<=29195;ho++)fo[ho]=0;for(ho=29900;ho<=29903;ho++)fo[ho]=0;for(ho=30161;ho<=30179;ho++)fo[ho]=0;for(ho=30491;ho<=30494;ho++)fo[ho]=0;for(ho=30729;ho<=30732;ho++)fo[ho]=0;for(ho=31251;ho<=31259;ho++)fo[ho]=0;for(ho=31265;ho<=31268;ho++)fo[ho]=0;for(ho=31275;ho<=31279;ho++)fo[ho]=0;for(ho=31281;ho<=31297;ho++)fo[ho]=0;for(ho=31461;ho<=31469;ho++)fo[ho]=0;for(ho=31491;ho<=31495;ho++)fo[ho]=0;for(ho=31917;ho<=31922;ho++)fo[ho]=0;for(ho=31965;ho<=32e3;ho++)fo[ho]=0;for(ho=32001;ho<=32003;ho++)fo[ho]=2;for(ho=32005;ho<=32031;ho++)fo[ho]=2;for(ho=32033;ho<=32060;ho++)fo[ho]=2;for(ho=32064;ho<=32067;ho++)fo[ho]=2;for(ho=32074;ho<=32077;ho++)fo[ho]=2;for(ho=32081;ho<=32086;ho++)fo[ho]=0;for(ho=32107;ho<=32130;ho++)fo[ho]=0;for(ho=32133;ho<=32158;ho++)fo[ho]=0;for(ho=32164;ho<=32167;ho++)fo[ho]=2;for(ho=32180;ho<=32199;ho++)fo[ho]=0;for(ho=32201;ho<=32260;ho++)fo[ho]=0;for(ho=32301;ho<=32360;ho++)fo[ho]=0;for(ho=32601;ho<=32662;ho++)fo[ho]=0;for(ho=32664;ho<=32667;ho++)fo[ho]=2;for(ho=32701;ho<=32761;ho++)fo[ho]=0;for(ho=53001;ho<=53004;ho++)fo[ho]=0;for(ho=53008;ho<=53019;ho++)fo[ho]=0;for(ho=53021;ho<=53032;ho++)fo[ho]=0;for(ho=53034;ho<=53037;ho++)fo[ho]=0;for(ho=53042;ho<=53046;ho++)fo[ho]=0;for(ho=53074;ho<=53080;ho++)fo[ho]=0;for(ho=54001;ho<=54004;ho++)fo[ho]=0;for(ho=54008;ho<=54019;ho++)fo[ho]=0;for(ho=54021;ho<=54032;ho++)fo[ho]=0;for(ho=54034;ho<=54037;ho++)fo[ho]=0;for(ho=54042;ho<=54046;ho++)fo[ho]=0;for(ho=54048;ho<=54053;ho++)fo[ho]=0;for(ho=54074;ho<=54080;ho++)fo[ho]=0;for(ho=54098;ho<=54101;ho++)fo[ho]=0;for(ho=102001;ho<=102040;ho++)fo[ho]=0;for(ho=102042;ho<=102063;ho++)fo[ho]=0;for(ho=102065;ho<=102067;ho++)fo[ho]=0;for(ho=102070;ho<=102117;ho++)fo[ho]=0;for(ho=102122;ho<=102216;ho++)fo[ho]=0;for(ho=102221;ho<=102377;ho++)fo[ho]=0;for(ho=102382;ho<=102388;ho++)fo[ho]=0;for(ho=102389;ho<=102398;ho++)fo[ho]=2;for(ho=102399;ho<=102444;ho++)fo[ho]=0;for(ho=102445;ho<=102447;ho++)fo[ho]=2;for(ho=102448;ho<=102458;ho++)fo[ho]=0;for(ho=102459;ho<=102468;ho++)fo[ho]=2;for(ho=102469;ho<=102499;ho++)fo[ho]=0;for(ho=102500;ho<=102519;ho++)fo[ho]=1;for(ho=102520;ho<=102524;ho++)fo[ho]=0;for(ho=102525;ho<=102529;ho++)fo[ho]=2;for(ho=102530;ho<=102588;ho++)fo[ho]=0;for(ho=102590;ho<=102598;ho++)fo[ho]=0;for(ho=102601;ho<=102603;ho++)fo[ho]=0;for(ho=102605;ho<=102628;ho++)fo[ho]=0;for(ho=102629;ho<=102646;ho++)fo[ho]=2;for(ho=102648;ho<=102700;ho++)fo[ho]=2;for(ho=102701;ho<=102703;ho++)fo[ho]=0;for(ho=102707;ho<=102730;ho++)fo[ho]=2;for(ho=102733;ho<=102758;ho++)fo[ho]=2;for(ho=102767;ho<=102900;ho++)fo[ho]=0;for(ho=102901;ho<=102933;ho++)fo[ho]=2;for(ho=102934;ho<=102950;ho++)fo[ho]=13;for(ho=102951;ho<=102960;ho++)fo[ho]=0;for(ho=102965;ho<=102969;ho++)fo[ho]=0;for(ho=102971;ho<=102973;ho++)fo[ho]=0;for(ho=102975;ho<=102989;ho++)fo[ho]=0;for(ho=102990;ho<=102992;ho++)fo[ho]=1;for(ho=102997;ho<=103002;ho++)fo[ho]=0;for(ho=103003;ho<=103008;ho++)fo[ho]=2;for(ho=103009;ho<=103011;ho++)fo[ho]=0;for(ho=103012;ho<=103014;ho++)fo[ho]=2;for(ho=103019;ho<=103021;ho++)fo[ho]=0;for(ho=103022;ho<=103024;ho++)fo[ho]=2;for(ho=103029;ho<=103031;ho++)fo[ho]=0;for(ho=103032;ho<=103034;ho++)fo[ho]=2;for(ho=103065;ho<=103068;ho++)fo[ho]=0;for(ho=103074;ho<=103076;ho++)fo[ho]=0;for(ho=103077;ho<=103079;ho++)fo[ho]=1;for(ho=103080;ho<=103082;ho++)fo[ho]=0;for(ho=103083;ho<=103085;ho++)fo[ho]=2;for(ho=103090;ho<=103093;ho++)fo[ho]=0;for(ho=103097;ho<=103099;ho++)fo[ho]=0;for(ho=103100;ho<=103102;ho++)fo[ho]=2;for(ho=103107;ho<=103109;ho++)fo[ho]=0;for(ho=103110;ho<=103112;ho++)fo[ho]=2;for(ho=103113;ho<=103116;ho++)fo[ho]=0;for(ho=103117;ho<=103120;ho++)fo[ho]=2;for(ho=103153;ho<=103157;ho++)fo[ho]=0;for(ho=103158;ho<=103162;ho++)fo[ho]=2;for(ho=103163;ho<=103165;ho++)fo[ho]=0;for(ho=103166;ho<=103168;ho++)fo[ho]=1;for(ho=103169;ho<=103171;ho++)fo[ho]=2;for(ho=103186;ho<=103188;ho++)fo[ho]=0;for(ho=103189;ho<=103191;ho++)fo[ho]=2;for(ho=103192;ho<=103195;ho++)fo[ho]=0;for(ho=103196;ho<=103199;ho++)fo[ho]=2;for(ho=103200;ho<=103224;ho++)fo[ho]=0;for(ho=103225;ho<=103227;ho++)fo[ho]=1;for(ho=103232;ho<=103237;ho++)fo[ho]=0;for(ho=103238;ho<=103243;ho++)fo[ho]=2;for(ho=103244;ho<=103246;ho++)fo[ho]=0;for(ho=103247;ho<=103249;ho++)fo[ho]=2;for(ho=103254;ho<=103256;ho++)fo[ho]=0;for(ho=103257;ho<=103259;ho++)fo[ho]=2;for(ho=103264;ho<=103266;ho++)fo[ho]=0;for(ho=103267;ho<=103269;ho++)fo[ho]=2;for(ho=103300;ho<=103375;ho++)fo[ho]=0;for(ho=103381;ho<=103383;ho++)fo[ho]=0;for(ho=103384;ho<=103386;ho++)fo[ho]=1;for(ho=103387;ho<=103389;ho++)fo[ho]=0;for(ho=103390;ho<=103392;ho++)fo[ho]=2;for(ho=103397;ho<=103399;ho++)fo[ho]=0;for(ho=103400;ho<=103471;ho++)fo[ho]=2;for(ho=103476;ho<=103478;ho++)fo[ho]=0;for(ho=103479;ho<=103481;ho++)fo[ho]=2;for(ho=103486;ho<=103488;ho++)fo[ho]=0;for(ho=103489;ho<=103491;ho++)fo[ho]=2;for(ho=103492;ho<=103495;ho++)fo[ho]=0;for(ho=103496;ho<=103499;ho++)fo[ho]=2;for(ho=103528;ho<=103543;ho++)fo[ho]=0;for(ho=103544;ho<=103548;ho++)fo[ho]=2;for(ho=103549;ho<=103551;ho++)fo[ho]=0;for(ho=103552;ho<=103554;ho++)fo[ho]=1;for(ho=103555;ho<=103557;ho++)fo[ho]=2;for(ho=103558;ho<=103560;ho++)fo[ho]=0;for(ho=103571;ho<=103573;ho++)fo[ho]=0;for(ho=103574;ho<=103576;ho++)fo[ho]=2;for(ho=103577;ho<=103580;ho++)fo[ho]=0;for(ho=103581;ho<=103583;ho++)fo[ho]=2;for(ho=103595;ho<=103694;ho++)fo[ho]=0;for(ho=103696;ho<=103699;ho++)fo[ho]=0;for(ho=103700;ho<=103793;ho++)fo[ho]=2;for(ho=103794;ho<=103872;ho++)fo[ho]=0;for(ho=103900;ho<=103971;ho++)fo[ho]=2;const po={102113:!0,102100:!0,3857:!0,3785:!0},mo={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},yo='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',go=[-20037508.342788905,20037508.342788905],vo=[-20037508.342787,20037508.342787],wo={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:go,origin:vo,dx:1e-5},102100:{wkTemplate:yo,valid:go,origin:vo,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:go,origin:vo,dx:1e-5},3857:{wkTemplate:yo,valid:go,origin:vo,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function bo(t,n){return!a(t)&&!a(n)&&(t===n||(null!=t.wkid||null!=n.wkid?t.wkid===n.wkid||xo(t)&&xo(n)||null!=n.latestWkid&&t.wkid===n.latestWkid||null!=t.latestWkid&&n.wkid===t.latestWkid:!(!t.wkt||!n.wkt)&&t.wkt.toUpperCase()===n.wkt.toUpperCase()))}function Mo(t){return To(t)&&t.wkid?wo[t.wkid]:null}function _o(t){return To(t)&&4326===t.wkid}function xo(t){return To(t)&&null!=t.wkid&&!0===po[t.wkid]}function So(t){return t===co.GCSMARS2000||t===co.GCSMARS2000_SPHERE}function Ao(t){return t===co.GCSMOON2000}function To(t){return s(t)&&(null!=t.wkid&&t.wkid>=2e3||null!=t.wkt)}const ko={wkid:4326,wkt:ut(wo[4326].wkTemplate,{Central_Meridian:"0.0"})};var Ro;let Oo=Ro=class extends uo{constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}static fromJSON(t){if(!t)return null;if(t.wkid){if(102100===t.wkid)return Ro.WebMercator;if(4326===t.wkid)return Ro.WGS84}const n=new Ro;return n.read(t),n}normalizeCtorArgs(t){return t&&"object"==typeof t?t:{["string"==typeof t?"wkt":"wkid"]:t}}get isWGS84(){return _o(this)}get isWebMercator(){return xo(this)}get isGeographic(){return function(t){return!!To(t)&&(t.wkid?null==fo[t.wkid]:!!t.wkt&&!!/^\s*GEOGCS/i.test(t.wkt))}(this)}get isWrappable(){return function(t){return To(t)&&null!=t.wkid&&!0===mo[t.wkid]}(this)}writeWkt(t,n){this.wkid||(n.wkt=t)}clone(){if(this===Ro.WGS84)return Ro.WGS84;if(this===Ro.WebMercator)return Ro.WebMercator;const t=new Ro;return null!=this.wkid?(t.wkid=this.wkid,null!=this.latestWkid&&(t.latestWkid=this.latestWkid),null!=this.vcsWkid&&(t.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(t.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(t.wkt=this.wkt),this.imageCoordinateSystem&&(t.imageCoordinateSystem=k(this.imageCoordinateSystem)),t}equals(t){if(null==t)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==t.imageCoordinateSystem)return!1;const{id:n,referenceServiceName:e}=t.imageCoordinateSystem,{geodataXform:r}=t.imageCoordinateSystem,i=this.imageCoordinateSystem;return null==n||r?JSON.stringify(i)===JSON.stringify(t.imageCoordinateSystem):e?i.id===n&&i.referenceServiceName===e:i.id===n}return bo(this,t)}toJSON(t){return this.write(void 0,t)}};Oo.GCS_NAD_1927=null,Oo.WGS84=null,Oo.WebMercator=null,Oo.PlateCarree=null,te([Ze({readOnly:!0})],Oo.prototype,"isWGS84",null),te([Ze({readOnly:!0})],Oo.prototype,"isWebMercator",null),te([Ze({readOnly:!0})],Oo.prototype,"isGeographic",null),te([Ze({readOnly:!0})],Oo.prototype,"isWrappable",null),te([Ze({type:xe,json:{write:!0}})],Oo.prototype,"latestWkid",void 0),te([Ze({type:xe,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt}}}}}}})],Oo.prototype,"wkid",void 0),te([Ze({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid}}}}}}})],Oo.prototype,"wkt",void 0),te([Br("wkt"),Br("web-scene","wkt")],Oo.prototype,"writeWkt",null),te([Ze({type:xe,json:{write:!0}})],Oo.prototype,"vcsWkid",void 0),te([Ze({type:xe,json:{write:!0}})],Oo.prototype,"latestVcsWkid",void 0),te([Ze()],Oo.prototype,"imageCoordinateSystem",void 0),Oo=Ro=te([Jr("esri.geometry.SpatialReference")],Oo),Oo.prototype.toJSON.isDefaultToJSON=!0,Oo.GCS_NAD_1927=new Oo({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),Oo.WGS84=new Oo(ko),Oo.WebMercator=new Oo({wkid:102100,latestWkid:3857}),Oo.PlateCarree=new Oo({wkid:32662}),Object.freeze&&(Object.freeze(Oo.GCS_NAD_1927),Object.freeze(Oo.WGS84),Object.freeze(Oo.WebMercator));const Eo=Oo;let Po=class extends uo{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Eo.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,n){if(t instanceof Eo)return t;if(null!=t){const e=new Eo;return e.read(t,n),e}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,n){this.cache[t]=n}};te([Ze()],Po.prototype,"type",void 0),te([Ze({readOnly:!0})],Po.prototype,"cache",null),te([Ze({readOnly:!0})],Po.prototype,"extent",null),te([Ze({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Po.prototype,"hasM",void 0),te([Ze({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Po.prototype,"hasZ",void 0),te([Ze({type:Eo,json:{write:!0}})],Po.prototype,"spatialReference",void 0),te([Qe("spatialReference")],Po.prototype,"readSpatialReference",null),Po=te([Jr("esri.geometry.Geometry")],Po);const Co=Po;class jo{constructor(t,n,e,r){this.semiMajorAxis=t,this.flattening=n,this.outerAtmosphereRimWidth=e,this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening),this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=r||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const Io=new jo(6378137,1/298.257223563,3e5,.006694379990137799),No=new jo(3396190,1/169.8944472236118,23e4),$o=new jo(1737400,0,0);function Uo(t){return 57.29577951308232*t}function Go(t){return.017453292519943*t}function zo(t){return null!=t.wkid||null!=t.wkt}const Do=[0,0];function qo(t,n,e,r,i){const o=t,s=i;if(s.spatialReference=e,"x"in o&&"x"in s)[s.x,s.y]=n(o.x,o.y,Do,r);else if("xmin"in o&&"xmin"in s)[s.xmin,s.ymin]=n(o.xmin,o.ymin,Do,r),[s.xmax,s.ymax]=n(o.xmax,o.ymax,Do,r);else if("paths"in o&&"paths"in s||"rings"in o&&"rings"in s){const t="paths"in o?o.paths:o.rings,e=[];let i;for(let o=0;o<t.length;o++){const s=t[o];i=[],e.push(i);for(let t=0;t<s.length;t++)i.push(n(s[t][0],s[t][1],[0,0],r)),s[t].length>2&&i[t].push(s[t][2]),s[t].length>3&&i[t].push(s[t][3])}"paths"in s?s.paths=e:s.rings=e}else if("points"in o&&"points"in s){const t=o.points,e=[];for(let i=0;i<t.length;i++)e[i]=n(t[i][0],t[i][1],[0,0],r),t[i].length>2&&e[i].push(t[i][2]),t[i].length>3&&e[i].push(t[i][3]);s.points=e}return i}function Fo(t,n){const e=t&&(zo(t)?t:t.spatialReference),r=n&&(zo(n)?n:n.spatialReference);return!(t&&"type"in t&&"mesh"===t.type||n&&"type"in n&&"mesh"===n.type||!e||!r)&&(!!bo(r,e)||xo(r)&&_o(e)||xo(e)&&_o(r))}function Lo(t,n,e=[0,0]){n>89.99999?n=89.99999:n<-89.99999&&(n=-89.99999);const r=Go(n);return e[0]=Go(t)*Io.radius,e[1]=Io.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),e}function Wo(t,n,e=[0,0],r=!1){const i=Uo(t/Io.radius);return e[0]=r?i:i-360*Math.floor((i+180)/360),e[1]=Uo(Math.PI/2-2*Math.atan(Math.exp(-n/Io.radius))),e}function Ho(t,n=!1,e=k(t)){return qo(t,Lo,Eo.WebMercator,n,e)}function Jo(t,n=!1,e=k(t)){return qo(t,Wo,Eo.WGS84,n,e)}var Zo;const Bo=[0,0];function Yo(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}const Xo=ht.getLogger("esri.geometry.Point");let Ko=Zo=class extends Co{constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}static copy(t,n){n._set("x",t._get("x")),n._set("y",t._get("y")),n._set("z",t._get("z")),n._set("m",t._get("m"));const e=t._get("spatialReference");n._set("spatialReference",Object.isFrozen(e)?e:e.clone())}normalizeCtorArgs(t,n,e,r,i){let o;if(Array.isArray(t))o=t,i=n,t=o[0],n=o[1],e=o[2],r=o[3];else if(t&&"object"==typeof t){if(o=t,t=null!=o.x?o.x:o.longitude,n=null!=o.y?o.y:o.latitude,e=o.z,r=o.m,(i=o.spatialReference)&&"esri.geometry.SpatialReference"!==i.declaredClass&&(i=new Eo(i)),null!=o.longitude||null!=o.latitude)if(null==o.longitude)Xo.warn(".longitude=","Latitude was defined without longitude");else if(null==o.latitude)Xo.warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&i&&i.isWebMercator){const e=Lo(o.longitude,o.latitude,Bo);t=e[0],n=e[1]}}else Yo(e)?(i=e,e=null):Yo(r)&&(i=r,r=null);const s={x:t,y:n};return null==s.x&&null!=s.y?Xo.warn(".y=","Y coordinate was defined without an X coordinate"):null==s.y&&null!=s.x&&Xo.warn(".x=","X coordinate was defined without a Y coordinate"),null!=i&&(s.spatialReference=i),null!=e&&(s.z=e),null!=r&&(s.m=r),s}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(t){t!==(void 0!==this._get("m"))&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return void 0!==this.z}set hasZ(t){t!==(void 0!==this._get("z"))&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){const{spatialReference:t,x:n,y:e}=this;if(t){if(t.isWebMercator)return Wo(n,e,Bo)[1];if(t.isGeographic)return e}return null}set latitude(t){const{spatialReference:n,x:e}=this;n&&(n.isWebMercator?this._set("y",Lo(e,t,Bo)[1]):n.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){const{x:t,y:n,spatialReference:e}=this;if(e){if(e.isWebMercator)return Wo(t,n,Bo)[0];if(e.isGeographic)return t}return null}set longitude(t){const{y:n,spatialReference:e}=this;e&&(e.isWebMercator?this._set("x",Lo(t,n,Bo)[0]):e.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,n,e){n[e]=isNaN(t)?"NaN":t}readX(t){return"string"==typeof t?NaN:t}clone(){const t=new Zo;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return Zo.copy(t,this),this}equals(t){if(a(t))return!1;const{x:n,y:e,z:r,m:i,spatialReference:o}=this,{z:s,m:l}=t;let{x:u,y:c,spatialReference:h}=t;if(!o.equals(h))if(o.isWebMercator&&h.isWGS84)[u,c]=Lo(u,c),h=o;else{if(!o.isWGS84||!h.isWebMercator)return!1;[u,c]=Wo(u,c),h=o}return n===u&&e===c&&r===s&&i===l&&o.wkid===h.wkid}offset(t,n,e){return function(t,n,e,r){var i;return t.x=t.x+n,t.y=t.y+e,null!=r&&(t.z=(null!=(i=t.z)?i:0)+r),t}(this,t,n,e)}normalize(){if(!this.spatialReference)return this;const t=Mo(this.spatialReference);if(!t)return this;let n=this.x;const[e,r]=t.valid,i=2*r;let o;return n>r?(o=Math.ceil(Math.abs(n-r)/i),n-=o*i):n<e&&(o=Math.ceil(Math.abs(n-e)/i),n+=o*i),this._set("x",n),this}distance(t){return function(t,n){const e=t.x-n.x,r=t.y-n.y,i=t.hasZ&&n.hasZ?t.z-n.z:0;return Math.sqrt(e*e+r*r+i*i)}(this,t)}toArray(){const t=this.hasZ,n=this.hasM;return t&&n?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:n?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};te([Ze({readOnly:!0})],Ko.prototype,"cache",null),te([Ze({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ko.prototype,"hasM",null),te([Ze({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ko.prototype,"hasZ",null),te([Ze({type:Number})],Ko.prototype,"latitude",null),te([Ze({type:Number})],Ko.prototype,"longitude",null),te([Ze({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Ve((t=>isNaN(t)?t:oe(t)))],Ko.prototype,"x",void 0),te([Br("x")],Ko.prototype,"writeX",null),te([Qe("x")],Ko.prototype,"readX",null),te([Ze({type:Number,json:{write:!0}})],Ko.prototype,"y",void 0),te([Ze({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ko.prototype,"z",void 0),te([Ze({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ko.prototype,"m",void 0),Ko=Zo=te([Jr("esri.geometry.Point")],Ko),Ko.prototype.toJSON.isDefaultToJSON=!0;const Vo=Ko;function Qo(t,n,e){return[t,n,e]}function ts(){return Qo(1,1,1)}function ns(){return Qo(1,0,0)}function es(){return Qo(0,1,0)}function rs(){return Qo(0,0,1)}const is=ts(),os=ns(),ss=es(),as=rs();Object.freeze({__proto__:null,create:function(){return[0,0,0]},clone:function(t){return[t[0],t[1],t[2]]},fromValues:Qo,fromArray:function(t){const n=[0,0,0],e=Math.min(3,t.length);for(let r=0;r<e;++r)n[r]=t[r];return n},createView:function(t,n){return new Float64Array(t,n,3)},zeros:function(){return[0,0,0]},ones:ts,unitX:ns,unitY:es,unitZ:rs,ZEROS:[0,0,0],ONES:is,UNIT_X:os,UNIT_Y:ss,UNIT_Z:as});const ls=1e-6,us=Math.random,cs=Math.PI/180,hs=180/Math.PI;function fs(t){const n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)}function ds(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function ps(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function ms(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function ys(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t}function gs(t,n){const e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return Math.sqrt(e*e+r*r+i*i)}function vs(t,n){const e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return e*e+r*r+i*i}function ws(t){const n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r}function bs(t,n){const e=n[0],r=n[1],i=n[2];let o=e*e+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o),t}function Ms(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}Object.freeze({__proto__:null,EPSILON:ls,RANDOM:us,toRadian:function(t){return t*cs},toDegree:function(t){return t*hs},equals:function(t,n){return Math.abs(t-n)<=ls*Math.max(1,Math.abs(t),Math.abs(n))}});const _s=[0,0,0],xs=[0,0,0];function Ss(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function As(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function Ts(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function ks(t,n){const e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return Math.sqrt(e*e+r*r+i*i+o*o)}function Rs(t,n){const e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return e*e+r*r+i*i+o*o}function Os(t){const n=t[0],e=t[1],r=t[2],i=t[3];return Math.sqrt(n*n+e*e+r*r+i*i)}function Es(t){const n=t[0],e=t[1],r=t[2],i=t[3];return n*n+e*e+r*r+i*i}Object.freeze({__proto__:null,length:fs,copy:ds,set:function(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t},add:function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t},subtract:ps,multiply:ms,divide:ys,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},min:function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t},max:function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t},round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},scale:function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t},scaleAndAdd:function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t},distance:gs,squaredDistance:vs,squaredLength:ws,negate:function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},normalize:bs,dot:Ms,cross:function(t,n,e){const r=n[0],i=n[1],o=n[2],s=e[0],a=e[1],l=e[2];return t[0]=i*l-o*a,t[1]=o*s-r*l,t[2]=r*a-i*s,t},lerp:function(t,n,e,r){const i=n[0],o=n[1],s=n[2];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=s+r*(e[2]-s),t},hermite:function(t,n,e,r,i,o){const s=o*o,a=s*(2*o-3)+1,l=s*(o-2)+o,u=s*(o-1),c=s*(3-2*o);return t[0]=n[0]*a+e[0]*l+r[0]*u+i[0]*c,t[1]=n[1]*a+e[1]*l+r[1]*u+i[1]*c,t[2]=n[2]*a+e[2]*l+r[2]*u+i[2]*c,t},bezier:function(t,n,e,r,i,o){const s=1-o,a=s*s,l=o*o,u=a*s,c=3*o*a,h=3*l*s,f=l*o;return t[0]=n[0]*u+e[0]*c+r[0]*h+i[0]*f,t[1]=n[1]*u+e[1]*c+r[1]*h+i[1]*f,t[2]=n[2]*u+e[2]*c+r[2]*h+i[2]*f,t},random:function(t,n){n=n||1;const e=2*us()*Math.PI,r=2*us()-1,i=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(e)*i,t[1]=Math.sin(e)*i,t[2]=r*n,t},transformMat4:function(t,n,e){const r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12],t[1]=e[1]*r+e[5]*i+e[9]*o+e[13],t[2]=e[2]*r+e[6]*i+e[10]*o+e[14],t},transformMat3:function(t,n,e){const r=n[0],i=n[1],o=n[2];return t[0]=r*e[0]+i*e[3]+o*e[6],t[1]=r*e[1]+i*e[4]+o*e[7],t[2]=r*e[2]+i*e[5]+o*e[8],t},transformQuat:function(t,n,e){const r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],l=n[2];let u=i*l-o*a,c=o*s-r*l,h=r*a-i*s,f=i*h-o*c,d=o*u-r*h,p=r*c-i*u;const m=2*e[3];return u*=m,c*=m,h*=m,f*=2,d*=2,p*=2,t[0]=s+u+f,t[1]=a+c+d,t[2]=l+h+p,t},rotateX:function(t,n,e,r){const i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},rotateY:function(t,n,e,r){const i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},rotateZ:function(t,n,e,r){const i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},angle:function(t,n){ds(_s,t),ds(xs,n),bs(_s,_s),bs(xs,xs);const e=Ms(_s,xs);return e>1?0:e<-1?Math.PI:Math.acos(e)},str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]},equals:function(t,n){if(t===n)return!0;const e=t[0],r=t[1],i=t[2],o=n[0],s=n[1],a=n[2];return Math.abs(e-o)<=ls*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(r-s)<=ls*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-a)<=ls*Math.max(1,Math.abs(i),Math.abs(a))},direction:function(t,n,e){const r=e[0]-n[0],i=e[1]-n[1],o=e[2]-n[2];let s=r*r+i*i+o*o;return s>0?(s=1/Math.sqrt(s),t[0]=r*s,t[1]=i*s,t[2]=o*s,t):(t[0]=0,t[1]=0,t[2]=0,t)},sub:ps,mul:ms,div:ys,dist:gs,sqrDist:vs,len:fs,sqrLen:ws}),Object.freeze({__proto__:null,copy:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},set:function(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t},add:function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t},subtract:Ss,multiply:As,divide:Ts,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t},min:function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t},max:function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t},round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t},scale:function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t},scaleAndAdd:function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t},distance:ks,squaredDistance:Rs,length:Os,squaredLength:Es,negate:function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},normalize:function(t,n){const e=n[0],r=n[1],i=n[2],o=n[3];let s=e*e+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s),t[0]=e*s,t[1]=r*s,t[2]=i*s,t[3]=o*s),t},dot:function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},lerp:function(t,n,e,r){const i=n[0],o=n[1],s=n[2],a=n[3];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=s+r*(e[2]-s),t[3]=a+r*(e[3]-a),t},random:function(t,n){let e,r,i,o,s,a;n=n||1;do{e=2*us()-1,r=2*us()-1,s=e*e+r*r}while(s>=1);do{i=2*us()-1,o=2*us()-1,a=i*i+o*o}while(a>=1);const l=Math.sqrt((1-s)/a);return t[0]=n*e,t[1]=n*r,t[2]=n*i*l,t[3]=n*o*l,t},transformMat4:function(t,n,e){const r=n[0],i=n[1],o=n[2],s=n[3];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12]*s,t[1]=e[1]*r+e[5]*i+e[9]*o+e[13]*s,t[2]=e[2]*r+e[6]*i+e[10]*o+e[14]*s,t[3]=e[3]*r+e[7]*i+e[11]*o+e[15]*s,t},transformQuat:function(t,n,e){const r=n[0],i=n[1],o=n[2],s=e[0],a=e[1],l=e[2],u=e[3],c=u*r+a*o-l*i,h=u*i+l*r-s*o,f=u*o+s*i-a*r,d=-s*r-a*i-l*o;return t[0]=c*u+d*-s+h*-l-f*-a,t[1]=h*u+d*-a+f*-s-c*-l,t[2]=f*u+d*-l+c*-a-h*-s,t[3]=n[3],t},str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},exactEquals:function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]},equals:function(t,n){const e=t[0],r=t[1],i=t[2],o=t[3],s=n[0],a=n[1],l=n[2],u=n[3];return Math.abs(e-s)<=ls*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(r-a)<=ls*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-l)<=ls*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-u)<=ls*Math.max(1,Math.abs(o),Math.abs(u))},sub:Ss,mul:As,div:Ts,dist:ks,sqrDist:Rs,len:Os,sqrLen:Es});function Ps(t,n,e){return Math.min(Math.max(t,n),e)}function Cs(t){return new Eo({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${t.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}new Float32Array(1)[0]=34028234663852886e22;const js=Cs(Io),Is=Cs(No),Ns=Cs($o),$s=new Eo({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${Io.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`}),Us=Io.radius*Math.PI/200,Gs=/UNIT\[([^\]]+)\]\]$/i,zs=fo,Ds=/UNIT\[([^\]]+)\]/i,qs=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]);function Fs(t,n){return t&&t[1]?function(t){return parseFloat(t.split(",")[1])}(t[1]):n}I()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});const Ls={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Ws={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"};function Hs(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Js(t,n,e){const r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],u=n[6],c=n[7],h=n[8],f=n[9],d=n[10],p=n[11],m=n[12],y=n[13],g=n[14],v=n[15];let w=e[0],b=e[1],M=e[2],_=e[3];return t[0]=w*r+b*a+M*h+_*m,t[1]=w*i+b*l+M*f+_*y,t[2]=w*o+b*u+M*d+_*g,t[3]=w*s+b*c+M*p+_*v,w=e[4],b=e[5],M=e[6],_=e[7],t[4]=w*r+b*a+M*h+_*m,t[5]=w*i+b*l+M*f+_*y,t[6]=w*o+b*u+M*d+_*g,t[7]=w*s+b*c+M*p+_*v,w=e[8],b=e[9],M=e[10],_=e[11],t[8]=w*r+b*a+M*h+_*m,t[9]=w*i+b*l+M*f+_*y,t[10]=w*o+b*u+M*d+_*g,t[11]=w*s+b*c+M*p+_*v,w=e[12],b=e[13],M=e[14],_=e[15],t[12]=w*r+b*a+M*h+_*m,t[13]=w*i+b*l+M*f+_*y,t[14]=w*o+b*u+M*d+_*g,t[15]=w*s+b*c+M*p+_*v,t}function Zs(t,n,e){const r=n[0],i=n[1],o=n[2],s=n[3],a=r+r,l=i+i,u=o+o,c=r*a,h=r*l,f=r*u,d=i*l,p=i*u,m=o*u,y=s*a,g=s*l,v=s*u;return t[0]=1-(d+m),t[1]=h+v,t[2]=f-g,t[3]=0,t[4]=h-v,t[5]=1-(c+m),t[6]=p+y,t[7]=0,t[8]=f+g,t[9]=p-y,t[10]=1-(c+d),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}I()(Ls),I()(Ws),I()({...Ls,...Ws});const Bs=[0,0,0];function Ys(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t[9]=n[9]-e[9],t[10]=n[10]-e[10],t[11]=n[11]-e[11],t[12]=n[12]-e[12],t[13]=n[13]-e[13],t[14]=n[14]-e[14],t[15]=n[15]-e[15],t}Object.freeze({__proto__:null,copy:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},set:function(t,n,e,r,i,o,s,a,l,u,c,h,f,d,p,m,y){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=s,t[6]=a,t[7]=l,t[8]=u,t[9]=c,t[10]=h,t[11]=f,t[12]=d,t[13]=p,t[14]=m,t[15]=y,t},identity:Hs,transpose:function(t,n){if(t===n){const e=n[1],r=n[2],i=n[3],o=n[6],s=n[7],a=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=o,t[11]=n[14],t[12]=i,t[13]=s,t[14]=a}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t},invert:function(t,n){const e=n[0],r=n[1],i=n[2],o=n[3],s=n[4],a=n[5],l=n[6],u=n[7],c=n[8],h=n[9],f=n[10],d=n[11],p=n[12],m=n[13],y=n[14],g=n[15],v=e*a-r*s,w=e*l-i*s,b=e*u-o*s,M=r*l-i*a,_=r*u-o*a,x=i*u-o*l,S=c*m-h*p,A=c*y-f*p,T=c*g-d*p,k=h*y-f*m,R=h*g-d*m,O=f*g-d*y;let E=v*O-w*R+b*k+M*T-_*A+x*S;return E?(E=1/E,t[0]=(a*O-l*R+u*k)*E,t[1]=(i*R-r*O-o*k)*E,t[2]=(m*x-y*_+g*M)*E,t[3]=(f*_-h*x-d*M)*E,t[4]=(l*T-s*O-u*A)*E,t[5]=(e*O-i*T+o*A)*E,t[6]=(y*b-p*x-g*w)*E,t[7]=(c*x-f*b+d*w)*E,t[8]=(s*R-a*T+u*S)*E,t[9]=(r*T-e*R-o*S)*E,t[10]=(p*_-m*b+g*v)*E,t[11]=(h*b-c*_-d*v)*E,t[12]=(a*A-s*k-l*S)*E,t[13]=(e*k-r*A+i*S)*E,t[14]=(m*w-p*M-y*v)*E,t[15]=(c*M-h*w+f*v)*E,t):null},adjoint:function(t,n){const e=n[0],r=n[1],i=n[2],o=n[3],s=n[4],a=n[5],l=n[6],u=n[7],c=n[8],h=n[9],f=n[10],d=n[11],p=n[12],m=n[13],y=n[14],g=n[15];return t[0]=a*(f*g-d*y)-h*(l*g-u*y)+m*(l*d-u*f),t[1]=-(r*(f*g-d*y)-h*(i*g-o*y)+m*(i*d-o*f)),t[2]=r*(l*g-u*y)-a*(i*g-o*y)+m*(i*u-o*l),t[3]=-(r*(l*d-u*f)-a*(i*d-o*f)+h*(i*u-o*l)),t[4]=-(s*(f*g-d*y)-c*(l*g-u*y)+p*(l*d-u*f)),t[5]=e*(f*g-d*y)-c*(i*g-o*y)+p*(i*d-o*f),t[6]=-(e*(l*g-u*y)-s*(i*g-o*y)+p*(i*u-o*l)),t[7]=e*(l*d-u*f)-s*(i*d-o*f)+c*(i*u-o*l),t[8]=s*(h*g-d*m)-c*(a*g-u*m)+p*(a*d-u*h),t[9]=-(e*(h*g-d*m)-c*(r*g-o*m)+p*(r*d-o*h)),t[10]=e*(a*g-u*m)-s*(r*g-o*m)+p*(r*u-o*a),t[11]=-(e*(a*d-u*h)-s*(r*d-o*h)+c*(r*u-o*a)),t[12]=-(s*(h*y-f*m)-c*(a*y-l*m)+p*(a*f-l*h)),t[13]=e*(h*y-f*m)-c*(r*y-i*m)+p*(r*f-i*h),t[14]=-(e*(a*y-l*m)-s*(r*y-i*m)+p*(r*l-i*a)),t[15]=e*(a*f-l*h)-s*(r*f-i*h)+c*(r*l-i*a),t},determinant:function(t){const n=t[0],e=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],l=t[7],u=t[8],c=t[9],h=t[10],f=t[11],d=t[12],p=t[13],m=t[14],y=t[15];return(n*s-e*o)*(h*y-f*m)-(n*a-r*o)*(c*y-f*p)+(n*l-i*o)*(c*m-h*p)+(e*a-r*s)*(u*y-f*d)-(e*l-i*s)*(u*m-h*d)+(r*l-i*a)*(u*p-c*d)},multiply:Js,translate:function(t,n,e){const r=e[0],i=e[1],o=e[2];let s,a,l,u,c,h,f,d,p,m,y,g;return n===t?(t[12]=n[0]*r+n[4]*i+n[8]*o+n[12],t[13]=n[1]*r+n[5]*i+n[9]*o+n[13],t[14]=n[2]*r+n[6]*i+n[10]*o+n[14],t[15]=n[3]*r+n[7]*i+n[11]*o+n[15]):(s=n[0],a=n[1],l=n[2],u=n[3],c=n[4],h=n[5],f=n[6],d=n[7],p=n[8],m=n[9],y=n[10],g=n[11],t[0]=s,t[1]=a,t[2]=l,t[3]=u,t[4]=c,t[5]=h,t[6]=f,t[7]=d,t[8]=p,t[9]=m,t[10]=y,t[11]=g,t[12]=s*r+c*i+p*o+n[12],t[13]=a*r+h*i+m*o+n[13],t[14]=l*r+f*i+y*o+n[14],t[15]=u*r+d*i+g*o+n[15]),t},scale:function(t,n,e){const r=e[0],i=e[1],o=e[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=n[7]*i,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=n[11]*o,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},rotate:function(t,n,e,r){let i,o,s,a,l,u,c,h,f,d,p,m,y,g,v,w,b,M,_,x,S,A,T,k,R=r[0],O=r[1],E=r[2],P=Math.sqrt(R*R+O*O+E*E);return P<ls?null:(P=1/P,R*=P,O*=P,E*=P,i=Math.sin(e),o=Math.cos(e),s=1-o,a=n[0],l=n[1],u=n[2],c=n[3],h=n[4],f=n[5],d=n[6],p=n[7],m=n[8],y=n[9],g=n[10],v=n[11],w=R*R*s+o,b=O*R*s+E*i,M=E*R*s-O*i,_=R*O*s-E*i,x=O*O*s+o,S=E*O*s+R*i,A=R*E*s+O*i,T=O*E*s-R*i,k=E*E*s+o,t[0]=a*w+h*b+m*M,t[1]=l*w+f*b+y*M,t[2]=u*w+d*b+g*M,t[3]=c*w+p*b+v*M,t[4]=a*_+h*x+m*S,t[5]=l*_+f*x+y*S,t[6]=u*_+d*x+g*S,t[7]=c*_+p*x+v*S,t[8]=a*A+h*T+m*k,t[9]=l*A+f*T+y*k,t[10]=u*A+d*T+g*k,t[11]=c*A+p*T+v*k,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)},rotateX:function(t,n,e){const r=Math.sin(e),i=Math.cos(e),o=n[4],s=n[5],a=n[6],l=n[7],u=n[8],c=n[9],h=n[10],f=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=o*i+u*r,t[5]=s*i+c*r,t[6]=a*i+h*r,t[7]=l*i+f*r,t[8]=u*i-o*r,t[9]=c*i-s*r,t[10]=h*i-a*r,t[11]=f*i-l*r,t},rotateY:function(t,n,e){const r=Math.sin(e),i=Math.cos(e),o=n[0],s=n[1],a=n[2],l=n[3],u=n[8],c=n[9],h=n[10],f=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i-u*r,t[1]=s*i-c*r,t[2]=a*i-h*r,t[3]=l*i-f*r,t[8]=o*r+u*i,t[9]=s*r+c*i,t[10]=a*r+h*i,t[11]=l*r+f*i,t},rotateZ:function(t,n,e){const r=Math.sin(e),i=Math.cos(e),o=n[0],s=n[1],a=n[2],l=n[3],u=n[4],c=n[5],h=n[6],f=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=o*i+u*r,t[1]=s*i+c*r,t[2]=a*i+h*r,t[3]=l*i+f*r,t[4]=u*i-o*r,t[5]=c*i-s*r,t[6]=h*i-a*r,t[7]=f*i-l*r,t},fromTranslation:function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},fromScaling:function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromRotation:function(t,n,e){let r,i,o,s=e[0],a=e[1],l=e[2],u=Math.sqrt(s*s+a*a+l*l);return u<ls?null:(u=1/u,s*=u,a*=u,l*=u,r=Math.sin(n),i=Math.cos(n),o=1-i,t[0]=s*s*o+i,t[1]=a*s*o+l*r,t[2]=l*s*o-a*r,t[3]=0,t[4]=s*a*o-l*r,t[5]=a*a*o+i,t[6]=l*a*o+s*r,t[7]=0,t[8]=s*l*o+a*r,t[9]=a*l*o-s*r,t[10]=l*l*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},fromXRotation:function(t,n){const e=Math.sin(n),r=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromYRotation:function(t,n){const e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromZRotation:function(t,n){const e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromRotationTranslation:Zs,fromQuat2:function(t,n){const e=Bs,r=-n[0],i=-n[1],o=-n[2],s=n[3],a=n[4],l=n[5],u=n[6],c=n[7],h=r*r+i*i+o*o+s*s;return h>0?(e[0]=2*(a*s+c*r+l*o-u*i)/h,e[1]=2*(l*s+c*i+u*r-a*o)/h,e[2]=2*(u*s+c*o+a*i-l*r)/h):(e[0]=2*(a*s+c*r+l*o-u*i),e[1]=2*(l*s+c*i+u*r-a*o),e[2]=2*(u*s+c*o+a*i-l*r)),Zs(t,n,e),t},getTranslation:function(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t},getScaling:function(t,n){const e=n[0],r=n[1],i=n[2],o=n[4],s=n[5],a=n[6],l=n[8],u=n[9],c=n[10];return t[0]=Math.sqrt(e*e+r*r+i*i),t[1]=Math.sqrt(o*o+s*s+a*a),t[2]=Math.sqrt(l*l+u*u+c*c),t},getRotation:function(t,n){const e=n[0]+n[5]+n[10];let r=0;return e>0?(r=2*Math.sqrt(e+1),t[3]=.25*r,t[0]=(n[6]-n[9])/r,t[1]=(n[8]-n[2])/r,t[2]=(n[1]-n[4])/r):n[0]>n[5]&&n[0]>n[10]?(r=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/r,t[0]=.25*r,t[1]=(n[1]+n[4])/r,t[2]=(n[8]+n[2])/r):n[5]>n[10]?(r=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/r,t[0]=(n[1]+n[4])/r,t[1]=.25*r,t[2]=(n[6]+n[9])/r):(r=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/r,t[0]=(n[8]+n[2])/r,t[1]=(n[6]+n[9])/r,t[2]=.25*r),t},fromRotationTranslationScale:function(t,n,e,r){const i=n[0],o=n[1],s=n[2],a=n[3],l=i+i,u=o+o,c=s+s,h=i*l,f=i*u,d=i*c,p=o*u,m=o*c,y=s*c,g=a*l,v=a*u,w=a*c,b=r[0],M=r[1],_=r[2];return t[0]=(1-(p+y))*b,t[1]=(f+w)*b,t[2]=(d-v)*b,t[3]=0,t[4]=(f-w)*M,t[5]=(1-(h+y))*M,t[6]=(m+g)*M,t[7]=0,t[8]=(d+v)*_,t[9]=(m-g)*_,t[10]=(1-(h+p))*_,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},fromRotationTranslationScaleOrigin:function(t,n,e,r,i){const o=n[0],s=n[1],a=n[2],l=n[3],u=o+o,c=s+s,h=a+a,f=o*u,d=o*c,p=o*h,m=s*c,y=s*h,g=a*h,v=l*u,w=l*c,b=l*h,M=r[0],_=r[1],x=r[2],S=i[0],A=i[1],T=i[2],k=(1-(m+g))*M,R=(d+b)*M,O=(p-w)*M,E=(d-b)*_,P=(1-(f+g))*_,C=(y+v)*_,j=(p+w)*x,I=(y-v)*x,N=(1-(f+m))*x;return t[0]=k,t[1]=R,t[2]=O,t[3]=0,t[4]=E,t[5]=P,t[6]=C,t[7]=0,t[8]=j,t[9]=I,t[10]=N,t[11]=0,t[12]=e[0]+S-(k*S+E*A+j*T),t[13]=e[1]+A-(R*S+P*A+I*T),t[14]=e[2]+T-(O*S+C*A+N*T),t[15]=1,t},fromQuat:function(t,n){const e=n[0],r=n[1],i=n[2],o=n[3],s=e+e,a=r+r,l=i+i,u=e*s,c=r*s,h=r*a,f=i*s,d=i*a,p=i*l,m=o*s,y=o*a,g=o*l;return t[0]=1-h-p,t[1]=c+g,t[2]=f-y,t[3]=0,t[4]=c-g,t[5]=1-u-p,t[6]=d+m,t[7]=0,t[8]=f+y,t[9]=d-m,t[10]=1-u-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},frustum:function(t,n,e,r,i,o,s){const a=1/(e-n),l=1/(i-r),u=1/(o-s);return t[0]=2*o*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(e+n)*a,t[9]=(i+r)*l,t[10]=(s+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*u,t[15]=0,t},perspective:function(t,n,e,r,i){const o=1/Math.tan(n/2);let s;return t[0]=o/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(s=1/(r-i),t[10]=(i+r)*s,t[14]=2*i*r*s):(t[10]=-1,t[14]=-2*r),t},perspectiveFromFieldOfView:function(t,n,e,r){const i=Math.tan(n.upDegrees*Math.PI/180),o=Math.tan(n.downDegrees*Math.PI/180),s=Math.tan(n.leftDegrees*Math.PI/180),a=Math.tan(n.rightDegrees*Math.PI/180),l=2/(s+a),u=2/(i+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(s-a)*l*.5,t[9]=(i-o)*u*.5,t[10]=r/(e-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*e/(e-r),t[15]=0,t},ortho:function(t,n,e,r,i,o,s){const a=1/(n-e),l=1/(r-i),u=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(n+e)*a,t[13]=(i+r)*l,t[14]=(s+o)*u,t[15]=1,t},lookAt:function(t,n,e,r){let i,o,s,a,l,u,c,h,f,d;const p=n[0],m=n[1],y=n[2],g=r[0],v=r[1],w=r[2],b=e[0],M=e[1],_=e[2];return Math.abs(p-b)<ls&&Math.abs(m-M)<ls&&Math.abs(y-_)<ls?Hs(t):(c=p-b,h=m-M,f=y-_,d=1/Math.sqrt(c*c+h*h+f*f),c*=d,h*=d,f*=d,i=v*f-w*h,o=w*c-g*f,s=g*h-v*c,d=Math.sqrt(i*i+o*o+s*s),d?(d=1/d,i*=d,o*=d,s*=d):(i=0,o=0,s=0),a=h*s-f*o,l=f*i-c*s,u=c*o-h*i,d=Math.sqrt(a*a+l*l+u*u),d?(d=1/d,a*=d,l*=d,u*=d):(a=0,l=0,u=0),t[0]=i,t[1]=a,t[2]=c,t[3]=0,t[4]=o,t[5]=l,t[6]=h,t[7]=0,t[8]=s,t[9]=u,t[10]=f,t[11]=0,t[12]=-(i*p+o*m+s*y),t[13]=-(a*p+l*m+u*y),t[14]=-(c*p+h*m+f*y),t[15]=1,t)},targetTo:function(t,n,e,r){const i=n[0],o=n[1],s=n[2],a=r[0],l=r[1],u=r[2];let c=i-e[0],h=o-e[1],f=s-e[2],d=c*c+h*h+f*f;d>0&&(d=1/Math.sqrt(d),c*=d,h*=d,f*=d);let p=l*f-u*h,m=u*c-a*f,y=a*h-l*c;return d=p*p+m*m+y*y,d>0&&(d=1/Math.sqrt(d),p*=d,m*=d,y*=d),t[0]=p,t[1]=m,t[2]=y,t[3]=0,t[4]=h*y-f*m,t[5]=f*p-c*y,t[6]=c*m-h*p,t[7]=0,t[8]=c,t[9]=h,t[10]=f,t[11]=0,t[12]=i,t[13]=o,t[14]=s,t[15]=1,t},str:function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)},add:function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t[9]=n[9]+e[9],t[10]=n[10]+e[10],t[11]=n[11]+e[11],t[12]=n[12]+e[12],t[13]=n[13]+e[13],t[14]=n[14]+e[14],t[15]=n[15]+e[15],t},subtract:Ys,multiplyScalar:function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12]*e,t[13]=n[13]*e,t[14]=n[14]*e,t[15]=n[15]*e,t},multiplyScalarAndAdd:function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t[9]=n[9]+e[9]*r,t[10]=n[10]+e[10]*r,t[11]=n[11]+e[11]*r,t[12]=n[12]+e[12]*r,t[13]=n[13]+e[13]*r,t[14]=n[14]+e[14]*r,t[15]=n[15]+e[15]*r,t},exactEquals:function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]},equals:function(t,n){if(t===n)return!0;const e=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],l=t[6],u=t[7],c=t[8],h=t[9],f=t[10],d=t[11],p=t[12],m=t[13],y=t[14],g=t[15],v=n[0],w=n[1],b=n[2],M=n[3],_=n[4],x=n[5],S=n[6],A=n[7],T=n[8],k=n[9],R=n[10],O=n[11],E=n[12],P=n[13],C=n[14],j=n[15];return Math.abs(e-v)<=ls*Math.max(1,Math.abs(e),Math.abs(v))&&Math.abs(r-w)<=ls*Math.max(1,Math.abs(r),Math.abs(w))&&Math.abs(i-b)<=ls*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-M)<=ls*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(s-_)<=ls*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(a-x)<=ls*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(l-S)<=ls*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(u-A)<=ls*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(c-T)<=ls*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(h-k)<=ls*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(f-R)<=ls*Math.max(1,Math.abs(f),Math.abs(R))&&Math.abs(d-O)<=ls*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(p-E)<=ls*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(m-P)<=ls*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(y-C)<=ls*Math.max(1,Math.abs(y),Math.abs(C))&&Math.abs(g-j)<=ls*Math.max(1,Math.abs(g),Math.abs(j))},isOrthoNormal:function(t){const n=ls,e=t[0],r=t[1],i=t[2],o=t[4],s=t[5],a=t[6],l=t[8],u=t[9],c=t[10];return Math.abs(1-(e*e+o*o+l*l))<=n&&Math.abs(1-(r*r+s*s+u*u))<=n&&Math.abs(1-(i*i+a*a+c*c))<=n},mul:Js,sub:Ys});const Xs=[0,0];function Ks(t,n){return!!s(n)&&ta(t,n.x,n.y,n.z)}function Vs(t,n){return ta(t,n[0],n[1])}function Qs(t,n){return ta(t,n[0],n[1],n[2])}function ta(t,n,e,r){return n>=t.xmin&&n<=t.xmax&&e>=t.ymin&&e<=t.ymax&&(null==r||!t.hasZ||r>=t.zmin&&r<=t.zmax)}function na(t,n){return function(t,n){if(!t)return!1;if(function(t){return!Array.isArray(t[0][0])}(t))return ea(!1,t,n);let e=!1;for(let r=0,i=t.length;r<i;r++)e=ea(e,t[r],n);return e}(t.rings,n)}function ea(t,n,e){const[r,i]=e;let o=t,s=0;for(let t=0,e=n.length;t<e;t++){s++,s===e&&(s=0);const[a,l]=n[t],[u,c]=n[s];(l<i&&c>=i||c<i&&l>=i)&&a+(i-l)/(c-l)*(u-a)<r&&(o=!o)}return o}function ra(t,n){return Ks(t,n)}function ia(t,n){let e,r,i;if(t.xmin<=n.xmin){if(e=n.xmin,t.xmax<e)return!1}else if(e=t.xmin,n.xmax<e)return!1;if(t.ymin<=n.ymin){if(r=n.ymin,t.ymax<r)return!1}else if(r=t.ymin,n.ymax<r)return!1;if(t.hasZ&&n.hasZ&&n.hasZ)if(t.zmin<=n.zmin){if(i=n.zmin,t.zmax<i)return!1}else if(i=t.zmin,n.zmax<i)return!1;return!0}function oa(t,n){const{points:e,hasZ:r}=n,i=r?Qs:Vs;for(const n of e)if(i(t,n))return!0;return!1}const sa=[0,0],aa=[0,0],la=[0,0],ua=[0,0],ca=[sa,aa,la,ua],ha=[[la,sa],[sa,aa],[aa,ua],[ua,la]];function fa(t,n){sa[0]=t.xmin,sa[1]=t.ymax,aa[0]=t.xmax,aa[1]=t.ymax,la[0]=t.xmin,la[1]=t.ymin,ua[0]=t.xmax,ua[1]=t.ymin;for(const t of ca)if(na(n,t))return!0;for(const e of n.rings){if(!e.length)continue;let n=e[0];if(Vs(t,n))return!0;for(let r=1;r<e.length;r++){const i=e[r];if(Vs(t,i)||ma(n,i,ha))return!0;n=i}}return!1}function da(t,n){sa[0]=t.xmin,sa[1]=t.ymax,aa[0]=t.xmax,aa[1]=t.ymax,la[0]=t.xmin,la[1]=t.ymin,ua[0]=t.xmax,ua[1]=t.ymin;const e=n.paths;for(const n of e){if(!e.length)continue;let r=n[0];if(Vs(t,r))return!0;for(let e=1;e<n.length;e++){const i=n[e];if(Vs(t,i)||ma(r,i,ha))return!0;r=i}}return!1}const pa=[0,0];function ma(t,n,e){for(let r=0;r<e.length;r++)if(ya(t,n,e[r][0],e[r][1]))return!0;return!1}function ya(t,n,e,r,i){const[o,s]=t,[a,l]=n,[u,c]=e,[h,f]=r,d=h-u,p=o-u,m=a-o,y=f-c,g=s-c,v=l-s,w=y*m-d*v;if(0===w)return!1;const b=(d*g-y*p)/w,M=(m*g-v*p)/w;return b>=0&&b<=1&&M>=0&&M<=1&&(i&&(i[0]=o+b*(a-o),i[1]=s+b*(l-s)),!0)}var ga;function va(t,n,e){return null==n?e:null==e?n:t(n,e)}let wa=ga=class extends Co{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,n,e,r,i){return function(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof t?(t.spatialReference=null==t.spatialReference?Eo.WGS84:t.spatialReference,t):{xmin:t,ymin:n,xmax:e,ymax:r,spatialReference:null==i?Eo.WGS84:i}}static fromBounds(t,n){return new ga({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:n})}static fromPoint(t){return new ga({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new Vo({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const n=this.center;return null!=t.z&&this.hasZ?this.offset(t.x-n.x,t.y-n.y,t.z-n.z):this.offset(t.x-n.x,t.y-n.y)}clone(){const t=new ga;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,null!=this.zmin&&(t.zmin=this.zmin,t.zmax=this.zmax),null!=this.mmin&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const n=this.spatialReference,e=t.spatialReference;return n&&e&&!n.equals(e)&&Fo(n,e)&&(t=n.isWebMercator?Ho(t):Jo(t,!0)),"point"===t.type?Ks(this,t):"extent"===t.type&&function(t,n){const{xmin:e,ymin:r,zmin:i,xmax:o,ymax:s,zmax:a}=n;return t.hasZ&&n.hasZ?ta(t,e,r,i)&&ta(t,e,s,i)&&ta(t,o,s,i)&&ta(t,o,r,i)&&ta(t,e,r,a)&&ta(t,e,s,a)&&ta(t,o,s,a)&&ta(t,o,r,a):ta(t,e,r)&&ta(t,e,s)&&ta(t,o,s)&&ta(t,o,r)}(this,t)}equals(t){if(this===t)return!0;if(a(t))return!1;const n=this.spatialReference,e=t.spatialReference;return n&&e&&!n.equals(e)&&Fo(n,e)&&(t=n.isWebMercator?Ho(t):Jo(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const n=.5*(1-t),e=this.width*n,r=this.height*n;if(this.xmin+=e,this.ymin+=r,this.xmax-=e,this.ymax-=r,this.hasZ){const t=(this.zmax-this.zmin)*n;this.zmin+=t,this.zmax-=t}if(this.hasM){const t=(this.mmax-this.mmin)*n;this.mmin+=t,this.mmax-=t}return this}intersects(t){if(a(t))return!1;"mesh"===t.type&&(t=t.extent);const n=this.spatialReference,e=t.spatialReference;return n&&e&&!n.equals(e)&&Fo(n,e)&&(t=n.isWebMercator?Ho(t):Jo(t,!0)),function(t){switch(t){case"esriGeometryEnvelope":case"extent":return ia;case"esriGeometryMultipoint":case"multipoint":return oa;case"esriGeometryPoint":case"point":return ra;case"esriGeometryPolygon":case"polygon":return fa;case"esriGeometryPolyline":case"polyline":return da}}(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,n,e){return this.xmin+=t,this.ymin+=n,this.xmax+=t,this.ymax+=n,null!=e&&(this.zmin+=e,this.zmax+=e),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=va(Math.min,this.zmin,t.zmin),this.zmax=va(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=va(Math.min,this.mmin,t.mmin),this.mmax=va(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:a(t)||!this.intersects(t)?null:(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=va(Math.max,this.zmin,t.zmin),this.zmax=va(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=va(Math.max,this.mmin,t.mmin),this.mmax=va(Math.min,this.mmax,t.mmax)),this)}toJSON(t){return this.write({},t)}_shiftCM(t=Mo(this.spatialReference)){if(!t||!this.spatialReference)return this;const n=this.spatialReference,e=this._getCM(t);if(e){const r=n.isWebMercator?Jo(e):e;this.xmin-=e.x,this.xmax-=e.x,n.isWebMercator||(r.x=this._normalizeX(r.x,t).x),this.spatialReference=new Eo(ut(n.isWGS84?t.altTemplate:t.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(t){let n=null;const[e,r]=t.valid,i=this.xmin,o=this.xmax;return i>=e&&i<=r&&o>=e&&o<=r||(n=this.center),n}_normalize(t,n,e){const r=this.spatialReference;if(!r)return this;if(!(e=e||Mo(r)))return this;const i=this._getParts(e).map((t=>t.extent));if(i.length<2)return i[0]||this;if(i.length>2)return t?this._shiftCM(e):this.set({xmin:e.valid[0],xmax:e.valid[1]});if(t)return this._shiftCM(e);if(n)return i;let o=!0,s=!0;return i.forEach((t=>{t.hasZ||(o=!1),t.hasM||(s=!1)})),{rings:i.map((t=>{const n=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(o){const e=(t.zmax-t.zmin)/2;for(let t=0;t<n.length;t++)n[t].push(e)}if(s){const e=(t.mmax-t.mmin)/2;for(let t=0;t<n.length;t++)n[t].push(e)}return n})),hasZ:o,hasM:s,spatialReference:r}}_getParts(t){let n=this.cache._parts;if(!n){n=[];const{ymin:e,ymax:r,spatialReference:i}=this,o=this.width,s=this.xmin,a=this.xmax;let l;t=t||Mo(i);const[u,c]=t.valid;l=this._normalizeX(this.xmin,t);const h=l.x,f=l.frameId;l=this._normalizeX(this.xmax,t);const d=l.x,p=l.frameId,m=h===d&&o>0;if(o>2*c){const t=new ga(s<a?h:d,e,c,r,i),o=new ga(u,e,s<a?d:h,r,i),l=new ga(0,e,c,r,i),m=new ga(u,e,0,r,i),y=[],g=[];t.contains(l)&&y.push(f),t.contains(m)&&g.push(f),o.contains(l)&&y.push(p),o.contains(m)&&g.push(p);for(let t=f+1;t<p;t++)y.push(t),g.push(t);n.push({extent:t,frameIds:[f]},{extent:o,frameIds:[p]},{extent:l,frameIds:y},{extent:m,frameIds:g})}else h>d||m?n.push({extent:new ga(h,e,c,r,i),frameIds:[f]},{extent:new ga(u,e,d,r,i),frameIds:[p]}):n.push({extent:new ga(h,e,d,r,i),frameIds:[f]});this.cache._parts=n}const e=this.hasZ,r=this.hasM;if(e||r){const t={};e&&(t.zmin=this.zmin,t.zmax=this.zmax),r&&(t.mmin=this.mmin,t.mmax=this.mmax);for(let e=0;e<n.length;e++)n[e].extent.set(t)}return n}_normalizeX(t,n){const[e,r]=n.valid,i=2*r;let o,s=0;return t>r?(o=Math.ceil(Math.abs(t-r)/i),t-=o*i,s=o):t<e&&(o=Math.ceil(Math.abs(t-e)/i),t+=o*i,s=-o),{x:t,frameId:s}}};te([Ze({readOnly:!0})],wa.prototype,"cache",null),te([Ze({readOnly:!0})],wa.prototype,"center",null),te([Ze({readOnly:!0})],wa.prototype,"extent",null),te([Ze({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],wa.prototype,"hasM",null),te([Ze({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],wa.prototype,"hasZ",null),te([Ze({readOnly:!0})],wa.prototype,"height",null),te([Ze({readOnly:!0})],wa.prototype,"width",null),te([Ze({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],wa.prototype,"xmin",void 0),te([Ze({type:Number,json:{write:!0}})],wa.prototype,"ymin",void 0),te([Ze({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],wa.prototype,"mmin",void 0),te([Ze({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],wa.prototype,"zmin",void 0),te([Ze({type:Number,json:{write:!0}})],wa.prototype,"xmax",void 0),te([Ze({type:Number,json:{write:!0}})],wa.prototype,"ymax",void 0),te([Ze({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],wa.prototype,"mmax",void 0),te([Ze({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],wa.prototype,"zmax",void 0),wa=ga=te([Jr("esri.geometry.Extent")],wa),wa.prototype.toJSON.isDefaultToJSON=!0;const ba=wa;function Ma(t,n,e=!1){let{hasM:r,hasZ:i}=t;Array.isArray(n)?4!==n.length||r||i?3===n.length&&e&&!r?(i=!0,r=!1):3===n.length&&r&&i&&(r=!1,i=!1):(r=!0,i=!0):(i=!i&&n.hasZ&&(!r||n.hasM),r=!r&&n.hasM&&(!i||n.hasZ)),t.hasZ=i,t.hasM=r}var _a;function xa(t){return(n,e)=>null==n?e:null==e?n:t(n,e)}let Sa=_a=class extends Co{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,n){if(!t&&!n)return null;const e={};Array.isArray(t)?(e.points=t,e.spatialReference=n):function(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}(t)?e.spatialReference=t:(t.points&&(e.points=t.points),t.spatialReference&&(e.spatialReference=t.spatialReference),t.hasZ&&(e.hasZ=t.hasZ),t.hasM&&(e.hasM=t.hasM));const r=e.points&&e.points[0];return r&&(void 0===e.hasZ&&void 0===e.hasM?(e.hasZ=r.length>2,e.hasM=!1):void 0===e.hasZ?e.hasZ=r.length>3:void 0===e.hasM&&(e.hasM=r.length>3)),e}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const n=new ba,e=this.hasZ,r=this.hasM,i=e?3:2,o=t[0],s=xa(Math.min),a=xa(Math.max);let l,u,c,h,[f,d]=o,[p,m]=o;for(let n=0,o=t.length;n<o;n++){const o=t[n],[y,g]=o;if(f=s(f,y),d=s(d,g),p=a(p,y),m=a(m,g),e&&o.length>2){const t=o[2];l=s(l,t),c=a(c,t)}if(r&&o.length>i){const t=o[i];u=s(u,t),h=a(h,t)}}return n.xmin=f,n.ymin=d,n.xmax=p,n.ymax=m,n.spatialReference=this.spatialReference,e?(n.zmin=l,n.zmax=c):(n.zmin=null,n.zmax=null),r?(n.mmin=u,n.mmax=h):(n.mmin=null,n.mmax=null),n}writePoints(t,n){n.points=k(this.points)}addPoint(t){return Ma(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:k(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new _a(t)}getPoint(t){if(!this._validateInputs(t))return null;const n=this.points[t],e={x:n[0],y:n[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(e.z=n[2],r=3),this.hasM&&(e.m=n[r]),new Vo(e)}removePoint(t){if(!this._validateInputs(t))return null;const n=new Vo(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),n}setPoint(t,n){return this._validateInputs(t)?(Ma(this,n),Array.isArray(n)||(n=n.toArray()),this.points[t]=n,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return null!=t&&t>=0&&t<this.points.length}};te([Ze({readOnly:!0})],Sa.prototype,"cache",null),te([Ze()],Sa.prototype,"extent",null),te([Ze({type:[[Number]],json:{write:{isRequired:!0}}})],Sa.prototype,"points",void 0),te([Br("points")],Sa.prototype,"writePoints",null),Sa=_a=te([Jr("esri.geometry.Multipoint")],Sa),Sa.prototype.toJSON.isDefaultToJSON=!0;const Aa=Sa;let Ta,ka=null;function Ra(){return Ta||(Ta=import("./p-39b8bd69.js").then((t=>t.p)).then((({default:t})=>t({locateFile:t=>Qn(`esri/geometry/support/${t}`)}))).then((t=>{Fa(t)})),Ta)}var Oa,Ea,Pa;!function(t){function n(t,n,e){ka.ensureCache.prepare();const r=Ha(e),i=e===r,o=ka.ensureFloat64(r),s=ka._pe_geog_to_proj(ka.getPointer(t),n,o);return s&&Ja(e,n,o,i),s}function e(t,n,e){return r(t,n,e,0)}function r(t,n,e,r){ka.ensureCache.prepare();const i=Ha(e),o=e===i,s=ka.ensureFloat64(i),a=ka._pe_proj_to_geog_center(ka.getPointer(t),n,s,r);return a&&Ja(e,n,s,o),a}t.geogToProj=n,t.projGeog=function(t,r,i,o){switch(o){case Ea.PE_TRANSFORM_P_TO_G:return e(t,r,i);case Ea.PE_TRANSFORM_G_TO_P:return n(t,r,i)}return 0},t.projToGeog=e,t.projToGeogCenter=r}(Oa||(Oa={})),function(t){t.init=function(){t.PE_BUFFER_MAX=ka.PeDefs.prototype.PE_BUFFER_MAX,t.PE_NAME_MAX=ka.PeDefs.prototype.PE_NAME_MAX,t.PE_MGRS_MAX=ka.PeDefs.prototype.PE_MGRS_MAX,t.PE_USNG_MAX=ka.PeDefs.prototype.PE_USNG_MAX,t.PE_DD_MAX=ka.PeDefs.prototype.PE_DD_MAX,t.PE_DDM_MAX=ka.PeDefs.prototype.PE_DDM_MAX,t.PE_DMS_MAX=ka.PeDefs.prototype.PE_DMS_MAX,t.PE_UTM_MAX=ka.PeDefs.prototype.PE_UTM_MAX,t.PE_PARM_MAX=ka.PeDefs.prototype.PE_PARM_MAX,t.PE_TYPE_NONE=ka.PeDefs.prototype.PE_TYPE_NONE,t.PE_TYPE_GEOGCS=ka.PeDefs.prototype.PE_TYPE_GEOGCS,t.PE_TYPE_PROJCS=ka.PeDefs.prototype.PE_TYPE_PROJCS,t.PE_TYPE_GEOGTRAN=ka.PeDefs.prototype.PE_TYPE_GEOGTRAN,t.PE_TYPE_COORDSYS=ka.PeDefs.prototype.PE_TYPE_COORDSYS,t.PE_TYPE_UNIT=ka.PeDefs.prototype.PE_TYPE_UNIT,t.PE_TYPE_LINUNIT=ka.PeDefs.prototype.PE_TYPE_LINUNIT,t.PE_STR_OPTS_NONE=ka.PeDefs.prototype.PE_STR_OPTS_NONE,t.PE_STR_AUTH_NONE=ka.PeDefs.prototype.PE_STR_AUTH_NONE,t.PE_STR_AUTH_TOP=ka.PeDefs.prototype.PE_STR_AUTH_TOP,t.PE_STR_NAME_CANON=ka.PeDefs.prototype.PE_STR_NAME_CANON,t.PE_PARM_X0=ka.PeDefs.prototype.PE_PARM_X0,t.PE_PARM_ND=ka.PeDefs.prototype.PE_PARM_ND,t.PE_TRANSFORM_1_TO_2=ka.PeDefs.prototype.PE_TRANSFORM_1_TO_2,t.PE_TRANSFORM_2_TO_1=ka.PeDefs.prototype.PE_TRANSFORM_2_TO_1,t.PE_TRANSFORM_P_TO_G=ka.PeDefs.prototype.PE_TRANSFORM_P_TO_G,t.PE_TRANSFORM_G_TO_P=ka.PeDefs.prototype.PE_TRANSFORM_G_TO_P,t.PE_HORIZON_RECT=ka.PeDefs.prototype.PE_HORIZON_RECT,t.PE_HORIZON_POLY=ka.PeDefs.prototype.PE_HORIZON_POLY,t.PE_HORIZON_LINE=ka.PeDefs.prototype.PE_HORIZON_LINE,t.PE_HORIZON_DELTA=ka.PeDefs.prototype.PE_HORIZON_DELTA}}(Ea||(Ea={})),function(t){const n={},e={},r=t=>{if(t){const n=t.getType();switch(n){case Ea.PE_TYPE_GEOGCS:t=ka.castObject(t,ka.PeGeogcs);break;case Ea.PE_TYPE_PROJCS:t=ka.castObject(t,ka.PeProjcs);break;case Ea.PE_TYPE_GEOGTRAN:t=ka.castObject(t,ka.PeGeogtran);break;default:n&Ea.PE_TYPE_UNIT&&(t=ka.castObject(t,ka.PeUnit))}}return t};function i(t,e){let i=null,o=n[t];if(o||(o={},n[t]=o),o.hasOwnProperty(String(e)))i=o[e];else{const n=ka.PeFactory.prototype.factoryByType(t,e);ka.compare(n,ka.NULL)||(i=n,o[e]=i)}return i=r(i),i}t.initialize=function(){ka.PeFactory.prototype.initialize(null)},t.coordsys=function(t){return i(Ea.PE_TYPE_COORDSYS,t)},t.factoryByType=i,t.fromString=function(t,n){let i=null,o=e[t];if(o||(o={},e[t]=o),o.hasOwnProperty(n))i=o[n];else{const e=ka.PeFactory.prototype.fromString(t,n);ka.compare(e,ka.NULL)||(i=e,o[n]=i)}return i=r(i),i},t.geogcs=function(t){return i(Ea.PE_TYPE_GEOGCS,t)},t.geogtran=function(t){return i(Ea.PE_TYPE_GEOGTRAN,t)},t.getCode=function(t){return ka.PeFactory.prototype.getCode(t)},t.projcs=function(t){return i(Ea.PE_TYPE_PROJCS,t)},t.unit=function(t){return i(Ea.PE_TYPE_UNIT,t)}}(Pa||(Pa={}));let Ca=null;var ja,Ia,Na,$a,Ua,Ga,za,Da,qa;function Fa(t){function n(t,n,e){t[n]=e(t[n])}ka=t,Ea.init(),ja.init(),Ua.init(),za.init(),Da.init(),Ca=class extends ka.PeGCSExtent{destroy(){ka.destroy(this)}};const e=[ka.PeDatum,ka.PeGeogcs,ka.PeGeogtran,ka.PeObject,ka.PeParameter,ka.PePrimem,ka.PeProjcs,ka.PeSpheroid,ka.PeUnit];for(const t of e)n(t.prototype,"getName",(t=>function(){return t.call(this,new Array(Ea.PE_NAME_MAX))}));for(const t of[ka.PeGeogtran,ka.PeProjcs])n(t.prototype,"getParameters",(t=>function(){const n=new Array(Ea.PE_PARM_MAX);let e=t.call(this);for(let t=0;t<n.length;t++){const r=ka.getValue(e,"*");n[t]=r?ka.wrapPointer(r,ka.PeParameter):null,e+=Int32Array.BYTES_PER_ELEMENT}return n}));n(ka.PeHorizon.prototype,"getCoord",(t=>function(){const n=this.getSize();if(!n)return null;const e=[];return Ja(e,n,t.call(this)),e})),n(ka.PeGTlistExtendedEntry.prototype,"getEntries",(t=>{const n=ka._pe_getPeGTlistExtendedGTsSize();return function(){let e=null;const r=t.call(this);if(!ka.compare(r,ka.NULL)){e=[r];const t=this.getSteps();if(t>1){const i=ka.getPointer(r);for(let r=1;r<t;r++)e.push(ka.wrapPointer(i+n*r,ka.PeGTlistExtendedGTs))}}return e}}));const r=ka._pe_getPeHorizonSize(),i=t=>function(){let n=this._cache;if(n||(n=new Map,this._cache=n),n.has(t))return n.get(t);let e=null;const i=t.call(this);if(!ka.compare(i,ka.NULL)){e=[i];const t=i.getNump();if(t>1){const n=ka.getPointer(i);for(let i=1;i<t;i++)e.push(ka.wrapPointer(n+r*i,ka.PeHorizon))}}return n.set(t,e),e};n(ka.PeProjcs.prototype,"horizonGcsGenerate",i),n(ka.PeProjcs.prototype,"horizonPcsGenerate",i),ka.PeObject.prototype.toString=function(t=Ea.PE_STR_OPTS_NONE){ka.ensureCache.prepare();const n=ka.getPointer(this),e=ka.ensureInt8(new Array(Ea.PE_BUFFER_MAX));return ka.UTF8ToString(ka._pe_object_to_string_ext(n,t,e))}}function La(t){if(!t)return;const n=ka.getClass(t);if(!n)return;const e=ka.getCache(n);if(!e)return;const r=ka.getPointer(t);r&&delete e[r]}function Wa(t,n){const e=[],r=new Array(n);for(let n=0;n<t;n++)e.push(ka.ensureInt8(r));return e}function Ha(t){let n;return Array.isArray(t[0])?(n=[],t.forEach((t=>{n.push(t[0],t[1])}))):n=t,n}function Ja(t,n,e,r=!1){if(r)for(let r=0;r<2*n;r++)t[r]=ka.getValue(e+r*Float64Array.BYTES_PER_ELEMENT,"double");else{const r=0===t.length;for(let i=0;i<n;i++)r&&(t[i]=new Array(2)),t[i][0]=ka.getValue(e,"double"),t[i][1]=ka.getValue(e+Float64Array.BYTES_PER_ELEMENT,"double"),e+=2*Float64Array.BYTES_PER_ELEMENT}}!function(t){let n;t.init=function(){t.PE_GTLIST_OPTS_COMMON=ka.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,n=ka._pe_getPeGTlistExtendedEntrySize()},t.getGTlist=function(t,e,r,i,o,s){let a=null;const l=new ka.PeInteger(s);try{const u=ka.PeGTlistExtended.prototype.getGTlist(t,e,r,i,o,l);if((s=l.val)&&(a=[u],s>1)){const t=ka.getPointer(u);for(let e=1;e<s;e++)a.push(ka.wrapPointer(t+n*e,ka.PeGTlistExtendedEntry))}}finally{ka.destroy(l)}return a}}(ja||(ja={})),(Ia||(Ia={})).destroy=function(t){if(t&&t.length){for(const n of t)La(n),n.getEntries().forEach((t=>{La(t);const n=t.getGeogtran();La(n),n.getParameters().forEach(La),[n.getGeogcs1(),n.getGeogcs2()].forEach((t=>{La(t);const n=t.getDatum();La(n),La(n.getSpheroid()),La(t.getPrimem()),La(t.getUnit())}))}));ka.PeGTlistExtendedEntry.prototype.Delete(t[0])}},(Na||(Na={})).geogToGeog=function(t,n,e,r,i){ka.ensureCache.prepare();const o=Ha(e),s=e===o,a=ka.ensureFloat64(o);let l=0;r&&(l=ka.ensureFloat64(r));const u=ka._pe_geog_to_geog(ka.getPointer(t),n,a,l,i);return u&&Ja(e,n,a,s),u},function(t){const n=(t,n,e,r,i,o)=>{let s,a;switch(ka.ensureCache.prepare(),t){case"dd":s=ka._pe_geog_to_dd,a=Ea.PE_DD_MAX;break;case"ddm":s=ka._pe_geog_to_ddm,a=Ea.PE_DDM_MAX;break;case"dms":s=ka._pe_geog_to_dms,a=Ea.PE_DMS_MAX}let l=0;n&&(l=ka.getPointer(n));const u=Ha(r),c=ka.ensureFloat64(u),h=Wa(e,a),f=s(l,e,c,i,ka.ensureInt32(h));if(f)for(let t=0;t<e;t++)o[t]=ka.UTF8ToString(h[t]);return f},e=(t,n,e,r,i)=>{let o;switch(ka.ensureCache.prepare(),t){case"dd":o=ka._pe_dd_to_geog;break;case"ddm":o=ka._pe_ddm_to_geog;break;case"dms":o=ka._pe_dms_to_geog}let s=0;n&&(s=ka.getPointer(n));const a=r.map((t=>ka.ensureString(t))),l=ka.ensureInt32(a),u=ka.ensureFloat64(new Array(2*e)),c=o(s,e,l,u);return c&&Ja(i,e,u),c};t.geogToDms=function(t,e,r,i,o){return n("dms",t,e,r,i,o)},t.dmsToGeog=function(t,n,r,i){return e("dms",t,n,r,i)},t.geogToDdm=function(t,e,r,i,o){return n("ddm",t,e,r,i,o)},t.ddmToGeog=function(t,n,r,i){return e("ddm",t,n,r,i)},t.geogToDd=function(t,e,r,i,o){return n("dd",t,e,r,i,o)},t.ddToGeog=function(t,n,r,i){return e("dd",t,n,r,i)}}($a||($a={})),function(t){t.init=function(){t.PE_MGRS_STYLE_NEW=ka.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,t.PE_MGRS_STYLE_OLD=ka.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,t.PE_MGRS_STYLE_AUTO=ka.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,t.PE_MGRS_180_ZONE_1_PLUS=ka.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,t.PE_MGRS_ADD_SPACES=ka.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},t.geogToMgrsExtended=function(t,n,e,r,i,o,s){ka.ensureCache.prepare();let a=0;t&&(a=ka.getPointer(t));const l=Ha(e),u=ka.ensureFloat64(l),c=Wa(n,Ea.PE_MGRS_MAX),h=ka.ensureInt32(c),f=ka._pe_geog_to_mgrs_extended(a,n,u,r,i,o,h);if(f)for(let t=0;t<n;t++)s[t]=ka.UTF8ToString(c[t]);return f},t.mgrsToGeogExtended=function(t,n,e,r,i){ka.ensureCache.prepare();let o=0;t&&(o=ka.getPointer(t));const s=e.map((t=>ka.ensureString(t))),a=ka.ensureInt32(s),l=ka.ensureFloat64(new Array(2*n)),u=ka._pe_mgrs_to_geog_extended(o,n,a,r,l);return u&&Ja(i,n,l),u}}(Ua||(Ua={})),function(t){t.geogToUsng=function(t,n,e,r,i,o,s){ka.ensureCache.prepare();let a=0;t&&(a=ka.getPointer(t));const l=Ha(e),u=ka.ensureFloat64(l),c=Wa(n,Ea.PE_MGRS_MAX),h=ka.ensureInt32(c),f=ka._pe_geog_to_usng(a,n,u,r,i,o,h);if(f)for(let t=0;t<n;t++)s[t]=ka.UTF8ToString(c[t]);return f},t.usngToGeog=function(t,n,e,r){ka.ensureCache.prepare();let i=0;t&&(i=ka.getPointer(t));const o=e.map((t=>ka.ensureString(t))),s=ka.ensureInt32(o),a=ka.ensureFloat64(new Array(2*n)),l=ka._pe_usng_to_geog(i,n,s,a);return l&&Ja(r,n,a),l}}(Ga||(Ga={})),function(t){t.init=function(){t.PE_UTM_OPTS_NONE=ka.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,t.PE_UTM_OPTS_ADD_SPACES=ka.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,t.PE_UTM_OPTS_NS=ka.PeNotationUtm.prototype.PE_UTM_OPTS_NS},t.geogToUtm=function(t,n,e,r,i){ka.ensureCache.prepare();let o=0;t&&(o=ka.getPointer(t));const s=Ha(e),a=ka.ensureFloat64(s),l=Wa(n,Ea.PE_UTM_MAX),u=ka.ensureInt32(l),c=ka._pe_geog_to_utm(o,n,a,r,u);if(c)for(let t=0;t<n;t++)i[t]=ka.UTF8ToString(l[t]);return c},t.utmToGeog=function(t,n,e,r,i){ka.ensureCache.prepare();let o=0;t&&(o=ka.getPointer(t));const s=e.map((t=>ka.ensureString(t))),a=ka.ensureInt32(s),l=ka.ensureFloat64(new Array(2*n)),u=ka._pe_utm_to_geog(o,n,a,r,l);return u&&Ja(i,n,l),u}}(za||(za={})),function(t){const n=new Map;t.init=function(){t.PE_PCSINFO_OPTION_NONE=ka.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,t.PE_PCSINFO_OPTION_DOMAIN=ka.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,t.PE_POLE_OUTSIDE_BOUNDARY=ka.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,t.PE_POLE_POINT=ka.PePCSInfo.prototype.PE_POLE_POINT},t.generate=function(e,r=t.PE_PCSINFO_OPTION_DOMAIN){let i,o;return n.has(e)&&(o=n.get(e),o[r]&&(i=o[r])),i||(i=ka.PePCSInfo.prototype.generate(e,r),o||(o=[],n.set(e,o)),o[r]=i),i}}(Da||(Da={})),(qa||(qa={})).versionString=function(){return ka.PeVersion.prototype.version_string()};const Za=Object.freeze({__proto__:null,get _pe(){return ka},isLoaded:function(){return!!ka},isSupported:function(){return!!A("esri-wasm")},load:Ra,get PeCSTransformations(){return Oa},get PeDefs(){return Ea},get PeFactory(){return Pa},get PeGCSExtent(){return Ca},get PeGTlistExtended(){return ja},get PeGTlistExtendedEntry(){return Ia},get PeGTTransformations(){return Na},get PeNotationDms(){return $a},get PeNotationMgrs(){return Ua},get PeNotationUsng(){return Ga},get PeNotationUtm(){return za},get PePCSInfo(){return Da},get PeVersion(){return qa},_init:Fa});function Ba(t,n){const e=n[0]-t[0],r=n[1]-t[1];if(t.length>2&&n.length>2){const i=t[2]-n[2];return Math.sqrt(e*e+r*r+i*i)}return Math.sqrt(e*e+r*r)}function Ya(t,n){return function(t,n){const e=t[0]+.5*(n[0]-t[0]),r=t[1]+.5*(n[1]-t[1]);return t.length>2&&n.length>2?[e,r,t[2]+.5*(n[2]-t[2])]:[e,r]}(t,n)}function Xa(t,n,e){let r=0,i=0,o=0,s=0,a=0;const l=t.length?t[0][0]:0,u=t.length?t[0][1]:0,c=t.length&&n?t[0][2]:0;for(let h=0;h<t.length;h++){const f=t[h],d=t[(h+1)%t.length],[p,m,y]=f,g=p-l,v=m-u,w=n?y-c:void 0,[b,M,_]=d,x=b-l,S=M-u,A=n?_-c:void 0,T=g*S-x*v;if(s+=T,r+=(g+x)*T,i+=(v+S)*T,n&&f.length>2&&d.length>2){const t=g*A-x*w;o+=(w+A)*t,a+=t}p<e[0]&&(e[0]=p),p>e[1]&&(e[1]=p),m<e[2]&&(e[2]=m),m>e[3]&&(e[3]=m),n&&(y<e[4]&&(e[4]=y),y>e[5]&&(e[5]=y))}if(s>0&&(s*=-1),a>0&&(a*=-1),!s)return null;s*=.5,a*=.5;const h=[r/(6*s)+l,i/(6*s)+u,s];return n&&(e[4]===e[5]||0===a?(h[3]=(e[4]+e[5])/2,h[4]=0):(h[3]=o/(6*a)+c,h[4]=a)),h}function Ka(t){return(n,e)=>null==n?e:null==e?n:t(n,e)}const Va=Ka(Math.min),Qa=Ka(Math.max);function tl(t,n,e,r){const i=e?3:2;if(!n.length||!n[0].length)return null;let o,s,a,l,[u,c]=n[0][0],[h,f]=n[0][0];for(let t=0;t<n.length;t++){const d=n[t];for(let t=0;t<d.length;t++){const n=d[t],[p,m]=n;if(u=Va(u,p),c=Va(c,m),h=Qa(h,p),f=Qa(f,m),e&&n.length>2){const t=n[2];o=Va(o,t),s=Qa(s,t)}if(r&&n.length>i){const t=n[i];a=Va(o,t),l=Qa(s,t)}}}return e?r?(t[0]=u,t[1]=c,t[2]=o,t[3]=a,t[4]=h,t[5]=f,t[6]=s,t[7]=l,t.length=8,t):(t[0]=u,t[1]=c,t[2]=o,t[3]=h,t[4]=f,t[5]=s,t.length=6,t):r?(t[0]=u,t[1]=c,t[2]=a,t[3]=h,t[4]=f,t[5]=l,t.length=6,t):(t[0]=u,t[1]=c,t[2]=h,t[3]=f,t.length=4,t)}const nl=[];function el(t,n=!1,e=!1){return n?e?function(t,n,e,r,i,o,s,a){return{xmin:t,ymin:n,zmin:e,mmin:r,xmax:i,ymax:o,zmax:s,mmax:a}}(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):function(t,n,e,r,i,o){return{xmin:t,ymin:n,zmin:e,xmax:r,ymax:i,zmax:o}}(t[0],t[1],t[2],t[3],t[4],t[5]):e?function(t,n,e,r,i,o){return{xmin:t,ymin:n,mmin:e,xmax:r,ymax:i,mmax:o}}(t[0],t[1],t[2],t[3],t[4],t[5]):function(t,n,e,r){return{xmin:t,ymin:n,xmax:e,ymax:r}}(t[0],t[1],t[2],t[3])}var rl;function il(t){return!Array.isArray(t[0])}let ol=rl=class extends Co{constructor(...t){super(...t),this.rings=[],this.type="polygon"}static fromExtent(t){const n=t.clone().normalize(),e=t.spatialReference;let r=!1,i=!1;for(const t of n)t.hasZ&&(r=!0),t.hasM&&(i=!0);const o={rings:n.map((function(t){const n=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(r&&t.hasZ){const e=t.zmin+.5*(t.zmax-t.zmin);for(let t=0;t<n.length;t++)n[t].push(e)}if(i&&t.hasM){const e=t.mmin+.5*(t.mmax-t.mmin);for(let t=0;t<n.length;t++)n[t].push(e)}return n})),spatialReference:e};return r&&(o.hasZ=!0),i&&(o.hasM=!0),new rl(o)}normalizeCtorArgs(t,n){let e,r,i=null,o=null;return t&&!Array.isArray(t)?(i=t.rings?t.rings:null,n||(t.spatialReference?n=t.spatialReference:t.rings||(n=t)),e=t.hasZ,r=t.hasM):i=t,i=i||[],i.length&&i[0]&&null!=i[0][0]&&"number"==typeof i[0][0]&&(i=[i]),o=i[0]&&i[0][0],o&&(void 0===e&&void 0===r?(e=o.length>2,r=o.length>3):void 0===e?e=r?o.length>3:o.length>2:void 0===r&&(r=e?o.length>3:o.length>2)),{rings:i,spatialReference:n=n||Eo.WGS84,hasZ:e,hasM:r}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const t=function(t){return t?function(t,n){if(!t||!t.length)return null;const e=[],r=[],i=n?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let e=0,o=t.length;e<o;e++){const o=Xa(t[e],n,i);o&&r.push(o)}if(r.sort(((t,e)=>{let r=t[2]-e[2];return 0===r&&n&&(r=t[4]-e[4]),r})),r.length&&(e[0]=r[0][0],e[1]=r[0][1],n&&(e[2]=r[0][3]),(e[0]<i[0]||e[0]>i[1]||e[1]<i[2]||e[1]>i[3]||n&&(e[2]<i[4]||e[2]>i[5]))&&(e.length=0)),!e.length){const r=t[0]&&t[0].length?function(t,n){const e=n?[0,0,0]:[0,0],r=n?[0,0,0]:[0,0];let i=0,o=0,s=0,a=0;for(let l=0,u=t.length;l<u-1;l++){const u=t[l],c=t[l+1];if(u&&c){e[0]=u[0],e[1]=u[1],r[0]=c[0],r[1]=c[1],n&&u.length>2&&c.length>2&&(e[2]=u[2],r[2]=c[2]);const t=Ba(e,r);if(t){i+=t;const e=Ya(u,c);o+=t*e[0],s+=t*e[1],n&&e.length>2&&(a+=t*e[2])}}}return i>0?n?[o/i,s/i,a/i]:[o/i,s/i]:t.length?t[0]:null}(t[0],n):null;if(!r)return null;e[0]=r[0],e[1]=r[1],n&&r.length>2&&(e[2]=r[2])}return e}(t.rings,t.hasZ):null}(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const n=new Vo;return n.x=t[0],n.y=t[1],n.spatialReference=this.spatialReference,this.hasZ&&(n.z=t[2]),n}get extent(){const{spatialReference:t}=this,n=function(t){const{hasZ:n,hasM:e,rings:r}=t,i=tl(nl,r,n,e);return i?el(i,n,e):null}(this);if(!n)return null;const e=new ba(n);return e.spatialReference=t,e}get isSelfIntersecting(){return function(t){for(let n=0;n<t.length;n++){const e=t[n];for(let r=0;r<e.length-1;r++){const i=e[r],o=e[r+1];for(let e=n+1;e<t.length;e++)for(let n=0;n<t[e].length-1;n++){const r=t[e][n],s=t[e][n+1];if(ya(i,o,r,s,pa)&&!(pa[0]===i[0]&&pa[1]===i[1]||pa[0]===r[0]&&pa[1]===r[1]||pa[0]===o[0]&&pa[1]===o[1]||pa[0]===s[0]&&pa[1]===s[1]))return!0}}const r=e.length;if(!(r<=4))for(let t=0;t<r-3;t++){let n=r-1;0===t&&(n=r-2);const i=e[t],o=e[t+1];for(let r=t+2;r<n;r++){const t=e[r],n=e[r+1];if(ya(i,o,t,n,pa)&&!(pa[0]===i[0]&&pa[1]===i[1]||pa[0]===t[0]&&pa[1]===t[1]||pa[0]===o[0]&&pa[1]===o[1]||pa[0]===n[0]&&pa[1]===n[1]))return!0}}}return!1}(this.rings)}writeRings(t,n){n.rings=k(this.rings)}addRing(t){if(!t)return;const n=this.rings,e=n.length;if(il(t)){const r=[];for(let n=0,e=t.length;n<e;n++)r[n]=t[n].toArray();n[e]=r}else n[e]=t.concat();return this.notifyChange("rings"),this}clone(){const t=new rl;return t.spatialReference=this.spatialReference,t.rings=k(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(a(t))return!1;const n=this.spatialReference,e=t.spatialReference;if(s(n)!==s(e))return!1;if(s(n)&&s(e)&&!n.equals(e))return!1;if(this.rings.length!==t.rings.length)return!1;const r=([t,n,e,r],[i,o,s,a])=>t===i&&n===o&&(null==e&&null==s||e===s)&&(null==r&&null==a||r===a);for(let n=0;n<this.rings.length;n++)if(!f(this.rings[n],t.rings[n],r))return!1;return!0}contains(t){if(!t)return!1;const n=function(t,n){if(a(t))return null;const e=t.spatialReference,r=n&&(zo(n)?n:n.spatialReference);return Fo(e,r)?bo(e,r)?k(t):xo(r)?qo(t,Lo,Eo.WebMercator,!1,k(t)):_o(r)?qo(t,Wo,Eo.WGS84,!1,k(t)):null:null}(t,this.spatialReference);return function(t,n){return Xs[1]=n.y,Xs[0]=n.x,na(t,Xs)}(this,s(n)?n:t)}isClockwise(t){let n;return n=il(t)?t.map((t=>this.hasZ?this.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])):t,function(t,n,e){const r=t.length;let i=0,o=0,s=0;for(let a=0;a<r;a++){const l=t[a],u=t[(a+1)%r];let c=2;i+=l[0]*u[1]-u[0]*l[1],l.length>2&&u.length>2&&e&&(o+=l[0]*u[2]-u[0]*l[2],c=3),l.length>c&&u.length>c&&n&&(s+=l[0]*u[c]-u[0]*l[c])}return i<=0&&o<=0&&s<=0}(n,this.hasM,this.hasZ)}getPoint(t,n){if(!this._validateInputs(t,n))return null;const e=this.rings[t][n],r=this.hasZ,i=this.hasM;return r&&!i?new Vo(e[0],e[1],e[2],void 0,this.spatialReference):i&&!r?new Vo(e[0],e[1],void 0,e[2],this.spatialReference):r&&i?new Vo(e[0],e[1],e[2],e[3],this.spatialReference):new Vo(e[0],e[1],this.spatialReference)}insertPoint(t,n,e){return this._validateInputs(t,n,!0)?(Ma(this,e),Array.isArray(e)||(e=e.toArray()),this.rings[t].splice(n,0,e),this.notifyChange("rings"),this):this}removePoint(t,n){if(!this._validateInputs(t,n))return null;const e=new Vo(this.rings[t].splice(n,1)[0],this.spatialReference);return this.notifyChange("rings"),e}removeRing(t){if(!this._validateInputs(t,null))return null;const n=this.rings.splice(t,1)[0],e=this.spatialReference,r=n.map((t=>new Vo(t,e)));return this.notifyChange("rings"),r}setPoint(t,n,e){return this._validateInputs(t,n)?(Ma(this,e),Array.isArray(e)||(e=e.toArray()),this.rings[t][n]=e,this.notifyChange("rings"),this):this}_validateInputs(t,n,e=!1){if(null==t||t<0||t>=this.rings.length)return!1;if(null!=n){const r=this.rings[t];if(e&&(n<0||n>r.length))return!1;if(!e&&(n<0||n>=r.length))return!1}return!0}toJSON(t){return this.write({},t)}};te([Ze({readOnly:!0})],ol.prototype,"cache",null),te([Ze({readOnly:!0})],ol.prototype,"centroid",null),te([Ze({readOnly:!0})],ol.prototype,"extent",null),te([Ze({readOnly:!0})],ol.prototype,"isSelfIntersecting",null),te([Ze({type:[[[Number]]],json:{write:{isRequired:!0}}})],ol.prototype,"rings",void 0),te([Br("rings")],ol.prototype,"writeRings",null),ol=rl=te([Jr("esri.geometry.Polygon")],ol),ol.prototype.toJSON.isDefaultToJSON=!0;const sl=ol;var al;let ll=al=class extends Co{constructor(...t){super(...t),this.paths=[],this.type="polyline"}normalizeCtorArgs(t,n){let e,r,i=null,o=null;return t&&!Array.isArray(t)?(i=t.paths?t.paths:null,n||(t.spatialReference?n=t.spatialReference:t.paths||(n=t)),e=t.hasZ,r=t.hasM):i=t,i=i||[],i.length&&i[0]&&null!=i[0][0]&&"number"==typeof i[0][0]&&(i=[i]),o=i[0]&&i[0][0],o&&(void 0===e&&void 0===r?(e=o.length>2,r=!1):void 0===e?e=!r&&o.length>3:void 0===r&&(r=!e&&o.length>3)),{paths:i,spatialReference:n=n||Eo.WGS84,hasZ:e,hasM:r}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:t}=this,n=function(t){const{hasZ:n,hasM:e,paths:r}=t,i=tl(nl,r,n,e);return i?el(i,n,e):null}(this);if(!n)return null;const e=new ba(n);return e.spatialReference=t,e}writePaths(t,n){n.paths=k(this.paths)}addPath(t){if(!t)return;const n=this.paths,e=n.length;if(function(t){return!Array.isArray(t[0])}(t)){const r=[];for(let n=0,e=t.length;n<e;n++)r[n]=t[n].toArray();n[e]=r}else n[e]=t.concat();return this.notifyChange("paths"),this}clone(){const t=new al;return t.spatialReference=this.spatialReference,t.paths=k(this.paths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,n){if(!this._validateInputs(t,n))return null;const e=this.paths[t][n],r=this.hasZ,i=this.hasM;return r&&!i?new Vo(e[0],e[1],e[2],void 0,this.spatialReference):i&&!r?new Vo(e[0],e[1],void 0,e[2],this.spatialReference):r&&i?new Vo(e[0],e[1],e[2],e[3],this.spatialReference):new Vo(e[0],e[1],this.spatialReference)}insertPoint(t,n,e){return this._validateInputs(t,n,!0)?(Ma(this,e),Array.isArray(e)||(e=e.toArray()),this.paths[t].splice(n,0,e),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const n=this.paths.splice(t,1)[0],e=this.spatialReference,r=n.map((t=>new Vo(t,e)));return this.notifyChange("paths"),r}removePoint(t,n){if(!this._validateInputs(t,n))return null;const e=new Vo(this.paths[t].splice(n,1)[0],this.spatialReference);return this.notifyChange("paths"),e}setPoint(t,n,e){return this._validateInputs(t,n)?(Ma(this,e),Array.isArray(e)||(e=e.toArray()),this.paths[t][n]=e,this.notifyChange("paths"),this):this}_validateInputs(t,n,e=!1){if(null==t||t<0||t>=this.paths.length)return!1;if(null!=n){const r=this.paths[t];if(e&&(n<0||n>r.length))return!1;if(!e&&(n<0||n>=r.length))return!1}return!0}toJSON(t){return this.write({},t)}};te([Ze({readOnly:!0})],ll.prototype,"cache",null),te([Ze({readOnly:!0})],ll.prototype,"extent",null),te([Ze({type:[[[Number]]],json:{write:{isRequired:!0}}})],ll.prototype,"paths",void 0),te([Br("paths")],ll.prototype,"writePaths",null),ll=al=te([Jr("esri.geometry.Polyline")],ll),ll.prototype.toJSON.isDefaultToJSON=!0;const ul=ll,cl=Io.radius,hl=Io.eccentricitySquared,fl={a1:cl*hl,a2:cl*hl*cl*hl,a3:cl*hl*hl/2,a4:cl*hl*cl*hl*2.5,a5:cl*hl+cl*hl*hl/2,a6:1-hl};let dl=0;class pl{constructor(t=null){this.uid=dl++,t?(this._wkt=void 0!==t.wkt?t.wkt:null,this._wkid=void 0!==t.wkid?t.wkid:-1,this._isInverse=void 0!==t.isInverse&&!0===t.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(t){const n=new pl;return n._wkt=t.wkt,n._wkid=t.wkid,n._isInverse=t.isInverse,n}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=dl++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=dl++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=dl++}getInverse(){const t=new pl;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}class ml{constructor(t){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,t&&t.steps)for(const n of t.steps)this.steps.push(n instanceof pl?n:new pl({wkid:n.wkid,wkt:n.wkt,isInverse:n.isInverse}))}static cacheKey(t,n){return[null!=t.wkid?t.wkid.toString():"-1",null!=t.wkt?t.wkt.toString():"",null!=n.wkid?n.wkid.toString():"-1",null!=n.wkt?n.wkt.toString():""].join(",")}static fromGE(t){const n=new ml;let e="";for(const r of t.steps){const t=pl.fromGE(r);n.steps.push(t),e+=t.uid.toString()+","}return n._cached_projection={},n._gtlistentry=null,n._chain=e,n}getInverse(){const t=new ml;t.steps=[];for(let n=this.steps.length-1;n>=0;n--)t.steps.push(this.steps[n].getInverse());return t}getGTListEntry(){let t="";for(const n of this.steps)t+=n.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=t),this._gtlistentry}assignCachedGe(t,n,e){this._cached_projection[ml.cacheKey(t,n)]=e}getCachedGeTransformation(t,n){let e="";for(const t of this.steps)e+=t.uid.toString()+",";e!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=e);const r=this._cached_projection[ml.cacheKey(t,n)];return void 0===r?null:r}}let yl=null,gl=null,vl=null,wl={};function bl(t,n,e,r,i=null){if(a(e)||a(r))return n;if(function(t,n,e){return!e&&(!!bo(t,n)||To(t)&&To(n)&&!!Hl(t,n,Zl))}(e,r,i))return n.map((t=>function(t,n,e){return t?"x"in t?function(t,n,e,r){Kl[0]=t.x,Kl[1]=t.y;const i=t.z;return Kl[2]=void 0!==i?i:0,Sl(Kl,n,0,Kl,r,0,1)?(e.x=Kl[0],e.y=Kl[1],e.spatialReference=r,void 0===i?(e.z=void 0,e.hasZ=!1):(e.z=Kl[2],e.hasZ=!0),void 0===t.m?(e.m=void 0,e.hasM=!1):(e.m=t.m,e.hasM=!0),e):null}(t,n,new Vo,e):"xmin"in t?function(t,n,e,r){const{xmin:i,ymin:o,xmax:s,ymax:a,hasZ:l,hasM:u}=t;return xl(i,o,l?t.zmin:0,n,Kl,r)?(e.xmin=Kl[0],e.ymin=Kl[1],l&&(e.zmin=Kl[2]),xl(s,a,l?t.zmax:0,n,Kl,r)?(e.xmax=Kl[0],e.ymax=Kl[1],l&&(e.zmax=Kl[2]),u&&(e.mmin=t.mmin,e.mmax=t.mmax),e.spatialReference=r,e):null):null}(t,n,new ba,e):"rings"in t?function(t,n,e,r){const{rings:i,hasZ:o,hasM:s}=t,a=[];return Al(i,o,s,n,a,r,0)?(e.rings=a,e.spatialReference=r,e.hasZ=o,e.hasM=s,e):null}(t,n,new sl,e):"paths"in t?function(t,n,e,r){const{paths:i,hasZ:o,hasM:s}=t,a=[];return Al(i,o,s,n,a,r,0)?(e.paths=a,e.spatialReference=r,e.hasZ=o,e.hasM=s,e):null}(t,n,new ul,e):"points"in t?function(t,n,e,r){const{points:i,hasZ:o,hasM:s}=t,a=[],l=i.length,u=[];for(const t of i)u.push(t[0],t[1],o?t[2]:0);if(!Sl(u,n,0,u,r,0,l))return null;for(let t=0;t<l;++t){const n=3*t,e=u[n],r=u[n+1];a.push(o&&s?[e,r,u[n+2],i[t][3]]:o?[e,r,u[n+2]]:s?[e,r,i[t][2]]:[e,r])}return e.points=a,e.spatialReference=r,e.hasZ=o,e.hasM=s,e}(t,n,new Aa,e):null:null}(t,e,r)));if(a(i)){const t=ml.cacheKey(e,r);void 0!==wl[t]?i=wl[t]:(i=function(t,n,e=null){if(a(yl))throw new Ml;if(a(t)||a(n))return null;const r=yl._getTransformation(gl,t,n,e,null==e?void 0:e.spatialReference);return null!==r?ml.fromGE(r):null}(e,r,null),a(i)&&(i=new ml),wl[t]=i)}if(a(yl))throw new Ml;return yl._project(t,n,e,r,i)}class Ml extends yt{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var _l;function xl(t,n,e,r,i,o){return Xl[0]=t,Xl[1]=n,Xl[2]=e,Sl(Xl,r,0,i,o,0,1)}function Sl(t,n,e,r,i,o,s=1){const l=Hl(n,i,Zl);if(a(l))return!1;if(l===kl){if(t===r&&e===o)return!0;const n=e+3*s;for(let i=e,s=o;i<n;i++,s++)r[s]=t[i];return!0}const u=e+3*s;for(let n=e,i=o;n<u;n+=3,i+=3)l(t,n,r,i);return!0}function Al(t,n,e,r,i,o,s=0){const a=new Array;for(const e of t)for(const t of e)a.push(t[0],t[1],n?t[2]:s);if(!Sl(a,r,0,a,o,0,a.length/3))return!1;let l=0;i.length=0;for(const r of t){const t=new Array;for(const i of r)n&&e?t.push([a[l++],a[l++],a[l++],i[3]]):n?t.push([a[l++],a[l++],a[l++]]):e?(t.push([a[l++],a[l++],i[2]]),l++):(t.push([a[l++],a[l++]]),l++);i.push(t)}return!0}function Tl(t,n){return n.spatialReference===t?n.spatialReferenceId:(n.spatialReference=t,"metersPerUnit"in n&&(n.metersPerUnit=function(t,n=Io.metersPerDegree){return function(t,n=!1){let e,r,i=null;if(null!=t&&("object"==typeof t?(e=t.wkid,r=t.wkt):"number"==typeof t?e=t:"string"==typeof t&&(r=t)),e){if(So(e))return No.metersPerDegree;if(Ao(e))return $o.metersPerDegree;i=zs.values[zs[e]],!i&&n&&qs.has(e)&&(i=Us)}else r&&(function(t){return/^PROJCS/i.test(t)}(r)?i=Fs(Gs.exec(r),i):function(t){return/^GEOCCS/i.test(t)}(r)&&(i=Fs(Ds.exec(r),i)));return i}(t,!0)||n}(t,1)),n.spatialReferenceId=t.wkt===js.wkt?_l.SPHERICAL_ECEF:_o(t)?_l.WGS84:xo(t)?_l.WEB_MERCATOR:function(t){return To(t)&&32662===t.wkid}(t)?_l.PLATE_CARREE:t.wkt===$s.wkt?_l.WGS84_ECEF:t.wkid===co.CGCS2000?_l.CGCS2000:t.wkt===Is.wkt?_l.SPHERICAL_MARS_PCPF:t.wkt===Ns.wkt?_l.SPHERICAL_MOON_PCPF:function(t){return To(t)&&null!=t.wkid&&So(t.wkid)}(t)?_l.GCSMARS2000:function(t){return To(t)&&null!=t.wkid&&Ao(t.wkid)}(t)?_l.GCSMOON2000:_l.UNKNOWN)}function kl(t,n,e,r){t!==e&&(e[r++]=t[n++],e[r++]=t[n++],e[r]=t[n])}function Rl(t,n,e,r){e[r++]=Yl*(t[n++]/Io.radius),e[r++]=Yl*(Math.PI/2-2*Math.atan(Math.exp(-t[n++]/Io.radius))),e[r]=t[n]}function Ol(t,n,e,r){!function(t,n,e,r,i){const o=.4999999*Math.PI,s=Ps(Bl*t[n+1],-o,o),a=Math.sin(s);e[r++]=Bl*t[n]*i.radius,e[r++]=i.halfSemiMajorAxis*Math.log((1+a)/(1-a)),e[r]=t[n+2]}(t,n,e,r,Io)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",t[t.WGS84=2]="WGS84",t[t.WEB_MERCATOR=3]="WEB_MERCATOR",t[t.WGS84_ECEF=4]="WGS84_ECEF",t[t.CGCS2000=5]="CGCS2000",t[t.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",t[t.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",t[t.GCSMARS2000=8]="GCSMARS2000",t[t.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",t[t.GCSMOON2000=10]="GCSMOON2000",t[t.LON_LAT=11]="LON_LAT",t[t.PLATE_CARREE=12]="PLATE_CARREE"}(_l||(_l={}));const El=Io.radius*Math.PI/180,Pl=180/(Io.radius*Math.PI);function Cl(t,n,e,r){e[r]=t[n]*El,e[r+1]=t[n+1]*El,e[r+2]=t[n+2]}function jl(t,n,e,r){e[r]=t[n]*Pl,e[r+1]=t[n+1]*Pl,e[r+2]=t[n+2]}function Il(t,n,e,r,i){const o=i+t[n+2],s=Bl*t[n+1],a=Bl*t[n],l=Math.cos(s);e[r++]=Math.cos(a)*l*o,e[r++]=Math.sin(a)*l*o,e[r]=Math.sin(s)*o}function Nl(t,n,e,r){Il(t,n,e,r,$o.radius)}function $l(t,n,e,r){Il(t,n,e,r,No.radius)}function Ul(t,n,e,r){Il(t,n,e,r,Io.radius)}function Gl(t,n,e,r,i){const o=t[n],s=t[n+1],a=t[n+2],l=Math.sqrt(o*o+s*s+a*a),u=function(t){return Math.asin(Ps(t,-1,1))}(a/(0===l?1:l)),c=Math.atan2(s,o);e[r++]=Yl*c,e[r++]=Yl*u,e[r]=l-i}function zl(t,n,e,r){Gl(t,n,e,r,$o.radius)}function Dl(t,n,e,r){Gl(t,n,e,r,No.radius)}function ql(t,n,e,r){Gl(t,n,e,r,Io.radius)}function Fl(t,n,e,r){!function(t,n,e,r,i){const o=Bl*t[n],s=Bl*t[n+1],a=t[n+2],l=Math.sin(s),u=Math.cos(s),c=i.radius/Math.sqrt(1-i.eccentricitySquared*l*l);e[r++]=(c+a)*u*Math.cos(o),e[r++]=(c+a)*u*Math.sin(o),e[r++]=(c*(1-i.eccentricitySquared)+a)*l}(t,n,e,r,Io)}function Ll(t,n,e,r){const i=fl,o=t[n],s=t[n+1],a=t[n+2];let l,u,c,h,f,d,p,m,y,g,v,w,b,M,_,x,S,A,T,k,R;l=Math.abs(a),u=o*o+s*s,c=Math.sqrt(u),h=u+a*a,f=Math.sqrt(h),k=Math.atan2(s,o),d=a*a/h,p=u/h,M=i.a2/f,_=i.a3-i.a4/f,p>.3?(m=l/f*(1+p*(i.a1+M+d*_)/f),T=Math.asin(m),g=m*m,y=Math.sqrt(1-g)):(y=c/f*(1-d*(i.a5-M-p*_)/f),T=Math.acos(y),g=1-y*y,m=Math.sqrt(g)),v=1-Io.eccentricitySquared*g,w=Io.radius/Math.sqrt(v),b=i.a6*w,M=c-w*y,_=l-b*m,S=y*M+m*_,x=y*_-m*M,A=x/(b/v+S),T+=A,R=S+x*A/2,a<0&&(T=-T),e[r++]=Yl*k,e[r++]=Yl*T,e[r]=R}const Wl={[_l.WGS84]:{[_l.CGCS2000]:null,[_l.GCSMARS2000]:null,[_l.GCSMOON2000]:null,[_l.LON_LAT]:kl,[_l.WGS84_COMPARABLE_LON_LAT]:kl,[_l.SPHERICAL_ECEF]:Ul,[_l.SPHERICAL_MARS_PCPF]:null,[_l.SPHERICAL_MOON_PCPF]:null,[_l.UNKNOWN]:null,[_l.WEB_MERCATOR]:Ol,[_l.PLATE_CARREE]:Cl,[_l.WGS84]:kl,[_l.WGS84_ECEF]:Fl},[_l.CGCS2000]:{[_l.CGCS2000]:kl,[_l.GCSMARS2000]:null,[_l.GCSMOON2000]:null,[_l.LON_LAT]:kl,[_l.WGS84_COMPARABLE_LON_LAT]:kl,[_l.SPHERICAL_ECEF]:Ul,[_l.SPHERICAL_MARS_PCPF]:null,[_l.SPHERICAL_MOON_PCPF]:null,[_l.UNKNOWN]:null,[_l.WEB_MERCATOR]:null,[_l.PLATE_CARREE]:Cl,[_l.WGS84]:null,[_l.WGS84_ECEF]:Fl},[_l.GCSMARS2000]:{[_l.CGCS2000]:null,[_l.GCSMARS2000]:kl,[_l.GCSMOON2000]:null,[_l.LON_LAT]:kl,[_l.WGS84_COMPARABLE_LON_LAT]:null,[_l.SPHERICAL_ECEF]:null,[_l.SPHERICAL_MARS_PCPF]:$l,[_l.SPHERICAL_MOON_PCPF]:null,[_l.UNKNOWN]:null,[_l.WEB_MERCATOR]:null,[_l.PLATE_CARREE]:null,[_l.WGS84]:null,[_l.WGS84_ECEF]:null},[_l.GCSMOON2000]:{[_l.CGCS2000]:null,[_l.GCSMARS2000]:null,[_l.GCSMOON2000]:kl,[_l.LON_LAT]:kl,[_l.WGS84_COMPARABLE_LON_LAT]:null,[_l.SPHERICAL_ECEF]:null,[_l.SPHERICAL_MARS_PCPF]:null,[_l.SPHERICAL_MOON_PCPF]:Nl,[_l.UNKNOWN]:null,[_l.WEB_MERCATOR]:null,[_l.PLATE_CARREE]:null,[_l.WGS84]:null,[_l.WGS84_ECEF]:null},[_l.WEB_MERCATOR]:{[_l.CGCS2000]:null,[_l.GCSMARS2000]:null,[_l.GCSMOON2000]:null,[_l.LON_LAT]:Rl,[_l.WGS84_COMPARABLE_LON_LAT]:Rl,[_l.SPHERICAL_ECEF]:function(t,n,e,r){Rl(t,n,e,r),Ul(e,r,e,r)},[_l.SPHERICAL_MARS_PCPF]:null,[_l.SPHERICAL_MOON_PCPF]:null,[_l.UNKNOWN]:null,[_l.WEB_MERCATOR]:kl,[_l.PLATE_CARREE]:function(t,n,e,r){Rl(t,n,e,r),Cl(e,r,e,r)},[_l.WGS84]:Rl,[_l.WGS84_ECEF]:function(t,n,e,r){Rl(t,n,e,r),Fl(e,r,e,r)}},[_l.WGS84_ECEF]:{[_l.CGCS2000]:Ll,[_l.GCSMARS2000]:null,[_l.GCSMOON2000]:null,[_l.LON_LAT]:Ll,[_l.WGS84_COMPARABLE_LON_LAT]:Ll,[_l.SPHERICAL_ECEF]:function(t,n,e,r){Ll(t,n,e,r),Ul(e,r,e,r)},[_l.SPHERICAL_MARS_PCPF]:null,[_l.SPHERICAL_MOON_PCPF]:null,[_l.UNKNOWN]:null,[_l.WEB_MERCATOR]:function(t,n,e,r){Ll(t,n,e,r),Ol(e,r,e,r)},[_l.PLATE_CARREE]:function(t,n,e,r){Ll(t,n,e,r),Cl(e,r,e,r)},[_l.WGS84]:Ll,[_l.WGS84_ECEF]:kl},[_l.SPHERICAL_ECEF]:{[_l.CGCS2000]:ql,[_l.GCSMARS2000]:null,[_l.GCSMOON2000]:null,[_l.LON_LAT]:ql,[_l.WGS84_COMPARABLE_LON_LAT]:ql,[_l.SPHERICAL_ECEF]:kl,[_l.SPHERICAL_MARS_PCPF]:null,[_l.SPHERICAL_MOON_PCPF]:null,[_l.UNKNOWN]:null,[_l.WEB_MERCATOR]:function(t,n,e,r){ql(t,n,e,r),Ol(e,r,e,r)},[_l.PLATE_CARREE]:function(t,n,e,r){ql(t,n,e,r),Cl(e,r,e,r)},[_l.WGS84]:ql,[_l.WGS84_ECEF]:function(t,n,e,r){ql(t,n,e,r),Fl(e,r,e,r)}},[_l.SPHERICAL_MARS_PCPF]:{[_l.CGCS2000]:null,[_l.GCSMARS2000]:Dl,[_l.GCSMOON2000]:null,[_l.LON_LAT]:Dl,[_l.WGS84_COMPARABLE_LON_LAT]:null,[_l.SPHERICAL_ECEF]:null,[_l.SPHERICAL_MARS_PCPF]:kl,[_l.SPHERICAL_MOON_PCPF]:null,[_l.UNKNOWN]:null,[_l.WEB_MERCATOR]:null,[_l.PLATE_CARREE]:null,[_l.WGS84]:null,[_l.WGS84_ECEF]:null},[_l.SPHERICAL_MOON_PCPF]:{[_l.CGCS2000]:null,[_l.GCSMARS2000]:null,[_l.GCSMOON2000]:zl,[_l.LON_LAT]:zl,[_l.WGS84_COMPARABLE_LON_LAT]:null,[_l.SPHERICAL_ECEF]:null,[_l.SPHERICAL_MARS_PCPF]:null,[_l.SPHERICAL_MOON_PCPF]:kl,[_l.UNKNOWN]:null,[_l.WEB_MERCATOR]:null,[_l.PLATE_CARREE]:null,[_l.WGS84]:null,[_l.WGS84_ECEF]:null},[_l.UNKNOWN]:{[_l.CGCS2000]:null,[_l.GCSMARS2000]:null,[_l.GCSMOON2000]:null,[_l.LON_LAT]:null,[_l.WGS84_COMPARABLE_LON_LAT]:null,[_l.SPHERICAL_ECEF]:null,[_l.SPHERICAL_MARS_PCPF]:null,[_l.SPHERICAL_MOON_PCPF]:null,[_l.UNKNOWN]:kl,[_l.WEB_MERCATOR]:null,[_l.PLATE_CARREE]:null,[_l.WGS84]:null,[_l.WGS84_ECEF]:null},[_l.LON_LAT]:{[_l.CGCS2000]:kl,[_l.GCSMARS2000]:kl,[_l.GCSMOON2000]:kl,[_l.LON_LAT]:kl,[_l.WGS84_COMPARABLE_LON_LAT]:kl,[_l.SPHERICAL_ECEF]:Ul,[_l.SPHERICAL_MARS_PCPF]:$l,[_l.SPHERICAL_MOON_PCPF]:Nl,[_l.UNKNOWN]:null,[_l.WEB_MERCATOR]:Ol,[_l.PLATE_CARREE]:Cl,[_l.WGS84]:kl,[_l.WGS84_ECEF]:Fl},[_l.WGS84_COMPARABLE_LON_LAT]:{[_l.CGCS2000]:null,[_l.GCSMARS2000]:null,[_l.GCSMOON2000]:null,[_l.LON_LAT]:kl,[_l.WGS84_COMPARABLE_LON_LAT]:kl,[_l.SPHERICAL_ECEF]:Ul,[_l.SPHERICAL_MARS_PCPF]:null,[_l.SPHERICAL_MOON_PCPF]:null,[_l.UNKNOWN]:null,[_l.WEB_MERCATOR]:null,[_l.PLATE_CARREE]:Cl,[_l.WGS84]:kl,[_l.WGS84_ECEF]:Fl},[_l.PLATE_CARREE]:{[_l.CGCS2000]:jl,[_l.GCSMARS2000]:null,[_l.GCSMOON2000]:null,[_l.LON_LAT]:jl,[_l.WGS84_COMPARABLE_LON_LAT]:jl,[_l.SPHERICAL_ECEF]:function(t,n,e,r){jl(t,n,e,r),Ul(e,r,e,r)},[_l.SPHERICAL_MARS_PCPF]:null,[_l.SPHERICAL_MOON_PCPF]:null,[_l.UNKNOWN]:null,[_l.WEB_MERCATOR]:function(t,n,e,r){jl(t,n,e,r),Ol(e,r,e,r)},[_l.PLATE_CARREE]:kl,[_l.WGS84]:jl,[_l.WGS84_ECEF]:function(t,n,e,r){jl(t,n,e,r),Fl(e,r,e,r)}}};function Hl(t,n,e=Jl()){return a(t)||a(n)?null:function(t,n,e){if(a(t)||a(n)||e.source.spatialReference===t&&e.dest.spatialReference===n)return e;const r=Tl(t,e.source),i=Tl(n,e.dest);return e.projector=r===_l.UNKNOWN&&i===_l.UNKNOWN?bo(t,n)?kl:null:Wl[r][i],e}(t,n,e).projector}function Jl(){return{source:{spatialReference:null,spatialReferenceId:_l.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:_l.UNKNOWN,metersPerUnit:1},projector:kl}}const Zl=Jl(),Bl=1*Math.PI/180,Yl=180/Math.PI,Xl=[0,0,0],Kl=[0,0,0];"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,function(t){var n={Promise:"undefined"!=typeof window?window.Promise:void 0},e="4.23",r="next";function i(t){if(t.toLowerCase()===r)return r;var n=t&&t.match(/^(\d)\.(\d+)/);return n&&{major:parseInt(n[1],10),minor:parseInt(n[2],10)}}function o(t){return void 0===t&&(t=e),"https://js.arcgis.com/"+t+"/"}function s(t){void 0===t&&(t=e);var n=o(t),s=i(t);return s!==r&&3===s.major?n+(s.minor<=10?"js/":"")+"esri/css/esri.css":n+"esri/themes/light/main.css"}function a(t){var n=document.createElement("link");return n.rel="stylesheet",n.href=t,n}function l(t,n){if(n){var e=document.querySelector(n);e.parentNode.insertBefore(t,e)}else document.head.appendChild(t)}function u(t){return document.querySelector('link[href*="'+t+'"]')}function c(t){return!t||i(t)?s(t):t}function h(t,n){var e=c(t),r=u(e);return r||l(r=a(e),n),r}var f={};function d(t){var n=document.createElement("script");return n.type="text/javascript",n.src=t,n.setAttribute("data-esri-loader","loading"),n}function p(t,n,e){var r;e&&(r=m(t,e));var i=function(){n(t),t.removeEventListener("load",i,!1),r&&t.removeEventListener("error",r,!1)};t.addEventListener("load",i,!1)}function m(t,n){var e=function(r){n(r.error||new Error("There was an error attempting to load "+t.src)),t.removeEventListener("error",e,!1)};return t.addEventListener("error",e,!1),e}function y(t){void 0===t&&(t={}),f=t}function g(){return document.querySelector("script[data-esri-loader]")}function v(){var t=window.require;return t&&t.on}function w(t){void 0===t&&(t={});var e={};[f,t].forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}));var r=e.version,i=e.url||o(r);return new n.Promise((function(t,n){var o=g();if(o){var s=o.getAttribute("src");s!==i?n(new Error("The ArcGIS API for JavaScript is already loaded ("+s+").")):v()?t(o):p(o,t,n)}else if(v())n(new Error("The ArcGIS API for JavaScript is already loaded."));else{var a=e.css;a&&h(!0===a?r:a,e.insertCssBefore),p(o=d(i),(function(){o.setAttribute("data-esri-loader","loaded"),t(o)}),n),document.body.appendChild(o)}}))}function b(t){return new n.Promise((function(n,e){var r=window.require.on("error",e);window.require(t,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.remove(),n(t)}))}))}function M(t,n){if(void 0===n&&(n={}),v())return b(t);var e=g(),r=e&&e.getAttribute("src");return!n.url&&r&&(n.url=r),w(n).then((function(){return b(t)}))}t.utils=n,t.loadModules=M,t.getScript=g,t.isLoaded=v,t.loadScript=w,t.setDefaultOptions=y,t.loadCss=h,Object.defineProperty(t,"__esModule",{value:!0})}({});const Vl=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","nb"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function Ql(t,n){return new Promise(((e,i)=>{fetch(r(`../assets/t9n/${t}/resources_${n}.json`)).then((t=>{t.ok?e(t.json()):i()}),(()=>i()))}))}const tu="instant-apps-social-share",nu={base:tu,dialog:`${tu}__dialog`,dialogEmbed:`${tu}__dialog-embed`,dialogContent:`${tu}__dialog-content`,options:`${tu}__options`,tipContainer:`${tu}__tip`,tipHeader:`${tu}__tip-header`,tipContent:`${tu}__tip-content`,icon:`${tu}__icon`,optionText:`${tu}__option-text`,popoverButton:`${tu}__popover-button`,layout:{vertical:`${tu}__layout--vertical`,horizontal:`${tu}__layout--horizontal`},success:{container:`${tu}__success`,header:`${tu}__success-header`,message:`${tu}__success-message`,icon:`${tu}__success-icon`},embed:{container:`${tu}__embed`,header:`${tu}__embed-header`,embedCode:{container:`${tu}__embed-code`,textArea:`${tu}__embed-code-text-area`,copyButton:`${tu}__embed-code-copy-button`},textAreaText:`${tu}__embed-text-area-text`,dimensions:{container:`${tu}__embed-dimensions`,input:`${tu}__embed-dimensions-input`}}},eu={facebook:"https://www.facebook.com/sharer/sharer.php?u={url}",twitter:"https://twitter.com/intent/tweet?text={text}&url={url}",linkedIn:"https://www.linkedin.com/sharing/share-offsite/?url={url}"};let ru=class{constructor(n){t(this,n),this.mode="popover",this.shareUrl=window.location.href,this.shareText="",this.embed=!1,this.shareButtonColor="neutral",this.iframeInnerText="",this.displayTipText=!0,this.socialMedia=!0,this.shareIconsLayout="vertical",this.scale="m",this.defaultUrlParams=null,this.opened=!1,this.copied=!1,this.inlineCopyLinkOpened=!1,this.inlineCopyEmbedOpened=!1,this.embedWidth=400,this.embedHeight=600}componentDidLoad(){var t,n;this.getMessages(),this.setupAutoCloseListeners(),"popover"===this.mode&&this.opened&&this.popoverRef.toggle(!0),this.embed&&(null===(t=this.embedWidthRef)||void 0===t||t.addEventListener("change",this.updateDimensions.bind(this,"width")),null===(n=this.embedHeightRef)||void 0===n||n.addEventListener("change",this.updateDimensions.bind(this,"height")))}disconnectedCallback(){var t,n,e;document.documentElement.removeEventListener("click",this.autoCloseCallback.bind(this)),"popover"===this.mode?(this.popoverRef.removeEventListener("click",this.stopPropagationCallback.bind(this)),this.popoverRef.removeEventListener("calcitePopoverClose",this.resetPopoverCopyState.bind(this))):(null===(t=this.embedWidthRef)||void 0===t||t.removeEventListener("change",this.updateDimensions.bind(this)),null===(n=this.embedHeightRef)||void 0===n||n.removeEventListener("change",this.updateDimensions.bind(this)),null===(e=this.dialogContentRef)||void 0===e||e.removeEventListener("click",this.stopPropagationCallback.bind(this)))}async getMessages(){const t=await async function(t){const n=t.tagName.toLowerCase(),e=function(t){var n,e,r;const i=null!==(n=t.closest("[lang]"))&&void 0!==n?n:null===(r=null===(e=t.shadowRoot)||void 0===e?void 0:e.ownerDocument)||void 0===r?void 0:r.documentElement,o=((null==i?void 0:i.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return Vl.has(o)?Vl.get(o):Vl.has(o.slice(0,2))?Vl.get(o.slice(0,2)):"en"}(t);let r;try{r=await Ql(n,e)}catch(t){console.warn(`no locale for ${n} (${e}) loading default locale en.`),r=await Ql(n,"en")}return[r,e]}(this.el);this.messages=t[0]}setupAutoCloseListeners(){var t,n,e;document.documentElement.addEventListener("click",this.autoCloseCallback.bind(this)),"popover"===this.mode?(null===(t=this.popoverRef)||void 0===t||t.addEventListener("click",this.stopPropagationCallback.bind(this)),null===(n=this.popoverRef)||void 0===n||n.addEventListener("calcitePopoverClose",this.resetPopoverCopyState.bind(this))):null===(e=this.dialogContentRef)||void 0===e||e.addEventListener("click",this.stopPropagationCallback.bind(this))}autoCloseCallback(){var t,n,e;"popover"===this.mode?(this.opened=!1,null===(t=this.popoverRef)||void 0===t||t.toggle(this.opened)):(null===(n=this.copyLinkPopoverRef)||void 0===n||n.toggle(!1),this.inlineCopyLinkOpened=!1,null===(e=this.copyEmbedPopoverRef)||void 0===e||e.toggle(!1),this.inlineCopyEmbedOpened=!1)}stopPropagationCallback(t){t.stopPropagation()}resetPopoverCopyState(){setTimeout((()=>{this.copied=!1}),200)}updateDimensions(t){var n,e;if("width"===t){const t=null===(n=this.embedWidthRef)||void 0===n?void 0:n.value;this.embedWidth=parseInt(t)}else{const t=null===(e=this.embedHeightRef)||void 0===e?void 0:e.value;this.embedHeight=parseInt(t)}}render(){var t,r,i,o,s,a,l,u,c,h;const f=this.copied&&"popover"===this.mode?this.renderSuccess():n("div",{class:nu.dialogContent},this.renderOptions(),this.displayTipText?this.renderTip():null,this.embed?this.renderEmbed():null),d=n("div",{ref:t=>this.dialogContentRef=t,class:`${nu.dialog}${"vertical"===this.shareIconsLayout?` ${nu.layout.vertical}`:` ${nu.layout.horizontal}`}`},f);return n(e,null,"popover"===this.mode?[n("calcite-popover",{ref:t=>this.popoverRef=t,label:null===(r=null===(t=this.messages)||void 0===t?void 0:t.share)||void 0===r?void 0:r.label,"reference-element":"shareButton",placement:"bottom-start",scale:this.scale},d),n("calcite-button",{onClick:this.togglePopover.bind(this),id:"shareButton",class:nu.popoverButton,color:this.shareButtonColor,appearance:"transparent",label:null===(o=null===(i=this.messages)||void 0===i?void 0:i.share)||void 0===o?void 0:o.label,title:null===(a=null===(s=this.messages)||void 0===s?void 0:s.share)||void 0===a?void 0:a.label,scale:this.scale},n("calcite-icon",{icon:"share",scale:"m"}))]:[d,n("calcite-popover",{ref:t=>this.copyLinkPopoverRef=t,label:null===(u=null===(l=this.messages)||void 0===l?void 0:l.share)||void 0===u?void 0:u.label,"reference-element":"copyToClipboard",placement:"trailing",scale:this.scale},this.renderSuccess()),n("calcite-popover",{ref:t=>this.copyEmbedPopoverRef=t,label:null===(h=null===(c=this.messages)||void 0===c?void 0:c.share)||void 0===h?void 0:h.label,"reference-element":"copyEmbedToClipboard",placement:"trailing",scale:this.scale},this.renderEmbedSuccess())])}renderSuccess(){var t;const e=null===(t=this.messages)||void 0===t?void 0:t.success;return n("div",{class:nu.success.container},n("span",{class:nu.success.header},n("span",{class:nu.success.icon},n("calcite-icon",{icon:"check-circle-f",scale:this.scale})),null==e?void 0:e.label),n("span",{class:nu.success.message},null==e?void 0:e.url))}renderEmbedSuccess(){var t;const e=null===(t=this.messages)||void 0===t?void 0:t.success;return n("div",{class:nu.success.container},n("span",{class:nu.success.header},n("span",{class:nu.success.icon},n("calcite-icon",{icon:"check-circle-f",scale:this.scale})),null==e?void 0:e.label),n("span",{class:nu.success.message},null==e?void 0:e.embed))}renderOptions(){var t,e,r,i,o;const s=null===(t=this.messages)||void 0===t?void 0:t.options;return n("ul",{class:nu.options,role:"menu"},n("li",{id:"copyToClipboard",onClick:this.handleShareItem.bind(this,"link"),role:"menuitem"},n("span",{class:nu.icon},n("calcite-icon",{icon:"link",scale:this.scale})),n("span",{class:nu.optionText},null===(e=null==s?void 0:s.link)||void 0===e?void 0:e.label)),this.socialMedia?[n("li",{onClick:this.handleShareItem.bind(this,"facebook"),role:"menuitem"},n("span",{class:nu.icon},this.renderFacebookIcon()),n("span",{class:nu.optionText},null===(r=null==s?void 0:s.facebook)||void 0===r?void 0:r.label)),n("li",{onClick:this.handleShareItem.bind(this,"twitter"),role:"menuitem"},n("span",{class:nu.icon},this.renderTwitterIcon()),n("span",{class:nu.optionText},null===(i=null==s?void 0:s.twitter)||void 0===i?void 0:i.label)),n("li",{onClick:this.handleShareItem.bind(this,"linkedIn"),role:"menuitem"},n("span",{class:nu.icon},this.renderLinkedInIcon()),n("span",{class:nu.optionText},null===(o=null==s?void 0:s.linkedIn)||void 0===o?void 0:o.label))]:null)}renderFacebookIcon(){return n("svg",{height:"100%",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2"},version:"1.1",viewBox:"0 0 512 512",width:"100%",xmlns:"http://www.w3.org/2000/svg"},n("g",null,n("path",{d:"M512,256c0,-141.385 -114.615,-256 -256,-256c-141.385,0 -256,114.615 -256,256c0,127.777 93.616,233.685 216,252.89l0,-178.89l-65,0l0,-74l65,0l0,-56.4c0,-64.16 38.219,-99.6 96.695,-99.6c28.009,0 57.305,5 57.305,5l0,63l-32.281,0c-31.801,0 -41.719,19.733 -41.719,39.978l0,48.022l71,0l-11.35,74l-59.65,0l0,178.89c122.385,-19.205 216,-125.113 216,-252.89Z",style:{fill:"#1877f2",fillRule:"nonzero"}}),n("path",{d:"M355.65,330l11.35,-74l-71,0l0,-48.022c0,-20.245 9.917,-39.978 41.719,-39.978l32.281,0l0,-63c0,0 -29.297,-5 -57.305,-5c-58.476,0 -96.695,35.44 -96.695,99.6l0,56.4l-65,0l0,74l65,0l0,178.89c13.033,2.045 26.392,3.11 40,3.11c13.608,0 26.966,-1.065 40,-3.11l0,-178.89l59.65,0Z",style:{fill:"#fff",fillRule:"nonzero"}})))}renderTwitterIcon(){return n("svg",{height:"100%",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2"},version:"1.1",viewBox:"0 0 512 512",width:"100%",xmlns:"http://www.w3.org/2000/svg"},n("rect",{height:"400",style:{fill:"none"},width:"400",x:"56",y:"56"}),n("path",{d:"M161.014,464.013c193.208,0 298.885,-160.071 298.885,-298.885c0,-4.546 0,-9.072 -0.307,-13.578c20.558,-14.871 38.305,-33.282 52.408,-54.374c-19.171,8.495 -39.51,14.065 -60.334,16.527c21.924,-13.124 38.343,-33.782 46.182,-58.102c-20.619,12.235 -43.18,20.859 -66.703,25.498c-19.862,-21.121 -47.602,-33.112 -76.593,-33.112c-57.682,0 -105.145,47.464 -105.145,105.144c0,8.002 0.914,15.979 2.722,23.773c-84.418,-4.231 -163.18,-44.161 -216.494,-109.752c-27.724,47.726 -13.379,109.576 32.522,140.226c-16.715,-0.495 -33.071,-5.005 -47.677,-13.148l0,1.331c0.014,49.814 35.447,93.111 84.275,102.974c-15.464,4.217 -31.693,4.833 -47.431,1.802c13.727,42.685 53.311,72.108 98.14,72.95c-37.19,29.227 -83.157,45.103 -130.458,45.056c-8.358,-0.016 -16.708,-0.522 -25.006,-1.516c48.034,30.825 103.94,47.18 161.014,47.104",style:{fill:"#1da1f2",fillRule:"nonzero"}}))}renderLinkedInIcon(){return n("svg",{height:"100%",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2"},version:"1.1",viewBox:"0 0 512 512",width:"100%",xmlns:"http://www.w3.org/2000/svg"},n("g",{id:"g5891"},n("path",{d:"M512,64c0,-35.323 -28.677,-64 -64,-64l-384,0c-35.323,0 -64,28.677 -64,64l0,384c0,35.323 28.677,64 64,64l384,0c35.323,0 64,-28.677 64,-64l0,-384Z",id:"background",style:{fill:"#2867b2"}}),n("g",{id:"shapes"},n("rect",{height:"257.962",id:"rect11",style:{fill:"#fff"},width:"85.76",x:"61.053",y:"178.667"}),n("path",{d:"M104.512,54.28c-29.341,0 -48.512,19.29 -48.512,44.573c0,24.752 18.588,44.574 47.377,44.574l0.554,0c29.903,0 48.516,-19.822 48.516,-44.574c-0.555,-25.283 -18.611,-44.573 -47.935,-44.573Z",id:"path13-0",style:{fill:"#fff",fillRule:"nonzero"}}),n("path",{d:"M357.278,172.601c-45.49,0 -65.866,25.017 -77.276,42.589l0,-36.523l-85.738,0c1.137,24.197 0,257.961 0,257.961l85.737,0l0,-144.064c0,-7.711 0.554,-15.42 2.827,-20.931c6.188,-15.4 20.305,-31.352 43.993,-31.352c31.012,0 43.436,23.664 43.436,58.327l0,138.02l85.741,0l0,-147.93c0,-79.237 -42.305,-116.097 -98.72,-116.097Z",id:"path15",style:{fill:"#fff",fillRule:"nonzero"}}))))}renderTip(){var t;const e=null===(t=this.messages)||void 0===t?void 0:t.info;return n("div",{class:nu.tipContainer},n("span",{class:nu.tipHeader},n("calcite-icon",{icon:"lightbulb",scale:this.scale}),n("span",null,null==e?void 0:e.label)),n("p",{class:nu.tipContent},null==e?void 0:e.tooltip))}renderEmbed(){var t,e,r;const i=null===(t=this.messages)||void 0===t?void 0:t.embed;return n("div",{class:nu.embed.container},n("span",{class:nu.embed.header},n("calcite-icon",{icon:"code",scale:this.scale}),n("span",null,null===(r=null===(e=this.messages)||void 0===e?void 0:e.embed)||void 0===r?void 0:r.label)),n("div",{class:nu.embed.embedCode.container},n("div",{class:nu.embed.embedCode.textArea},n("textarea",{ref:t=>this.embedCodeRef=t,cols:30,rows:5,readonly:!0,value:this.getEmbedCode()}),n("button",{id:"copyEmbedToClipboard",onClick:this.copyEmbedCode.bind(this),class:nu.embed.embedCode.copyButton},n("calcite-icon",{icon:"copy",scale:this.scale}),n("span",null,null==i?void 0:i.copy))),n("span",{class:nu.embed.textAreaText},n("slot",{name:"text-area-text"})),n("div",{class:nu.embed.dimensions.container},n("label",{class:nu.embed.dimensions.input},n("span",null,null==i?void 0:i.width),n("input",{ref:t=>this.embedWidthRef=t,type:"number",value:this.embedWidth})),n("label",{class:nu.embed.dimensions.input},n("span",null,null==i?void 0:i.height),n("input",{ref:t=>this.embedHeightRef=t,type:"number",value:this.embedHeight})))))}togglePopover(t){t.stopPropagation(),this.opened=!this.opened,this.popoverRef.toggle(this.opened)}closePopover(){this.opened=!1,this.popoverRef.toggle(this.opened)}async handleShareItem(t){var n,e;this.shareUrl=await this.generateShareUrl();let r=null;const i=null===(n=null===navigator||void 0===navigator?void 0:navigator.userAgent)||void 0===n?void 0:n.includes("Chrome"),o=null===(e=null===navigator||void 0===navigator?void 0:navigator.userAgent)||void 0===e?void 0:e.includes("Safari");void 0!==o&&o&&void 0!==i&&!i||(r=await this.shortenUrl(this.shareUrl));const s=r||this.shareUrl;switch(t){case"link":return navigator.clipboard.writeText(s),this.embed&&(this.copyEmbedPopoverRef.toggle(!1),this.inlineCopyEmbedOpened=!1),"inline"===this.mode&&this.copyLinkPopoverRef.toggle(!0),this.inlineCopyLinkOpened=!0,void(this.copied=!0);case"facebook":case"twitter":case"linkedIn":const n={url:encodeURI(s)},e="twitter"===t?Object.assign(Object.assign({},n),{text:this.shareText}):n,r=dt(eu[t],e);return"popover"===this.mode&&this.closePopover(),void window.open(encodeURI(r),"_blank")}}async shortenUrl(t){var n,e;const r=await Cn("https://arcg.is/prod/shorten",{query:{longUrl:t,f:"json"}}),i=null===(e=null===(n=null==r?void 0:r.data)||void 0===n?void 0:n.data)||void 0===e?void 0:e.url;if(i)return i.replace("http://","https://")}getEmbedCode(){return`<iframe src="${this.shareUrl}" width="${this.embedWidth}" height="${this.embedHeight}" frameborder="0" style="border:0" allowfullscreen>${this.iframeInnerText}</iframe>`}copyEmbedCode(){navigator.clipboard.writeText(this.getEmbedCode()),this.copyLinkPopoverRef.toggle(!1),this.inlineCopyLinkOpened=!1,this.copyEmbedPopoverRef.toggle(!0),this.inlineCopyEmbedOpened=!0}async generateShareUrl(){var t;if(!this.view||!(null===(t=this.view)||void 0===t?void 0:t.ready))return this.shareUrl;const{x:n,y:e}=this.view.center,{spatialReference:r}=this.view,i=new Eo(Object.assign({},r.toJSON())),o=new Vo({x:n,y:e,spatialReference:i}),s=await this.processPoint(o);return this.generateShareUrlParams(s)}async processPoint(t){const{isWGS84:n,isWebMercator:e}=t.spatialReference;if(n||e)return t;const r=new Eo({wkid:4326});return await function(t){return a(vl)&&(vl=Promise.all([Ra(),import("./p-ba617c04.js").then((t=>t.g)),import("./p-97d9e126.js")])),vl.then((([,n,{hydratedAdapter:e}])=>{(function(t,n="Aborted"){if(xt(t))throw Mt(n)})(t),gl=e,yl=n.default,yl._enableProjection(Za)}))}(),function(t,n,e=null){return Array.isArray(t)?0===t.length?[]:bl(gl,t,t[0].spatialReference,n,e):bl(gl,[t],t.spatialReference,n,e)[0]}(t,r)}generateShareUrlParams(t){const{longitude:n,latitude:e}=t;if(void 0===n||void 0===e)return this.shareUrl;const r=this.roundValue(n),i=this.roundValue(e),{zoom:o}=this.view,s=this.roundValue(o),a=this.view.get("popup.selectedFeature");let l,u;if(a){const t=a.get("layer");l=t.id,u=a.attributes[t.objectIdField]}const c=this.view.map.allLayers.filter((t=>!t.visible)).toArray().map((t=>t.id)).toString().replaceAll(",",";"),{type:h}=this.view,{defaultUrlParams:f}=this,d=new URL(this.shareUrl),{searchParams:p}=d;if(p.get("center")&&p.delete("center"),p.get("level")&&p.delete("level"),p.get("selectedFeature")&&p.delete("selectedFeature"),p.get("hiddenLayers")&&p.delete("hiddenLayers"),p.get("viewpoint")&&p.delete("viewpoint"),"3d"===h){const{camera:t}=this.view,{heading:n,position:e,tilt:r}=t,{longitude:i,latitude:o,z:s}=e,a={longitude:this.roundValue(i,8),latitude:this.roundValue(o,8),z:this.roundValue(s,3),heading:this.roundValue(n,3),tilt:this.roundValue(r,3)},h=`cam:${a.longitude},${a.latitude},${a.z};${a.heading},${a.tilt}`;return!1!==(null==f?void 0:f.viewpoint)&&d.searchParams.set("viewpoint",h),l&&u&&!1!==(null==f?void 0:f.selectedFeature)&&d.searchParams.set("selectedFeature",`${l};${u}`),c&&!1!==(null==f?void 0:f.hiddenLayers)&&d.searchParams.set("hiddenLayers",c),d.search=decodeURIComponent(d.search),d.href}return!1!==(null==f?void 0:f.center)&&d.searchParams.set("center",`${r};${i}`),!1!==(null==f?void 0:f.level)&&d.searchParams.set("level",`${s}`),l&&u&&!1!==(null==f?void 0:f.selectedFeature)&&d.searchParams.set("selectedFeature",`${l};${u}`),c&&!1!==(null==f?void 0:f.selectedFeature)&&d.searchParams.set("hiddenLayers",c),d.search=decodeURIComponent(d.search),d.href}roundValue(t,n=4){return parseFloat(t.toFixed(n))}get el(){return i(this)}};ru.style=":host{display:block;--instant-apps-social-share-width--s:200px;--instant-apps-social-share-width--m:280px;--instant-apps-social-share-width--l:320px;--instant-apps-social-share-width-horizontal--s:300px;--instant-apps-social-share-width-horizontal--m:380px;--instant-apps-social-share-width-horizontal--l:420px;--instant-apps-social-share-background-color:transparent;--instant-apps-social-share-popover-button-background-color:transparent;--instant-apps-social-share-popover-button-icon-color:var(--calcite-ui-icon-color);--instant-apps-social-share-embed-border:1px solid $border;--instant-apps-social-share-embed-text-area-text:#468540}:host .instant-apps-social-share__popover-button{background-color:var(--instant-apps-social-share-popover-button-background-color)}:host .instant-apps-social-share__popover-button calcite-icon{color:var(--instant-apps-social-share-popover-button-icon-color)}:host .instant-apps-social-share__dialog{box-sizing:border-box;height:auto;padding:10px 0;border-radius:5px}:host .instant-apps-social-share__dialog-embed{border:var(--instant-apps-social-share-embed-border);background-color:var(--instant-apps-social-share-background-color)}:host .instant-apps-social-share__options{margin:0;padding:1% 0 0 0;list-style-type:none}:host .instant-apps-social-share__options li{box-sizing:border-box;display:flex;align-items:center;width:100%;padding:5%;transition:background-color 0.15s ease-out 0s}:host .instant-apps-social-share__options li .instant-apps-social-share__icon,:host .instant-apps-social-share__options li .instant-apps-social-share__option-text{display:inline-block}:host .instant-apps-social-share__options li .instant-apps-social-share__icon{display:flex;align-items:center}:host .instant-apps-social-share__options li .instant-apps-social-share__option-text{width:85%;margin-left:10px;word-break:break-word}:host .instant-apps-social-share__options li:hover{cursor:pointer;background-color:var(--calcite-ui-foreground-2)}:host .instant-apps-social-share__tip{box-sizing:border-box;padding:0 5% 1% 5%}:host .instant-apps-social-share__tip-header{display:flex;align-items:center;color:#007ac2;margin:8px 0 5px 0}:host .instant-apps-social-share__tip-header calcite-icon{margin-right:5px}:host .instant-apps-social-share__tip-content{line-height:17px;margin:0;padding-top:2%}:host .instant-apps-social-share__success{display:flex;flex-direction:column;padding:15px}:host .instant-apps-social-share__success-header{display:flex;align-items:center;font-weight:bold;margin-bottom:10px}:host .instant-apps-social-share__success-icon{display:flex;align-items:center;margin-right:5px}:host .instant-apps-social-share__success-icon calcite-icon{color:var(--calcite-ui-success)}:host .instant-apps-social-share__success-message{line-height:16px}:host .instant-apps-social-share__embed{box-sizing:border-box;width:100%;padding:5%;margin-bottom:10px;border-top:1px solid #d3d3d3}:host .instant-apps-social-share__embed-header{display:flex;align-items:center;margin-bottom:5px}:host .instant-apps-social-share__embed-header calcite-icon{margin-right:5px}:host .instant-apps-social-share__embed-code-text-area{border:1px solid #d3d3d3}:host .instant-apps-social-share__embed-code-text-area textarea{box-sizing:border-box;padding:4%;border:none;resize:none;background:transparent;width:100%;font-family:var(--calcite-sans-family);color:var(--calcite-ui-text-1)}:host .instant-apps-social-share__embed-code-text-area button{display:flex;align-items:center;text-align:start;width:100%;border:none;border-top:1px solid #d3d3d3;background-color:transparent;line-height:16px;font-weight:400;padding:3%;color:var(--calcite-ui-text-1)}:host .instant-apps-social-share__embed-code-text-area button calcite-icon{color:#007ac2;margin-right:3px}:host .instant-apps-social-share__embed-code-text-area button:hover{cursor:pointer;background-color:var(--calcite-ui-foreground-2);transition:background-color 0.15s ease-out 0s}:host .instant-apps-social-share__embed-text-area-text{font-weight:600;color:var(--instant-apps-social-share-embed-text-area-text)}:host .instant-apps-social-share__embed-dimensions{display:flex;justify-content:space-between;margin-top:10px}:host .instant-apps-social-share__embed-dimensions-input{width:47%;box-sizing:border-box}:host .instant-apps-social-share__embed-dimensions-input input{border:1px solid #d3d3d3;width:100%;height:25px;font-family:var(--calcite-sans-family)}:host .instant-apps-social-share__layout--horizontal .instant-apps-social-share__options{display:flex;justify-content:space-around;margin-bottom:8%}:host .instant-apps-social-share__layout--horizontal .instant-apps-social-share__options li{flex-direction:column;padding:0}:host .instant-apps-social-share__layout--horizontal .instant-apps-social-share__options li .instant-apps-social-share__option-text{white-space:nowrap;margin-left:0;margin-top:10px;text-align:center}:host .instant-apps-social-share__layout--horizontal .instant-apps-social-share__options li:hover{background-color:unset}:host([scale=s]) .instant-apps-social-share__dialog{width:var(--instant-apps-social-share-width--s)}:host([scale=s]) .instant-apps-social-share__icon{width:16px;height:16px}:host([scale=s]) .instant-apps-social-share__option-text{font-size:var(--calcite-font-size--1)}:host([scale=s]) .instant-apps-social-share__dialog.instant-apps-social-share__layout--horizontal{width:var(--instant-apps-social-share-width-horizontal--s)}:host([scale=s]) .instant-apps-social-share__tip-header,:host([scale=s]) .instant-apps-social-share__tip-content,:host([scale=s]) .instant-apps-social-share__embed-header,:host([scale=s]) .instant-apps-social-share__embed-dimensions-input{font-size:var(--calcite-font-size--2)}:host([scale=m]) .instant-apps-social-share__dialog{width:var(--instant-apps-social-share-width--m)}:host([scale=m]) .instant-apps-social-share__icon{width:24px;height:24px}:host([scale=m]) .instant-apps-social-share__option-text{font-size:var(--calcite-font-size-0)}:host([scale=m]) .instant-apps-social-share__dialog.instant-apps-social-share__layout--horizontal{width:var(--instant-apps-social-share-width-horizontal--m)}:host([scale=m]) .instant-apps-social-share__tip-header,:host([scale=m]) .instant-apps-social-share__tip-content,:host([scale=m]) .instant-apps-social-share__embed-header,:host([scale=m]) .instant-apps-social-share__embed-dimensions-input{font-size:var(--calcite-font-size--1)}:host([scale=l]) .instant-apps-social-share__dialog{width:var(--instant-apps-social-share-width--l)}:host([scale=l]) .instant-apps-social-share__icon{width:32px;height:32px}:host([scale=l]) .instant-apps-social-share__option-text{font-size:var(--calcite-font-size-1)}:host([scale=l]) .instant-apps-social-share__dialog.instant-apps-social-share__layout--horizontal{width:var(--instant-apps-social-share-width-horizontal--l)}:host([scale=l]) .instant-apps-social-share__tip-header,:host([scale=l]) .instant-apps-social-share__tip-content,:host([scale=l]) .instant-apps-social-share__embed-header,:host([scale=l]) .instant-apps-social-share__embed-dimensions-input{font-size:var(--calcite-font-size-0)}";export{bt as $,Yi as A,Ii as B,ur as C,St as D,kt as E,u as F,D as G,Ve as H,Rt as I,Ut as J,dt as K,uo as L,ba as M,_e as N,Rn as O,T as P,dn as Q,Kt as R,nn as S,Pt as T,Et as U,At as V,xt as W,cn as X,Cn as Y,en as Z,bn as _,Aa as a,on as a0,st as a1,pn as a2,un as a3,O as a4,kn as a5,On as a6,o as a7,ru as a8,te as b,ei as c,Kr as d,l as e,ye as f,Ze as g,Ki as h,k as i,Vo as j,Ti as k,sr as l,ul as m,Jr as n,Mt as o,Tt as p,h as q,ke as r,yt as s,hi as t,c as u,sl as v,ht as w,Re as x,Qn as y,Xr as z}