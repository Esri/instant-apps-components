import{r as t,h as s,H as i,g as e}from"./p-5bb33799.js";import{e as a,g as n}from"./p-b27a88a3.js";let o=class{constructor(s){t(this,s)}render(){return s(i,null,s("header",{style:{backgroundColor:this.backgroundColor}},s("span",{class:"instant-apps-header__header-content"},this.logoImage&&this.logoLink?s("a",{href:`${this.logoLink}`,target:"_blank"},s("img",{src:`${this.logoImage}`,alt:`${this.logoImageAltText}`})):this.logoImage?s("img",{src:`${this.logoImage}`,alt:this.logoImageAltText}):"",s("h1",{style:{color:this.textColor}},this.titleText)),s("slot",{name:"actions-end"})))}};o.style=":host{width:100%}:host header{box-sizing:border-box;display:flex;align-items:center;justify-content:space-between;width:100%;height:5%;padding:0 0.5%;background-color:#0079c1;padding-top:5px;padding-bottom:5px}:host header .instant-apps-header__header-content{display:flex;align-items:center}:host header .instant-apps-header__header-content img{width:6%;padding:0 5px}:host header .instant-apps-header__header-content a{display:flex;align-items:center;width:8%;padding-right:5px}:host header .instant-apps-header__header-content a img{width:100%;padding-right:0}:host header .instant-apps-header__header-content h1{margin:0;font-size:18px;color:var(--calcite-ui-text-inverse);font-weight:430}";const l=async(t,s)=>(await a.loadModules(t,s)).map((t=>t.__esModule&&t.default?t.default:t));function r(t,s,i,e=20,a=0){let n=[];if(a>=e)return n;const o=t=>{const n=t.assignedNodes().filter((t=>1===t.nodeType));return n.length>0?r(n[0].parentElement,s,i,e,a+1):[]},l=Array.from(t.children||[]);for(const t of l)s(t)||(i(t)&&n.push(t),null!=t.shadowRoot?n.push(...r(t.shadowRoot,s,i,e,a+1)):"SLOT"===t.tagName?n.push(...o(t)):n.push(...r(t,s,i,e,a+1)));return n}function h(t){return t.hasAttribute("hidden")||t.hasAttribute("aria-hidden")&&"false"!==t.getAttribute("aria-hidden")||"none"===t.style.display||"0"===t.style.opacity||"hidden"===t.style.visibility||"collapse"===t.style.visibility}function c(t){return"-1"!==t.getAttribute("tabindex")&&!h(t)&&!function(t){return t.hasAttribute("disabled")||t.hasAttribute("aria-disabled")&&"false"!==t.getAttribute("aria-disabled")}(t)&&(t.hasAttribute("tabindex")||(t instanceof HTMLAnchorElement||t instanceof HTMLAreaElement)&&t.hasAttribute("href")||t instanceof HTMLButtonElement||t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement||t instanceof HTMLIFrameElement)}const d=new Map,p=document.createElement("template");p.innerHTML='\n\t<div id="start"></div>\n\t<div id="backup"></div>\n\t<slot></slot>\n\t<div id="end"></div>\n';class u extends HTMLElement{constructor(){super(),this.debounceId=Math.random().toString(),this._focused=!1;const t=this.attachShadow({mode:"open"});t.appendChild(p.content.cloneNode(!0)),this.$backup=t.querySelector("#backup"),this.$start=t.querySelector("#start"),this.$end=t.querySelector("#end"),this.focusLastElement=this.focusLastElement.bind(this),this.focusFirstElement=this.focusFirstElement.bind(this),this.onFocusIn=this.onFocusIn.bind(this),this.onFocusOut=this.onFocusOut.bind(this)}static get observedAttributes(){return["inactive"]}get inactive(){return this.hasAttribute("inactive")}set inactive(t){t?this.setAttribute("inactive",""):this.removeAttribute("inactive")}get focused(){return this._focused}connectedCallback(){this.$start.addEventListener("focus",this.focusLastElement),this.$end.addEventListener("focus",this.focusFirstElement),this.addEventListener("focusin",this.onFocusIn),this.addEventListener("focusout",this.onFocusOut),this.render()}disconnectedCallback(){this.$start.removeEventListener("focus",this.focusLastElement),this.$end.removeEventListener("focus",this.focusFirstElement),this.removeEventListener("focusin",this.onFocusIn),this.removeEventListener("focusout",this.onFocusOut)}attributeChangedCallback(){this.render()}focusFirstElement(){this.trapFocus()}focusLastElement(){this.trapFocus(!0)}getFocusableElements(){return r(this,h,c)}trapFocus(t){if(this.inactive)return;let s=this.getFocusableElements();s.length>0?(t?s[s.length-1].focus():s[0].focus(),this.$backup.setAttribute("tabindex","-1")):(this.$backup.setAttribute("tabindex","0"),this.$backup.focus())}onFocusIn(){this.updateFocused(!0)}onFocusOut(){this.updateFocused(!1)}updateFocused(t){!function(t,s,i){const e=d.get(i);null!=e&&window.clearTimeout(e),d.set(i,window.setTimeout((()=>{t(),d.delete(i)}),0))}((()=>{this.focused!==t&&(this._focused=t,this.render())}),0,this.debounceId)}render(){this.$start.setAttribute("tabindex",!this.focused||this.inactive?"-1":"0"),this.$end.setAttribute("tabindex",!this.focused||this.inactive?"-1":"0"),this.focused?this.setAttribute("focused",""):this.removeAttribute("focused")}}window.customElements.define("focus-trap",u);const v="instant-apps-social-share",_={base:v,dialog:`${v}__dialog`,dialogEmbed:`${v}__dialog-embed`,dialogContent:`${v}__dialog-content`,options:`${v}__options`,tipContainer:`${v}__tip`,tipHeader:`${v}__tip-header`,tipContent:`${v}__tip-content`,icon:`${v}__icon`,optionText:`${v}__option-text`,popoverButton:`${v}__popover-button`,layout:{vertical:`${v}__layout--vertical`,horizontal:`${v}__layout--horizontal`},success:{container:`${v}__success`,header:`${v}__success-header`,message:`${v}__success-message`,icon:`${v}__success-icon`},embed:{container:`${v}__embed`,header:`${v}__embed-header`,embedCode:{container:`${v}__embed-code`,textArea:`${v}__embed-code-text-area`,copyButton:`${v}__embed-code-copy-button`},textAreaText:`${v}__embed-text-area-text`,dimensions:{container:`${v}__embed-dimensions`,input:`${v}__embed-dimensions-input`}}},m={facebook:"https://www.facebook.com/sharer/sharer.php?u={url}",twitter:"https://twitter.com/intent/tweet?text={text}&url={url}",linkedIn:"https://www.linkedin.com/sharing/share-offsite/?url={url}"};let b=class{constructor(s){t(this,s),this.mode="popover",this.shareUrl=window.location.href,this.shareText="",this.embed=!1,this.shareButtonColor="neutral",this.iframeInnerText="",this.displayTipText=!0,this.socialMedia=!0,this.shareIconsLayout="vertical",this.scale="m",this.defaultUrlParams=null,this.opened=!1,this.copied=!1,this.inlineCopyLinkOpened=!1,this.inlineCopyEmbedOpened=!1,this.embedWidth=400,this.embedHeight=600}componentDidLoad(){var t,s;this.getMessages(),this.setupAutoCloseListeners(),"popover"===this.mode&&(this.opened&&this.popoverRef.toggle(!0),this.popoverRef.addEventListener("calcitePopoverOpen",(()=>{this.shareListRef&&this.shareListRef.children[0].focus()})),this.popoverRef.addEventListener("keydown",this.handlePopoverRefKeyDown.bind(this))),this.embed&&(null===(t=this.embedWidthRef)||void 0===t||t.addEventListener("change",this.updateDimensions.bind(this,"width")),null===(s=this.embedHeightRef)||void 0===s||s.addEventListener("change",this.updateDimensions.bind(this,"height")))}disconnectedCallback(){var t,s,i;document.documentElement.removeEventListener("click",this.autoCloseCallback.bind(this)),"popover"===this.mode?(this.popoverRef.removeEventListener("click",this.stopPropagationCallback.bind(this)),this.popoverRef.removeEventListener("calcitePopoverClose",this.resetPopoverCopyState.bind(this)),this.popoverRef.removeEventListener("keydown",this.handlePopoverRefKeyDown.bind(this))):(null===(t=this.embedWidthRef)||void 0===t||t.removeEventListener("change",this.updateDimensions.bind(this)),null===(s=this.embedHeightRef)||void 0===s||s.removeEventListener("change",this.updateDimensions.bind(this)),null===(i=this.dialogContentRef)||void 0===i||i.removeEventListener("click",this.stopPropagationCallback.bind(this)))}async getMessages(){const t=await n(this.el);this.messages=t[0]}setupAutoCloseListeners(){var t,s,i;document.documentElement.addEventListener("click",this.autoCloseCallback.bind(this)),"popover"===this.mode?(null===(t=this.popoverRef)||void 0===t||t.addEventListener("click",this.stopPropagationCallback.bind(this)),null===(s=this.popoverRef)||void 0===s||s.addEventListener("calcitePopoverClose",this.resetPopoverCopyState.bind(this))):null===(i=this.dialogContentRef)||void 0===i||i.addEventListener("click",this.stopPropagationCallback.bind(this))}handlePopoverRefKeyDown(t){var s;"Escape"===t.code&&(this.closePopover(),null===(s=this.popoverButtonRef)||void 0===s||s.setFocus())}autoCloseCallback(){var t,s,i;"popover"===this.mode?(this.opened=!1,null===(t=this.popoverRef)||void 0===t||t.toggle(this.opened)):(null===(s=this.copyLinkPopoverRef)||void 0===s||s.toggle(!1),this.inlineCopyLinkOpened=!1,null===(i=this.copyEmbedPopoverRef)||void 0===i||i.toggle(!1),this.inlineCopyEmbedOpened=!1)}stopPropagationCallback(t){t.stopPropagation()}resetPopoverCopyState(){var t;null===(t=this.popoverButtonRef)||void 0===t||t.setFocus(),setTimeout((()=>{this.copied=!1}),200)}updateDimensions(t){var s,i;if("width"===t){const t=null===(s=this.embedWidthRef)||void 0===s?void 0:s.value;this.embedWidth=parseInt(t)}else{const t=null===(i=this.embedHeightRef)||void 0===i?void 0:i.value;this.embedHeight=parseInt(t)}}render(){var t,e,a,n,o,l,r,h,c,d;const p=this.copied&&"popover"===this.mode?this.renderSuccess():s("div",{class:_.dialogContent},this.renderOptions(),this.displayTipText?this.renderTip():null,this.embed?this.renderEmbed():null),u=s("div",{ref:t=>this.dialogContentRef=t,class:`${_.dialog}${"vertical"===this.shareIconsLayout?` ${_.layout.vertical}`:` ${_.layout.horizontal}`}`},p);return s(i,null,"popover"===this.mode?[s("calcite-popover",{ref:t=>this.popoverRef=t,label:null===(e=null===(t=this.messages)||void 0===t?void 0:t.share)||void 0===e?void 0:e.label,"reference-element":"shareButton",placement:"bottom-start",scale:this.scale},s("focus-trap",null,u)),s("calcite-button",{ref:t=>this.popoverButtonRef=t,onClick:this.togglePopover.bind(this),id:"shareButton",class:_.popoverButton,color:this.shareButtonColor,appearance:"transparent",label:null===(n=null===(a=this.messages)||void 0===a?void 0:a.share)||void 0===n?void 0:n.label,title:null===(l=null===(o=this.messages)||void 0===o?void 0:o.share)||void 0===l?void 0:l.label,scale:this.scale},s("calcite-icon",{icon:"share",scale:"m"}))]:[u,s("calcite-popover",{ref:t=>this.copyLinkPopoverRef=t,label:null===(h=null===(r=this.messages)||void 0===r?void 0:r.share)||void 0===h?void 0:h.label,"reference-element":"copyToClipboard",placement:"trailing",scale:this.scale},this.renderSuccess()),s("calcite-popover",{ref:t=>this.copyEmbedPopoverRef=t,label:null===(d=null===(c=this.messages)||void 0===c?void 0:c.share)||void 0===d?void 0:d.label,"reference-element":"copyEmbedToClipboard",placement:"trailing",scale:this.scale},this.renderEmbedSuccess())])}renderSuccess(){var t;const i=null===(t=this.messages)||void 0===t?void 0:t.success;return s("div",{class:_.success.container},s("span",{class:_.success.header},s("span",{class:_.success.icon},s("calcite-icon",{icon:"check-circle-f",scale:this.scale})),null==i?void 0:i.label),s("span",{class:_.success.message},null==i?void 0:i.url))}renderEmbedSuccess(){var t;const i=null===(t=this.messages)||void 0===t?void 0:t.success;return s("div",{class:_.success.container},s("span",{class:_.success.header},s("span",{class:_.success.icon},s("calcite-icon",{icon:"check-circle-f",scale:this.scale})),null==i?void 0:i.label),s("span",{class:_.success.message},null==i?void 0:i.embed))}renderOptions(){var t,i,e,a,n;const o=null===(t=this.messages)||void 0===t?void 0:t.options;return s("ul",{ref:t=>this.shareListRef=t,class:_.options,role:"menu"},s("li",{id:"copyToClipboard",onClick:this.handleShareItem.bind(this,"link"),onKeyDown:this.handleOptionKeyDown("link"),role:"menuitem",tabindex:"0"},s("span",{class:_.icon},s("calcite-icon",{icon:"link",scale:this.scale})),s("span",{class:_.optionText},null===(i=null==o?void 0:o.link)||void 0===i?void 0:i.label)),this.socialMedia?[s("li",{onClick:this.handleShareItem.bind(this,"facebook"),onKeyDown:this.handleOptionKeyDown("facebook"),role:"menuitem",tabindex:"0"},s("span",{class:_.icon},this.renderFacebookIcon()),s("span",{class:_.optionText},null===(e=null==o?void 0:o.facebook)||void 0===e?void 0:e.label)),s("li",{onClick:this.handleShareItem.bind(this,"twitter"),onKeyDown:this.handleOptionKeyDown("twitter"),role:"menuitem",tabindex:"0"},s("span",{class:_.icon},this.renderTwitterIcon()),s("span",{class:_.optionText},null===(a=null==o?void 0:o.twitter)||void 0===a?void 0:a.label)),s("li",{onClick:this.handleShareItem.bind(this,"linkedIn"),onKeyDown:this.handleOptionKeyDown("linkedIn"),role:"menuitem",tabindex:"0"},s("span",{class:_.icon},this.renderLinkedInIcon()),s("span",{class:_.optionText},null===(n=null==o?void 0:o.linkedIn)||void 0===n?void 0:n.label))]:null)}handleOptionKeyDown(t){return s=>{const i=s.code;("Space"===i||"Enter"===i)&&this.handleShareItem(t)}}renderFacebookIcon(){return s("svg",{height:"100%",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2"},version:"1.1",viewBox:"0 0 512 512",width:"100%",xmlns:"http://www.w3.org/2000/svg"},s("g",null,s("path",{d:"M512,256c0,-141.385 -114.615,-256 -256,-256c-141.385,0 -256,114.615 -256,256c0,127.777 93.616,233.685 216,252.89l0,-178.89l-65,0l0,-74l65,0l0,-56.4c0,-64.16 38.219,-99.6 96.695,-99.6c28.009,0 57.305,5 57.305,5l0,63l-32.281,0c-31.801,0 -41.719,19.733 -41.719,39.978l0,48.022l71,0l-11.35,74l-59.65,0l0,178.89c122.385,-19.205 216,-125.113 216,-252.89Z",style:{fill:"#1877f2",fillRule:"nonzero"}}),s("path",{d:"M355.65,330l11.35,-74l-71,0l0,-48.022c0,-20.245 9.917,-39.978 41.719,-39.978l32.281,0l0,-63c0,0 -29.297,-5 -57.305,-5c-58.476,0 -96.695,35.44 -96.695,99.6l0,56.4l-65,0l0,74l65,0l0,178.89c13.033,2.045 26.392,3.11 40,3.11c13.608,0 26.966,-1.065 40,-3.11l0,-178.89l59.65,0Z",style:{fill:"#fff",fillRule:"nonzero"}})))}renderTwitterIcon(){return s("svg",{height:"100%",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2"},version:"1.1",viewBox:"0 0 512 512",width:"100%",xmlns:"http://www.w3.org/2000/svg"},s("rect",{height:"400",style:{fill:"none"},width:"400",x:"56",y:"56"}),s("path",{d:"M161.014,464.013c193.208,0 298.885,-160.071 298.885,-298.885c0,-4.546 0,-9.072 -0.307,-13.578c20.558,-14.871 38.305,-33.282 52.408,-54.374c-19.171,8.495 -39.51,14.065 -60.334,16.527c21.924,-13.124 38.343,-33.782 46.182,-58.102c-20.619,12.235 -43.18,20.859 -66.703,25.498c-19.862,-21.121 -47.602,-33.112 -76.593,-33.112c-57.682,0 -105.145,47.464 -105.145,105.144c0,8.002 0.914,15.979 2.722,23.773c-84.418,-4.231 -163.18,-44.161 -216.494,-109.752c-27.724,47.726 -13.379,109.576 32.522,140.226c-16.715,-0.495 -33.071,-5.005 -47.677,-13.148l0,1.331c0.014,49.814 35.447,93.111 84.275,102.974c-15.464,4.217 -31.693,4.833 -47.431,1.802c13.727,42.685 53.311,72.108 98.14,72.95c-37.19,29.227 -83.157,45.103 -130.458,45.056c-8.358,-0.016 -16.708,-0.522 -25.006,-1.516c48.034,30.825 103.94,47.18 161.014,47.104",style:{fill:"#1da1f2",fillRule:"nonzero"}}))}renderLinkedInIcon(){return s("svg",{height:"100%",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2"},version:"1.1",viewBox:"0 0 512 512",width:"100%",xmlns:"http://www.w3.org/2000/svg"},s("g",{id:"g5891"},s("path",{d:"M512,64c0,-35.323 -28.677,-64 -64,-64l-384,0c-35.323,0 -64,28.677 -64,64l0,384c0,35.323 28.677,64 64,64l384,0c35.323,0 64,-28.677 64,-64l0,-384Z",id:"background",style:{fill:"#2867b2"}}),s("g",{id:"shapes"},s("rect",{height:"257.962",id:"rect11",style:{fill:"#fff"},width:"85.76",x:"61.053",y:"178.667"}),s("path",{d:"M104.512,54.28c-29.341,0 -48.512,19.29 -48.512,44.573c0,24.752 18.588,44.574 47.377,44.574l0.554,0c29.903,0 48.516,-19.822 48.516,-44.574c-0.555,-25.283 -18.611,-44.573 -47.935,-44.573Z",id:"path13-0",style:{fill:"#fff",fillRule:"nonzero"}}),s("path",{d:"M357.278,172.601c-45.49,0 -65.866,25.017 -77.276,42.589l0,-36.523l-85.738,0c1.137,24.197 0,257.961 0,257.961l85.737,0l0,-144.064c0,-7.711 0.554,-15.42 2.827,-20.931c6.188,-15.4 20.305,-31.352 43.993,-31.352c31.012,0 43.436,23.664 43.436,58.327l0,138.02l85.741,0l0,-147.93c0,-79.237 -42.305,-116.097 -98.72,-116.097Z",id:"path15",style:{fill:"#fff",fillRule:"nonzero"}}))))}renderTip(){var t;const i=null===(t=this.messages)||void 0===t?void 0:t.info;return s("div",{class:_.tipContainer},s("span",{class:_.tipHeader},s("calcite-icon",{icon:"lightbulb",scale:this.scale}),s("span",null,null==i?void 0:i.label)),s("p",{class:_.tipContent},null==i?void 0:i.tooltip))}renderEmbed(){var t,i,e;const a=null===(t=this.messages)||void 0===t?void 0:t.embed;return s("div",{class:_.embed.container},s("span",{class:_.embed.header},s("calcite-icon",{icon:"code",scale:this.scale}),s("span",null,null===(e=null===(i=this.messages)||void 0===i?void 0:i.embed)||void 0===e?void 0:e.label)),s("div",{class:_.embed.embedCode.container},s("div",{class:_.embed.embedCode.textArea},s("textarea",{ref:t=>this.embedCodeRef=t,cols:30,rows:5,readonly:!0,value:this.getEmbedCode()}),s("button",{id:"copyEmbedToClipboard",onClick:this.copyEmbedCode.bind(this),class:_.embed.embedCode.copyButton},s("calcite-icon",{icon:"copy",scale:this.scale}),s("span",null,null==a?void 0:a.copy))),s("span",{class:_.embed.textAreaText},s("slot",{name:"text-area-text"})),s("div",{class:_.embed.dimensions.container},s("label",{class:_.embed.dimensions.input},s("span",null,null==a?void 0:a.width),s("input",{ref:t=>this.embedWidthRef=t,type:"number",value:this.embedWidth})),s("label",{class:_.embed.dimensions.input},s("span",null,null==a?void 0:a.height),s("input",{ref:t=>this.embedHeightRef=t,type:"number",value:this.embedHeight})))))}togglePopover(t){t.stopPropagation(),this.opened=!this.opened,this.popoverRef.toggle(this.opened)}closePopover(){this.opened=!1,this.popoverRef.toggle(this.opened)}async handleShareItem(t){var s,i;this.shareUrl=await this.generateShareUrl();let e=null;const a=null===(s=null===navigator||void 0===navigator?void 0:navigator.userAgent)||void 0===s?void 0:s.includes("Chrome"),n=null===(i=null===navigator||void 0===navigator?void 0:navigator.userAgent)||void 0===i?void 0:i.includes("Safari");void 0!==n&&n&&void 0!==a&&!a||(e=await this.shortenUrl(this.shareUrl));const o=e||this.shareUrl;switch(t){case"link":return navigator.clipboard.writeText(o),this.embed&&(this.copyEmbedPopoverRef.toggle(!1),this.inlineCopyEmbedOpened=!1),"inline"===this.mode&&(this.copyLinkPopoverRef.toggle(!0),setTimeout((()=>this.copyLinkPopoverRef.toggle(!1)),3e3)),this.inlineCopyLinkOpened=!0,this.copied=!0,void("popover"===this.mode&&setTimeout((()=>this.closePopover()),2e3));case"facebook":case"twitter":case"linkedIn":const s={url:encodeURI(o)},i="twitter"===t?Object.assign(Object.assign({},s),{text:this.shareText}):s,[e]=await l(["esri/intl"]),a=e.substitute(m[t],i);return"popover"===this.mode&&this.closePopover(),void window.open(encodeURI(a),"_blank")}}async shortenUrl(t){var s,i;const[e]=await l(["esri/request"]),a=await e("https://arcg.is/prod/shorten",{query:{longUrl:t,f:"json"}}),n=null===(i=null===(s=null==a?void 0:a.data)||void 0===s?void 0:s.data)||void 0===i?void 0:i.url;if(n)return n.replace("http://","https://")}getEmbedCode(){return`<iframe src="${this.shareUrl}" width="${this.embedWidth}" height="${this.embedHeight}" frameborder="0" style="border:0" allowfullscreen>${this.iframeInnerText}</iframe>`}copyEmbedCode(){navigator.clipboard.writeText(this.getEmbedCode()),this.copyLinkPopoverRef.toggle(!1),this.inlineCopyLinkOpened=!1,this.copyEmbedPopoverRef.toggle(!0),setTimeout((()=>this.copyEmbedPopoverRef.toggle(!1)),3e3),this.inlineCopyEmbedOpened=!0}async generateShareUrl(){var t;if(!this.view||!(null===(t=this.view)||void 0===t?void 0:t.ready))return this.shareUrl;const{x:s,y:i}=this.view.center,{spatialReference:e}=this.view,[a,n]=await l(["esri/geometry/Point","esri/geometry/SpatialReference"]),o=new a({x:s,y:i,spatialReference:new n(Object.assign({},e.toJSON()))}),r=await this.processPoint(o);return this.generateShareUrlParams(r)}async processPoint(t){const{isWGS84:s,isWebMercator:i}=t.spatialReference;if(s||i)return t;const[e,a]=await l(["esri/geometry/SpatialReference","esri/geometry/projection"]),n=new e({wkid:4326});return await a.loadProjection(),a.project(t,n)}generateShareUrlParams(t){const{longitude:s,latitude:i}=t;if(void 0===s||void 0===i)return this.shareUrl;const e=this.roundValue(s),a=this.roundValue(i),{zoom:n}=this.view,o=this.roundValue(n),l=this.view.get("popup.selectedFeature");let r,h;if(l){const t=l.get("layer");r=t.id,h=l.attributes[t.objectIdField]}const c=this.view.map.allLayers.filter((t=>!t.visible)).toArray().map((t=>t.id)).toString().replaceAll(",",";"),{type:d}=this.view,{defaultUrlParams:p}=this,u=new URL(this.shareUrl),{searchParams:v}=u;if(v.get("center")&&v.delete("center"),v.get("level")&&v.delete("level"),v.get("selectedFeature")&&v.delete("selectedFeature"),v.get("hiddenLayers")&&v.delete("hiddenLayers"),v.get("viewpoint")&&v.delete("viewpoint"),"3d"===d){const{camera:t}=this.view,{heading:s,position:i,tilt:e}=t,{longitude:a,latitude:n,z:o}=i,l={longitude:this.roundValue(a,8),latitude:this.roundValue(n,8),z:this.roundValue(o,3),heading:this.roundValue(s,3),tilt:this.roundValue(e,3)},d=`cam:${l.longitude},${l.latitude},${l.z};${l.heading},${l.tilt}`;return!1!==(null==p?void 0:p.viewpoint)&&u.searchParams.set("viewpoint",d),r&&h&&!1!==(null==p?void 0:p.selectedFeature)&&u.searchParams.set("selectedFeature",`${r};${h}`),c&&!1!==(null==p?void 0:p.hiddenLayers)&&u.searchParams.set("hiddenLayers",c),u.search=decodeURIComponent(u.search),u.href}return!1!==(null==p?void 0:p.center)&&u.searchParams.set("center",`${e};${a}`),!1!==(null==p?void 0:p.level)&&u.searchParams.set("level",`${o}`),r&&h&&!1!==(null==p?void 0:p.selectedFeature)&&u.searchParams.set("selectedFeature",`${r};${h}`),c&&!1!==(null==p?void 0:p.selectedFeature)&&u.searchParams.set("hiddenLayers",c),u.search=decodeURIComponent(u.search),u.href}roundValue(t,s=4){return parseFloat(t.toFixed(s))}get el(){return e(this)}};b.style=":host{display:block;--instant-apps-social-share-width--s:200px;--instant-apps-social-share-width--m:280px;--instant-apps-social-share-width--l:320px;--instant-apps-social-share-width-horizontal--s:300px;--instant-apps-social-share-width-horizontal--m:380px;--instant-apps-social-share-width-horizontal--l:420px;--instant-apps-social-share-background-color:transparent;--instant-apps-social-share-popover-button-background-color:transparent;--instant-apps-social-share-popover-button-icon-color:var(--calcite-ui-icon-color);--instant-apps-social-share-embed-border:1px solid $border;--instant-apps-social-share-embed-text-area-text:#468540}:host .instant-apps-social-share__popover-button{background-color:var(--instant-apps-social-share-popover-button-background-color)}:host .instant-apps-social-share__popover-button calcite-icon{color:var(--instant-apps-social-share-popover-button-icon-color)}:host .instant-apps-social-share__dialog{box-sizing:border-box;height:auto;padding:10px 0;border-radius:5px}:host .instant-apps-social-share__dialog-embed{border:var(--instant-apps-social-share-embed-border);background-color:var(--instant-apps-social-share-background-color)}:host .instant-apps-social-share__options{margin:0;padding:1% 0 0 0;list-style-type:none}:host .instant-apps-social-share__options li{box-sizing:border-box;display:flex;align-items:center;width:100%;padding:5%;transition:background-color 0.15s ease-out 0s}:host .instant-apps-social-share__options li .instant-apps-social-share__icon,:host .instant-apps-social-share__options li .instant-apps-social-share__option-text{display:inline-block}:host .instant-apps-social-share__options li .instant-apps-social-share__icon{display:flex;align-items:center}:host .instant-apps-social-share__options li .instant-apps-social-share__option-text{width:85%;margin-left:10px;word-break:break-word}:host .instant-apps-social-share__options li:hover{cursor:pointer;background-color:var(--calcite-ui-foreground-2)}:host .instant-apps-social-share__tip{box-sizing:border-box;padding:0 5% 1% 5%}:host .instant-apps-social-share__tip-header{display:flex;align-items:center;color:#007ac2;margin:8px 0 5px 0}:host .instant-apps-social-share__tip-header calcite-icon{margin-right:5px}:host .instant-apps-social-share__tip-content{line-height:17px;margin:0;padding-top:2%}:host .instant-apps-social-share__success{display:flex;flex-direction:column;padding:15px}:host .instant-apps-social-share__success-header{display:flex;align-items:center;font-weight:bold;margin-bottom:10px}:host .instant-apps-social-share__success-icon{display:flex;align-items:center;margin-right:5px}:host .instant-apps-social-share__success-icon calcite-icon{color:var(--calcite-ui-success)}:host .instant-apps-social-share__success-message{line-height:16px}:host .instant-apps-social-share__embed{box-sizing:border-box;width:100%;padding:5%;margin-bottom:10px;border-top:1px solid #d3d3d3}:host .instant-apps-social-share__embed-header{display:flex;align-items:center;margin-bottom:5px}:host .instant-apps-social-share__embed-header calcite-icon{margin-right:5px}:host .instant-apps-social-share__embed-code-text-area{border:1px solid #d3d3d3}:host .instant-apps-social-share__embed-code-text-area textarea{box-sizing:border-box;padding:4%;border:none;resize:none;background:transparent;width:100%;font-family:var(--calcite-sans-family);color:var(--calcite-ui-text-1)}:host .instant-apps-social-share__embed-code-text-area button{display:flex;align-items:center;text-align:start;width:100%;border:none;border-top:1px solid #d3d3d3;background-color:transparent;line-height:16px;font-weight:400;padding:3%;color:var(--calcite-ui-text-1)}:host .instant-apps-social-share__embed-code-text-area button calcite-icon{color:#007ac2;margin-right:3px}:host .instant-apps-social-share__embed-code-text-area button:hover{cursor:pointer;background-color:var(--calcite-ui-foreground-2);transition:background-color 0.15s ease-out 0s}:host .instant-apps-social-share__embed-text-area-text{font-weight:600;color:var(--instant-apps-social-share-embed-text-area-text)}:host .instant-apps-social-share__embed-dimensions{display:flex;justify-content:space-between;margin-top:10px}:host .instant-apps-social-share__embed-dimensions-input{width:47%;box-sizing:border-box}:host .instant-apps-social-share__embed-dimensions-input input{border:1px solid #d3d3d3;width:100%;height:25px;font-family:var(--calcite-sans-family)}:host .instant-apps-social-share__layout--horizontal .instant-apps-social-share__options{display:flex;justify-content:space-around;margin-bottom:8%}:host .instant-apps-social-share__layout--horizontal .instant-apps-social-share__options li{flex-direction:column;padding:0}:host .instant-apps-social-share__layout--horizontal .instant-apps-social-share__options li .instant-apps-social-share__option-text{white-space:nowrap;margin-left:0;margin-top:10px;text-align:center}:host .instant-apps-social-share__layout--horizontal .instant-apps-social-share__options li:hover{background-color:unset}:host([scale=s]) .instant-apps-social-share__dialog{width:var(--instant-apps-social-share-width--s)}:host([scale=s]) .instant-apps-social-share__icon{width:16px;height:16px}:host([scale=s]) .instant-apps-social-share__option-text{font-size:var(--calcite-font-size--1)}:host([scale=s]) .instant-apps-social-share__dialog.instant-apps-social-share__layout--horizontal{width:var(--instant-apps-social-share-width-horizontal--s)}:host([scale=s]) .instant-apps-social-share__tip-header,:host([scale=s]) .instant-apps-social-share__tip-content,:host([scale=s]) .instant-apps-social-share__embed-header,:host([scale=s]) .instant-apps-social-share__embed-dimensions-input{font-size:var(--calcite-font-size--2)}:host([scale=m]) .instant-apps-social-share__dialog{width:var(--instant-apps-social-share-width--m)}:host([scale=m]) .instant-apps-social-share__icon{width:24px;height:24px}:host([scale=m]) .instant-apps-social-share__option-text{font-size:var(--calcite-font-size-0)}:host([scale=m]) .instant-apps-social-share__dialog.instant-apps-social-share__layout--horizontal{width:var(--instant-apps-social-share-width-horizontal--m)}:host([scale=m]) .instant-apps-social-share__tip-header,:host([scale=m]) .instant-apps-social-share__tip-content,:host([scale=m]) .instant-apps-social-share__embed-header,:host([scale=m]) .instant-apps-social-share__embed-dimensions-input{font-size:var(--calcite-font-size--1)}:host([scale=l]) .instant-apps-social-share__dialog{width:var(--instant-apps-social-share-width--l)}:host([scale=l]) .instant-apps-social-share__icon{width:32px;height:32px}:host([scale=l]) .instant-apps-social-share__option-text{font-size:var(--calcite-font-size-1)}:host([scale=l]) .instant-apps-social-share__dialog.instant-apps-social-share__layout--horizontal{width:var(--instant-apps-social-share-width-horizontal--l)}:host([scale=l]) .instant-apps-social-share__tip-header,:host([scale=l]) .instant-apps-social-share__tip-content,:host([scale=l]) .instant-apps-social-share__embed-header,:host([scale=l]) .instant-apps-social-share__embed-dimensions-input{font-size:var(--calcite-font-size-0)}";export{o as instant_apps_header,b as instant_apps_social_share}